var Fabrique,BasketChamps,Utils,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();!function(e){var t=function(){function t(){if(t._instance)throw new Error("Error: Instantiation failed: Use AchievementsManager.getInstance() instead of new");t._instance=this}return t.getInstance=function(){return null===t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(){var t=e.GameVars.getInstance().getLocalStorageData(e.GameConstants.ACHIEVEMENTS_KEY);this.achievementsData=t?JSON.parse(t):{first_match_played:!1,classification_round:!1,tournament_first_round:!1,quarter_final_round:!1,semifinal_round:!1,final_round:!1,ten_baskets_in_a_row:!1,twentyfive_baskets_in_a_row:!1,baskets_in_a_row:0}},t.prototype.matchStart=function(){},t.prototype.matchEnded=function(){if(e.GameConstants.SPONSOR===e.GameConstants.POKI&&PokiSDK.gameplayStop(),e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS)try{miniplaySend2API("baskets_in_a_row",this.achievementsData.baskets_in_a_row)}catch(t){console.log(t)}5!==e.GameVars.getInstance().numMatch||this.achievementsData.tournament_first_round?6!==e.GameVars.getInstance().numMatch||this.achievementsData.quarter_final_round?7!==e.GameVars.getInstance().numMatch||this.achievementsData.semifinal_round?8!==e.GameVars.getInstance().numMatch||this.achievementsData.final_round||(this.achievementsData.final_round=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga007"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("final_round")):(this.achievementsData.semifinal_round=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga006"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("semifinal_round")):(this.achievementsData.quarter_final_round=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga005"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("quarter_final_round")):(this.achievementsData.tournament_first_round=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga004"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("tournament_first_round")),e.GameVars.getInstance().setLocalStorageData(e.GameConstants.ACHIEVEMENTS_KEY,JSON.stringify(this.achievementsData))},t.prototype.classificationPassed=function(){this.achievementsData.classification_round||(this.achievementsData.classification_round=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga003"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("classification_round"),e.GameVars.getInstance().setLocalStorageData(e.GameConstants.ACHIEVEMENTS_KEY,JSON.stringify(this.achievementsData)))},t.prototype.playerShot=function(t){t?(this.achievementsData.baskets_in_a_row++,10<=this.achievementsData.baskets_in_a_row&&!this.achievementsData.ten_baskets_in_a_row?(this.achievementsData.ten_baskets_in_a_row=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga001"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("ten_baskets_in_a_row")):25<=this.achievementsData.baskets_in_a_row&&!this.achievementsData.twentyfive_baskets_in_a_row&&(this.achievementsData.twentyfive_baskets_in_a_row=!0,e.GameConstants.SPONSOR===e.GameConstants.LAGGED?this.setLaggedAchievement("basket_champs_ga002"):e.GameConstants.SPONSOR===e.GameConstants.MINIJUEGOS&&this.setMinijuegosAchievement("twentyfive_baskets_in_a_row"))):this.achievementsData.baskets_in_a_row=0,e.GameVars.getInstance().setLocalStorageData(e.GameConstants.ACHIEVEMENTS_KEY,JSON.stringify(this.achievementsData))},t.prototype.setLaggedAchievement=function(t){var e=[];e.push(t),LaggedAPI.Achievements.save(e,function(t){t.success?console.log("lagged achievement saved"):console.log(t.errormsg)})},t.prototype.setMinijuegosAchievement=function(t){try{miniplaySend2API(t,1)}catch(t){console.log(t)}},t}();t._instance=null,e.AchievementsManager=t}(BasketChamps||(BasketChamps={})),window.onload=function(){if(BasketChamps.GameConstants.SPONSOR===BasketChamps.GameConstants.ADDICTING_GAMES){if(isDomainValid)new BasketChamps.Game}else new BasketChamps.Game;BasketChamps.GameConstants.SPONSOR===BasketChamps.GameConstants.GAMEPIX&&(GamePix.on.pause=function(){BasketChamps.Game.currentInstance.paused=!0},GamePix.on.resume=function(){BasketChamps.Game.currentInstance.paused=!1},GamePix.on.soundOn=function(){BasketChamps.AudioManager.getInstance().isMuted||(BasketChamps.Game.currentInstance.sound.mute=!1)},GamePix.on.soundOff=function(){BasketChamps.Game.currentInstance.sound.mute=!0})},function(a){var t=function(){function t(){if(t._instance)throw new Error("Error: Instantiation failed: Use GameVars.getInstance() instead of new");t._instance=this}return t.getInstance=function(){return null===t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this.game=t,this.loopPlayingKey=null,this.audioSprite=this.game.add.audioSprite("audio-sprite");var e=a.GameVars.getInstance().getLocalStorageData(a.GameConstants.AUDIO_STATE_KEY);this.isMuted=""!==e&&JSON.parse(e),this.game.sound.mute=this.isMuted},t.prototype.mute=function(){this.isMuted=!0,this.game.sound.mute=!0,a.GameVars.getInstance().setLocalStorageData(a.GameConstants.AUDIO_STATE_KEY,JSON.stringify(this.isMuted))},t.prototype.unmute=function(){this.isMuted=!1,this.game.sound.mute=!1,a.GameVars.getInstance().setLocalStorageData(a.GameConstants.AUDIO_STATE_KEY,JSON.stringify(this.isMuted))},t.prototype.playSound=function(t,e,a){e=e||!1,this.audioSprite.play(t,a),e&&(this.loopPlayingKey&&this.loopPlayingKey!==t&&this.stopSound(this.loopPlayingKey,!1,!0),this.loopPlayingKey=t)},t.prototype.stopSound=function(t,e,a){if(null!=t){if(e)this.audioSprite.get(t).fadeOut(850);else this.audioSprite.stop(t);a&&(this.loopPlayingKey=null)}},t}();t._instance=null,a.AudioManager=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(e){function a(){var t=e.call(this,n.GameConstants.GAME_WIDTH,n.GameConstants.GAME_HEIGHT,Phaser.AUTO,"content",null,!1,!0)||this;return(a.currentInstance=t).state.add("Boot",n.Boot,!0),t.state.add("PreLoader",n.PreLoader,!1),t.state.add("SplashState",n.SplashState,!1),t.state.add("BasketballCourtState",n.BasketballCourtState,!1),t.state.add("CreditsState",n.CreditsState,!1),t}return __extends(a,e),a}(Phaser.Game);n.Game=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(){};e.VERSION="1.4",e.ASSETS_PATH="assets",e.DEVELOPMENT=!1,e.SHOW_PHYSICS_BODIES=!1,e.DRAG_BALL_WITH_MOUSE=!1,e.GAMEPIX="gamepix",e.LAGGED="lagged.com",e.MINIJUEGOS="minijuegos",e.IZZYGAMES="izzygames",e.KIZI="kizi",e.FUNO="funo",e.ADDICTING_GAMES="addictinggames.com",e.POKI="poki",e.NONE="sponsor",e.SPONSOR=e.POKI,e.LINK_MINIJUEGOS="http://www.minijuegos.com/helpers/game/findAndPlay.php?game=basket-champs",e.LINK_MINIJUEGOS_MORE_BASKET_GAMES="http://mnj.gs/basket",e.LINK_ADDICTINGGAMES="http://www.addictinggames.com",e.MOV_HOR=!1,e.MOV_VER=!1,e.GAME_WIDTH=600,e.GAME_HEIGHT=375,e.EASY_GAME=!1,e.NUM_ROUNDS=5,e.BALL_ID="ball",e.TIME_FADE=500,e.VERT_MOV_SLOW=.3,e.VERT_MOV_FAST=.6,e.HOR_MOV_SLOW=.3,e.HOR_MOV_FAST=.6,e.PIXELS_MOV_VERT=75,e.PIXELS_MOV_HOR=30,e.MY_TEAM_ID_KEY="bc_myTeamID",e.MY_GROUP_ID_KEY="bc_myGroupID",e.GROUP_LOSES_KEY="bc_groupLoses",e.GROUP_WINS_KEY="bc_groupWins",e.NUM_MATCH_KEY="bc_numMatch",e.OCT_FINAL_KEY="bc_octFinal",e.CUART_FINAL_KEY="bc_cuartFinal",e.SEMI_FINAL_KEY="bc_semiFinal",e.FINAL_KEY="bc_final",e.MATCH_RESULTS_KEY="bc_matchResults",e.TRAJECTORY_HELP_KEY="bc_trajectoryHelp",e.FIRST_SUDDEN_KEY="bc_firstSuddenDeath",e.AUDIO_STATE_KEY="bc_audio_state",e.ACHIEVEMENTS_KEY="bc_achievements",e.RESET_TOURNAMENT="bc_resetTournament",t.GameConstants=e}(BasketChamps||(BasketChamps={})),function(t){var e=function(){function e(){if(e._instance)throw new Error("Error: Instantiation failed: Use GameVars.getInstance() instead of new");e._instance=this}return e.getInstance=function(){return null===e._instance&&(e._instance=new e),e._instance},e.prototype.init=function(t){this.game=t},e.prototype.formatNumber=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.prototype.getLocalStorageData=function(t){if(9===this.game.device.ieVersion)return"";var e=localStorage.getItem(t);return null!==e?e:""},e.prototype.setLocalStorageData=function(t,e){9!==this.game.device.ieVersion&&localStorage.setItem(t,e)},Object.defineProperty(e.prototype,"playerPoints",{get:function(){return this._playerPoints},set:function(t){this._playerPoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AIPoints",{get:function(){return this._AIPoints},set:function(t){this._AIPoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"myTeamID",{get:function(){return this._myTeamID},set:function(t){this._myTeamID=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numMatch",{get:function(){return this._numMatch},set:function(t){this._numMatch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"myGroupID",{get:function(){return this._myGroupID},set:function(t){this._myGroupID=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resetTournament",{get:function(){return this._resetTournament},set:function(t){this._resetTournament=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayerTurn",{get:function(){return this._isPlayerTurn},set:function(t){this._isPlayerTurn=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchFinished",{get:function(){return this._matchFinished},set:function(t){this._matchFinished=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trajectoryHelp",{get:function(){return this._trajectoryHelp},set:function(t){this._trajectoryHelp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstSuddenDeath",{get:function(){return this._firstSuddenDeath},set:function(t){this._firstSuddenDeath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"teamsData",{get:function(){return this._teamsData},set:function(t){this._teamsData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupsData",{get:function(){return this._groupsData},set:function(t){this._groupsData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchsData",{get:function(){return this._matchsData},set:function(t){this._matchsData=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupWins",{get:function(){return this._groupWins},set:function(t){this._groupWins=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupLoses",{get:function(){return this._groupLoses},set:function(t){this._groupLoses=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"octFinal",{get:function(){return this._octFinal},set:function(t){this._octFinal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cuartFinal",{get:function(){return this._cuartFinal},set:function(t){this._cuartFinal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"semFinal",{get:function(){return this._semFinal},set:function(t){this._semFinal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"final",{get:function(){return this._final},set:function(t){this._final=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchResults",{get:function(){return this._matchResults},set:function(t){this._matchResults=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentVerticalMovement",{get:function(){return this._currentVerticalMovement},set:function(t){this._currentVerticalMovement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentHorizontalMovement",{get:function(){return this._currentHorizontalMovement},set:function(t){this._currentHorizontalMovement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"laggedAdsCounter",{get:function(){return this._laggedAdsCounter},set:function(t){this._laggedAdsCounter=t},enumerable:!0,configurable:!0}),e.prototype.playerIDtoGroupID=function(){return"A"===e.getInstance().myGroupID?e.getInstance().myTeamID-1:"B"===e.getInstance().myGroupID?e.getInstance().myTeamID-7:"C"===e.getInstance().myGroupID?e.getInstance().myTeamID-13:"D"===e.getInstance().myGroupID?e.getInstance().myTeamID-19:void 0},e.prototype.IDtoGroupID=function(t){return"A"===e.getInstance().myGroupID?t-1:"B"===e.getInstance().myGroupID?t+5:"C"===e.getInstance().myGroupID?t+11:"D"===e.getInstance().myGroupID?t+17:void 0},e.prototype.GroupIDtoID=function(t){return"A"===e.getInstance().myGroupID?t:"B"===e.getInstance().myGroupID?t-6:"C"===e.getInstance().myGroupID?t-12:"D"===e.getInstance().myGroupID?t-18:void 0},e.prototype.selectGroupID=function(){return"A"===e.getInstance().myGroupID?0:"B"===e.getInstance().myGroupID?1:"C"===e.getInstance().myGroupID?2:"D"===e.getInstance().myGroupID?3:void 0},e.prototype.oponentPlayer=function(){if(e.getInstance().numMatch<5){if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match1[0])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match1[1]);if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match1[1])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match1[0]);if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match2[0])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match2[1]);if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match2[1])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match2[0]);if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match3[0])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match3[1]);if(this.playerIDtoGroupID()+1===e.getInstance().matchsData[e.getInstance().numMatch].match3[1])return this.IDtoGroupID(e.getInstance().matchsData[e.getInstance().numMatch].match3[0])}else if(5===e.getInstance().numMatch){for(var t=0;t<16;t++)if(e.getInstance().octFinal[t]===e.getInstance().myTeamID)return t%2==0?e.getInstance().octFinal[t+1]-1:e.getInstance().octFinal[t-1]-1}else if(6===e.getInstance().numMatch){for(t=0;t<8;t++)if(e.getInstance().cuartFinal[t]===e.getInstance().myTeamID)return t%2==0?e.getInstance().cuartFinal[t+1]-1:e.getInstance().cuartFinal[t-1]-1}else if(7===e.getInstance().numMatch){for(t=0;t<4;t++)if(e.getInstance().semFinal[t]===e.getInstance().myTeamID)return t%2==0?e.getInstance().semFinal[t+1]-1:e.getInstance().semFinal[t-1]-1}else if(8===e.getInstance().numMatch)for(t=0;t<2;t++)if(e.getInstance().final[t]===e.getInstance().myTeamID)return t%2==0?e.getInstance().final[t+1]-1:e.getInstance().final[t-1]-1},e}();e._instance=null,t.GameVars=e}(BasketChamps||(BasketChamps={})),function(o){var t=function(s){function i(t){var e=s.call(this,t,null,"stage-container",!1)||this;(i.currentInstance=e).ballTop=!0,e.efectTop=!1,e.game.physics.startSystem(Phaser.Physics.BOX2D),e.game.physics.box2d.frameRate=1/60,e.game.physics.box2d.gravity.y=700,e.game.physics.box2d.paused=!1,e.game.physics.box2d.setBoundsToWorld(!1,!1,!1,!1);var a=Math.floor(300*Math.random()+200),n=Math.floor(150*Math.random()+100);return e.basket=new o.Basket(e.game,0,0),e.addChild(e.basket),e.reflectionBall=new o.ReflectionBall(e.game,a,340),e.addChild(e.reflectionBall),e.basketFront=new o.BasketFront(e.game),e.addChild(e.basketFront),e.efectsContainer=new o.EfectsContainer(e.game),e.addChild(e.efectsContainer),e.ball=new o.Ball(e.game,a,n),e.addChild(e.ball),e.basket.hoop.body.setFixtureContactCallback(e.basket.hoop.circleOne,e.basket.hoop.hoopCallback,e.basket.hoop),e.basket.hoop.body.setFixtureContactCallback(e.basket.hoop.circleTwo,e.basket.hoop.hoopCallback,e.basket.hoop),e.basketNet=new o.BasketNet(e.game,200,200),e.addChild(e.basketNet),e.hoopFront=new o.HoopFront(e.game),e.addChild(e.hoopFront),e.courtWalls=new o.CourtWalls(e.game),e.addChild(e.courtWalls),e.trajectory=new o.Trajectory(e.game),e.addChild(e.trajectory),e}return __extends(i,s),i.prototype.destroy=function(t,e){i.currentInstance=null,s.prototype.destroy.call(this,t,e)},i.prototype.pause=function(){this.game.physics.box2d.paused=!0,this.trajectory.pause(),this.ball.pause(),this.basketFront.pause(),o.HUD.currentInstance.initialCount.pause(),o.BackgroundManager.currentInstance.spectatorsManager.pause(),o.AudioManager.getInstance().isMuted||(this.game.sound.volume=.5)},i.prototype.resume=function(){this.game.physics.box2d.paused=!1,o.GameVars.getInstance().isPlayerTurn&&this.trajectory.resume(),this.ball.resume(),this.basketFront.resume(),o.HUD.currentInstance.initialCount.resume(),o.BackgroundManager.currentInstance.spectatorsManager.resume(),o.AudioManager.getInstance().isMuted||(this.game.sound.volume=1)},i.prototype.basketFrontTop=function(){this.ballTop&&(this.ballTop=!1,this.swap(this.ball,this.basketFront))},i.prototype.ballToTop=function(){this.ballTop||(this.ballTop=!0,this.swap(this.ball,this.basketFront))},i.prototype.efectFrontBall=function(){this.efectTop||(this.efectTop=!0,this.swap(this.efectsContainer,this.ball),this.swap(this.efectsContainer,this.hoopFront),this.swap(this.basketNet,this.hoopFront))},i.prototype.ballFrontEfect=function(){this.efectTop&&(this.efectTop=!1,this.swap(this.basketNet,this.hoopFront),this.swap(this.hoopFront,this.efectsContainer),this.swap(this.ball,this.efectsContainer))},i}(Phaser.Group);o.StageContainer=t}(BasketChamps||(BasketChamps={})),function(o){var t=function(){function t(){if(t._instance)throw new Error("Error: Instantiation failed: Use TournamentModel.getInstance() instead of new.");t._instance=this}return t.getInstance=function(){return null===t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this.game=t,this.noEasyMode()&&(o.GameVars.getInstance().trajectoryHelp=!1),o.GameVars.getInstance().myTeamID=this.myTeam(),o.GameVars.getInstance().numMatch=this.numMatch(),o.GameVars.getInstance().myGroupID=this.myGroup(),o.GameVars.getInstance().groupWins=this.groupWins(),o.GameVars.getInstance().groupLoses=this.groupLoses(),o.GameVars.getInstance().octFinal=this.octFinal(),o.GameVars.getInstance().cuartFinal=this.cuartFinal(),o.GameVars.getInstance().semFinal=this.semFinal(),o.GameVars.getInstance().final=this.final(),o.GameVars.getInstance().matchFinished=!1,o.GameVars.getInstance().firstSuddenDeath=this.firstSuddenDeath(),o.GameVars.getInstance().matchResults=this.getResultsMatchs(),o.GameVars.getInstance().resetTournament=this.resetTournament(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.RESET_TOURNAMENT,JSON.stringify(o.GameVars.getInstance().resetTournament)),o.GameConstants.SPONSOR===o.GameConstants.LAGGED?o.GameVars.getInstance().laggedAdsCounter=0:o.GameVars.getInstance().laggedAdsCounter=null,o.GameVars.getInstance().currentVerticalMovement=o.GameConstants.VERT_MOV_SLOW},t.prototype.removeFlags=function(){o.BackgroundManager.currentInstance.removeFlags()},t.prototype.resetTournament=function(){return""!==o.GameVars.getInstance().getLocalStorageData(o.GameConstants.RESET_TOURNAMENT)&&JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.RESET_TOURNAMENT))},t.prototype.getResultsMatchs=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MATCH_RESULTS_KEY)?[0,0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MATCH_RESULTS_KEY))},t.prototype.setResultsMatchs=function(){o.GameVars.getInstance().setLocalStorageData(o.GameConstants.MATCH_RESULTS_KEY,JSON.stringify(o.GameVars.getInstance().matchResults))},t.prototype.changeEasyMode=function(){var t=o.GameVars.getInstance().getLocalStorageData(o.GameConstants.TRAJECTORY_HELP_KEY),e=parseInt(t);""===t?o.GameVars.getInstance().setLocalStorageData(o.GameConstants.TRAJECTORY_HELP_KEY,"1"):e<2?(e++,o.GameVars.getInstance().setLocalStorageData(o.GameConstants.TRAJECTORY_HELP_KEY,e.toString())):2===e&&(e++,o.GameVars.getInstance().setLocalStorageData(o.GameConstants.TRAJECTORY_HELP_KEY,e.toString()),o.GameVars.getInstance().trajectoryHelp=!1)},t.prototype.firstSuddenDeath=function(){var t=o.GameVars.getInstance().getLocalStorageData(o.GameConstants.FIRST_SUDDEN_KEY);return""===t?(o.GameVars.getInstance().setLocalStorageData(o.GameConstants.FIRST_SUDDEN_KEY,"0"),!0):"0"===t},t.prototype.noEasyMode=function(){var t=o.GameVars.getInstance().getLocalStorageData(o.GameConstants.TRAJECTORY_HELP_KEY);return 3===parseInt(t)},t.prototype.myTeam=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MY_TEAM_ID_KEY)?0:parseInt(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MY_TEAM_ID_KEY))},t.prototype.numMatch=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.NUM_MATCH_KEY)?0:parseInt(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.NUM_MATCH_KEY))},t.prototype.myGroup=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MY_GROUP_ID_KEY)?"X":o.GameVars.getInstance().getLocalStorageData(o.GameConstants.MY_GROUP_ID_KEY)},t.prototype.groupWins=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.GROUP_WINS_KEY)?[0,0,0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.GROUP_WINS_KEY))},t.prototype.groupLoses=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.GROUP_LOSES_KEY)?[0,0,0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.GROUP_LOSES_KEY))},t.prototype.octFinal=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.OCT_FINAL_KEY)?[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.OCT_FINAL_KEY))},t.prototype.cuartFinal=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.CUART_FINAL_KEY)?[0,0,0,0,0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.CUART_FINAL_KEY))},t.prototype.semFinal=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.SEMI_FINAL_KEY)?[0,0,0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.SEMI_FINAL_KEY))},t.prototype.final=function(){return""===o.GameVars.getInstance().getLocalStorageData(o.GameConstants.FINAL_KEY)?[0,0]:JSON.parse(o.GameVars.getInstance().getLocalStorageData(o.GameConstants.FINAL_KEY))},t.prototype.selectMyTeam=function(t){var e;o.GameVars.getInstance().setLocalStorageData(o.GameConstants.MY_TEAM_ID_KEY,t),e=(o.GameVars.getInstance().myTeamID=t)<=6?"A":t<=12?"B":t<=18?"C":"D",o.GameVars.getInstance().setLocalStorageData(o.GameConstants.MY_GROUP_ID_KEY,e),o.GameVars.getInstance().myGroupID=e,o.BasketballCourtState.currentInstance.classificationLayer.setGroup();var a=[0,0,0,0,0,0];o.GameVars.getInstance().setLocalStorageData(o.GameConstants.GROUP_WINS_KEY,JSON.stringify(a)),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.GROUP_LOSES_KEY,JSON.stringify(a))},t.prototype.processJSONData=function(){o.GameVars.getInstance().teamsData=this.game.cache.getJSON("tournament-data").teams,o.GameVars.getInstance().groupsData=this.game.cache.getJSON("tournament-data").groups,o.GameVars.getInstance().matchsData=this.game.cache.getJSON("tournament-data").matchs},t.prototype.backToGroupFase=function(){o.GameVars.getInstance().numMatch=5,o.GameVars.getInstance().setLocalStorageData(o.GameConstants.NUM_MATCH_KEY,JSON.stringify(o.GameVars.getInstance().numMatch)),localStorage.removeItem(o.GameConstants.CUART_FINAL_KEY),localStorage.removeItem(o.GameConstants.SEMI_FINAL_KEY),localStorage.removeItem(o.GameConstants.FINAL_KEY),localStorage.removeItem(o.GameConstants.RESET_TOURNAMENT),o.GameVars.getInstance().cuartFinal=this.cuartFinal(),o.GameVars.getInstance().semFinal=this.semFinal(),o.GameVars.getInstance().final=this.final(),o.GameVars.getInstance().resetTournament=this.resetTournament(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.RESET_TOURNAMENT,JSON.stringify(o.GameVars.getInstance().resetTournament))},t.prototype.deleteLocalStorage=function(){localStorage.removeItem(o.GameConstants.MY_TEAM_ID_KEY),localStorage.removeItem(o.GameConstants.MY_GROUP_ID_KEY),localStorage.removeItem(o.GameConstants.GROUP_LOSES_KEY),localStorage.removeItem(o.GameConstants.GROUP_WINS_KEY),localStorage.removeItem(o.GameConstants.NUM_MATCH_KEY),localStorage.removeItem(o.GameConstants.OCT_FINAL_KEY),localStorage.removeItem(o.GameConstants.CUART_FINAL_KEY),localStorage.removeItem(o.GameConstants.SEMI_FINAL_KEY),localStorage.removeItem(o.GameConstants.FINAL_KEY),localStorage.removeItem(o.GameConstants.MATCH_RESULTS_KEY),localStorage.removeItem(o.GameConstants.RESET_TOURNAMENT),o.GameVars.getInstance().myTeamID=this.myTeam(),o.GameVars.getInstance().numMatch=this.numMatch(),o.GameVars.getInstance().myGroupID=this.myGroup(),o.GameVars.getInstance().groupWins=this.groupWins(),o.GameVars.getInstance().groupLoses=this.groupLoses(),o.GameVars.getInstance().octFinal=this.octFinal(),o.GameVars.getInstance().cuartFinal=this.cuartFinal(),o.GameVars.getInstance().semFinal=this.semFinal(),o.GameVars.getInstance().final=this.final(),o.GameVars.getInstance().matchResults=this.getResultsMatchs(),o.GameVars.getInstance().resetTournament=this.resetTournament(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.RESET_TOURNAMENT,JSON.stringify(o.GameVars.getInstance().resetTournament))},t.prototype.nextMatch=function(t){o.MatchManager.currentInstance.newMatch(),t?o.MatchManager.currentInstance.showClassification(1):o.MatchManager.currentInstance.showClassification(2),o.StageContainer.currentInstance.ball.resetBall(),o.StageContainer.currentInstance.ball.pause()},t.prototype.matchResults=function(){var t,e=0<o.GameVars.getInstance().playerPoints-o.GameVars.getInstance().AIPoints;if(o.GameVars.getInstance().numMatch<5){var a=o.GameVars.getInstance().numMatch;o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[a].match1[0]&&o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[a].match1[1]&&((t=Math.floor(100*Math.random()))<50?(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match1[0]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match1[1]-1]++):(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match1[1]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match1[0]-1]++)),o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[0]&&o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[1]&&((t=Math.floor(100*Math.random()))<50?(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[0]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[1]-1]++):(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[1]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match2[0]-1]++)),o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[0]&&o.GameVars.getInstance().playerIDtoGroupID()+1!==o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[1]&&((t=Math.floor(100*Math.random()))<50?(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[0]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[1]-1]++):(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[1]-1]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().matchsData[o.GameVars.getInstance().numMatch].match3[0]-1]++)),e?(o.GameVars.getInstance().groupWins[o.GameVars.getInstance().playerIDtoGroupID()]++,o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().GroupIDtoID(o.GameVars.getInstance().oponentPlayer())]++):(o.GameVars.getInstance().groupLoses[o.GameVars.getInstance().playerIDtoGroupID()]++,o.GameVars.getInstance().groupWins[o.GameVars.getInstance().GroupIDtoID(o.GameVars.getInstance().oponentPlayer())]++),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.GROUP_LOSES_KEY,JSON.stringify(o.GameVars.getInstance().groupLoses)),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.GROUP_WINS_KEY,JSON.stringify(o.GameVars.getInstance().groupWins))}else if(5===o.GameVars.getInstance().numMatch){for(var n=0;n<8;n++)o.GameVars.getInstance().octFinal[2*n]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().cuartFinal[n]=o.GameVars.getInstance().octFinal[2*n]:o.GameVars.getInstance().octFinal[2*n+1]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().cuartFinal[n]=o.GameVars.getInstance().octFinal[2*n+1]:(t=Math.floor(100*Math.random()),o.GameVars.getInstance().cuartFinal[n]=t<50?o.GameVars.getInstance().octFinal[2*n]:o.GameVars.getInstance().octFinal[2*n+1]);o.GameVars.getInstance().setLocalStorageData(o.GameConstants.CUART_FINAL_KEY,JSON.stringify(o.GameVars.getInstance().cuartFinal))}else if(6===o.GameVars.getInstance().numMatch){for(n=0;n<4;n++)o.GameVars.getInstance().cuartFinal[2*n]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().semFinal[n]=o.GameVars.getInstance().cuartFinal[2*n]:o.GameVars.getInstance().cuartFinal[2*n+1]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().semFinal[n]=o.GameVars.getInstance().cuartFinal[2*n+1]:(t=Math.floor(100*Math.random()),o.GameVars.getInstance().semFinal[n]=t<50?o.GameVars.getInstance().cuartFinal[2*n]:o.GameVars.getInstance().cuartFinal[2*n+1]);o.GameVars.getInstance().setLocalStorageData(o.GameConstants.SEMI_FINAL_KEY,JSON.stringify(o.GameVars.getInstance().semFinal))}else if(7===o.GameVars.getInstance().numMatch){for(n=0;n<2;n++)o.GameVars.getInstance().semFinal[2*n]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().final[n]=o.GameVars.getInstance().semFinal[2*n]:o.GameVars.getInstance().semFinal[2*n+1]===o.GameVars.getInstance().myTeamID?o.GameVars.getInstance().final[n]=o.GameVars.getInstance().semFinal[2*n+1]:(t=Math.floor(100*Math.random()),o.GameVars.getInstance().final[n]=t<50?o.GameVars.getInstance().semFinal[2*n]:o.GameVars.getInstance().semFinal[2*n+1]);o.GameVars.getInstance().setLocalStorageData(o.GameConstants.FINAL_KEY,JSON.stringify(o.GameVars.getInstance().final))}o.GameVars.getInstance().numMatch++,o.GameVars.getInstance().setLocalStorageData(o.GameConstants.NUM_MATCH_KEY,o.GameVars.getInstance().numMatch.toString())},t.prototype.showRound2=function(t){this.groupWinners(t),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.OCT_FINAL_KEY,JSON.stringify(o.GameVars.getInstance().octFinal)),o.GameVars.getInstance().cuartFinal=this.cuartFinal(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.CUART_FINAL_KEY,JSON.stringify(o.GameVars.getInstance().cuartFinal)),o.GameVars.getInstance().semFinal=this.semFinal(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.SEMI_FINAL_KEY,JSON.stringify(o.GameVars.getInstance().semFinal)),o.GameVars.getInstance().final=this.final(),o.GameVars.getInstance().setLocalStorageData(o.GameConstants.FINAL_KEY,JSON.stringify(o.GameVars.getInstance().final)),o.BasketballCourtState.currentInstance.tournamentLayer.showTournament()},t.prototype.groupWinners=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<4;a++)if(o.GameVars.getInstance().IDtoGroupID(t[a].id+1)+1===o.GameVars.getInstance().myTeamID){var n=e[0];e[4*a]=n,e[0]=o.GameVars.getInstance().IDtoGroupID(t[a].id+1)+1}else e[4*a]=o.GameVars.getInstance().IDtoGroupID(t[a].id+1)+1;var s=1;if("A"!==o.GameVars.getInstance().myGroupID){i=(i=Phaser.ArrayUtils.shuffle([0,1,2,3,4,5])).slice(1,5);for(a=0;a<4;a++)e[4*a+s]=i[a]+1;s++}if("B"!==o.GameVars.getInstance().myGroupID){i=(i=Phaser.ArrayUtils.shuffle([0,1,2,3,4,5])).slice(1,5);for(a=0;a<4;a++)e[4*a+s]=i[a]+1+6;s++}if("C"!==o.GameVars.getInstance().myGroupID){i=(i=Phaser.ArrayUtils.shuffle([0,1,2,3,4,5])).slice(1,5);for(a=0;a<4;a++)e[4*a+s]=i[a]+1+12;s++}if("D"!==o.GameVars.getInstance().myGroupID){var i;i=(i=Phaser.ArrayUtils.shuffle([0,1,2,3,4,5])).slice(1,5);for(a=0;a<4;a++)e[4*a+s]=i[a]+1+18;s++}o.GameVars.getInstance().octFinal=e},t}();t._instance=null,o.TournamentManager=t}(BasketChamps||(BasketChamps={})),function(c){var t=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","basket_ball0001.png")||this;return n.game.physics.box2d.enable(n),n.body.setCircle(n.width/2),n.body.restitution=.75,n.body.type.dynamic=!0,n.anchor.set(.5),n.initialX=e,n.initialY=a,n.time=0,n.needReset=!1,n.onShot=!1,n.onPause=!0,n.onTween=!1,n.trajectoryReady=!0,n.firstShotSudden=!1,n.body.gravityScale=0,n.body.collideWorldBounds=!1,n.waitIACount=0,n.visible=!1,n.animations.add("spin",Phaser.Animation.generateFrameNames("basket_ball",13,1,".png",4)),n.body.setBodyContactCallback(c.StageContainer.currentInstance.basket.backboard.body,n.backboardCallback,n),n.body.setBodyContactCallback(c.StageContainer.currentInstance.basket.post.body,n.backboardCallback,n),c.GameConstants.DRAG_BALL_WITH_MOUSE&&(n.game.input.onDown.add(n.mouseDragStart,n),n.game.input.addMoveCallback(n.mouseDragMove,n),n.game.input.onUp.add(n.mouseDragEnd,n)),n}return __extends(t,s),t.prototype.update=function(){if(!this.needReset||this.onTween||c.MatchManager.currentInstance.onSuddenDeath||(this.onTween=!0,this.tweenBallFinished()),!c.GameVars.getInstance().isPlayerTurn&&!this.onShot&&!this.onPause){var t=105;if(c.MatchManager.currentInstance.lastPoints&&(t+=75),this.waitIACount>t){this.animations.stop();var e=c.IA.currentInstance.getLaunchVelocity();this.body.velocity.x=e.x,this.body.velocity.y=e.y,this.body.gravityScale=1,this.body.angularVelocity=-.01*(e.x+e.y),this.onShot=!0,this.waitIACount=0,c.AudioManager.getInstance().playSound("shot_01")}else this.waitIACount++}},t.prototype.fireBall=function(){if(c.GameVars.getInstance().isPlayerTurn&&this.trajectoryReady&&!this.onShot&&!this.onPause&&this.game.input.activePointer.x<=this.initialX){this.animations.stop();var t=this.getLaunchVelocity();this.body.velocity.x=t.x,this.body.velocity.y=t.y,this.body.gravityScale=1,this.body.angularVelocity=-.01*(t.x+t.y),this.onShot=!0,c.AudioManager.getInstance().playSound("shot_02")}},t.prototype.getLaunchVelocity=function(){var t=this.game.input.activePointer.x,e=this.game.input.activePointer.y;this.game.device.desktop||(e-=50),e+40>this.initialY&&(e=this.initialY-40),t+50>this.initialX&&(t=this.initialX-50);var a=-Math.sqrt(2*this.game.physics.box2d.gravity.y*Math.abs(e-this.initialY)),n=(e-this.initialY)/(t-this.initialX),s=Math.atan(n),i=Math.cos(s)*a/Math.sin(s);return i/=2,this.time=a/Math.sin(s)*2*Math.sin(s)*-60/this.game.physics.box2d.gravity.y,{x:i,y:a}},t.prototype.resetBall=function(){this.needReset=!0,this.onShot=!1,this.trajectoryReady=!1,c.StageContainer.currentInstance.basket.hoop.anuleSensorOne=!1,c.StageContainer.currentInstance.basket.hoop.sensorOnePassed=!1,c.GameVars.getInstance().isPlayerTurn?(this.initialX=Math.floor(250*Math.random()+250),this.initialY=Math.floor(150*Math.random()+100),c.StageContainer.currentInstance.trajectory.resume()):c.StageContainer.currentInstance.trajectory.pause(),c.AudioManager.getInstance().playSound("smoke")},t.prototype.tweenBallFinished=function(){this.body.velocity.x=0,this.body.velocity.y=0,this.body.angularVelocity=0,this.body.gravityScale=0,this.body.angle=0,this.needReset=!1,this.onTween=!1,this.visible=!1,c.MatchManager.currentInstance.turnTab(c.GameVars.getInstance().isPlayerTurn),this.firstShotSudden?this.firstShotSudden=!1:c.StageContainer.currentInstance.efectsContainer.finishEfectBall(this.body.x,this.body.y),this.game.time.events.add(1e3,function(){this.body.x=this.initialX,this.body.y=this.initialY,this.visible=!0,this.rand=Math.floor(15*Math.random()+15),this.play("spin",this.rand,!0),c.MatchManager.currentInstance.changeFlag(),c.StageContainer.currentInstance.efectsContainer.initEfectBall(this.body.x,this.body.y),c.MatchManager.currentInstance.rebounds=0},this)},t.prototype.tweenBallFinished2=function(){this.visible&&c.StageContainer.currentInstance.ballToTop(),this.trajectoryReady=!0},t.prototype.getOnShot=function(){return this.onShot},t.prototype.pause=function(){this.animations.stop(),this.onPause=!0},t.prototype.resume=function(){this.rand=Math.floor(15*Math.random()+15),this.play("spin",this.rand,!0),this.onPause=!1},t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.mousePointer)},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseDragMove(this.game.input.mousePointer)},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.backboardCallback=function(t,e,a,n,s,i){if(s){0===c.StageContainer.currentInstance.courtWalls.numCount&&c.StageContainer.currentInstance.courtWalls.numCount++,c.MatchManager.currentInstance.rebounds++;var o=Math.sqrt(this.body.velocity.x*this.body.velocity.x+this.body.velocity.y*this.body.velocity.y);if(200<o){var r=new box2d.b2WorldManifold;i.GetWorldManifold(r);var h=r.points[0];h.SelfMul(-this.game.physics.box2d.ptmRatio),c.StageContainer.currentInstance.efectsContainer.newImpact(h.x,h.y,o)}}},t}(Phaser.Sprite);c.Ball=t}(BasketChamps||(BasketChamps={})),function(i){var t=function(a){function t(t){var e=a.call(this,t,0,0,"texture_atlas_1","front.png")||this;return e.game.physics.box2d.enable(e),e.body.static=!0,e.anchor.set(0),e.sensor=e.body.setRectangle(5,100,40,-20),e.sensor.SetSensor(!0),e.body.setFixtureContactCallback(e.sensor,e.sensorCallback,e),e.move_up=1,e.move_left=1,e}return __extends(t,a),t.prototype.update=function(){a.prototype.update.call(this),i.GameConstants.MOV_VER&&(this.y>i.GameConstants.PIXELS_MOV_VERT?this.move_up=-1:this.y<0&&(this.move_up=1),this.body.y+=this.move_up*i.GameVars.getInstance().currentVerticalMovement),i.GameConstants.MOV_HOR&&(this.x>i.GameConstants.PIXELS_MOV_HOR?(i.StageContainer.currentInstance.basket.post.wheels.play("anim2",25,!0),this.move_left=-1):this.x<0&&(i.StageContainer.currentInstance.basket.post.wheels.play("anim1",25,!0),this.move_left=1),this.body.x+=this.move_left*i.GameVars.getInstance().currentHorizontalMovement),i.StageContainer.currentInstance.basket.hoop.body.x=this.body.x,i.StageContainer.currentInstance.basket.hoop.body.y=this.body.y,i.StageContainer.currentInstance.basket.backboard.body.x=this.body.x,i.StageContainer.currentInstance.basket.backboard.body.y=this.body.y,i.StageContainer.currentInstance.hoopFront.body.x=this.body.x,i.StageContainer.currentInstance.hoopFront.body.y=this.body.y,i.StageContainer.currentInstance.basket.post.body.x=this.body.x,i.StageContainer.currentInstance.basketNet.body.x=this.body.x+84,i.StageContainer.currentInstance.basketNet.body.y=this.body.y+160},t.prototype.sensorCallback=function(t,e,a,n,s){s&&i.StageContainer.currentInstance.basketFrontTop()},t.prototype.resetBasket=function(){var t=this.game.add.tween(this.body);t.to({x:0,y:0},1e3,Phaser.Easing.Quadratic.Out,!1),t.start()},t.prototype.pause=function(){i.GameConstants.MOV_HOR=!1,i.GameConstants.MOV_VER=!1},t.prototype.resume=function(){i.HUD.currentInstance.initialCount.onCount||!1!==i.BasketballCourtState.currentInstance.tournamentLayer.visible||!1!==i.BasketballCourtState.currentInstance.classificationLayer.visible||!1!==i.HUD.currentInstance.finishMatch.visible||i.MatchManager.currentInstance.startMoveBasket()},t}(Phaser.Sprite);i.BasketFront=t}(BasketChamps||(BasketChamps={})),function(o){var t=function(a){function t(t){var e=a.call(this,t,null,"stage-walls")||this;return e.numCount=0,e.wallTouched=!1,e.leftWall=new Phaser.Sprite(e.game,0,0),e.leftWall.visible=!1,e.rightWall=new Phaser.Sprite(e.game,0,0),e.rightWall.visible=!1,e.bottomWall=new Phaser.Sprite(e.game,0,0),e.bottomWall.visible=!1,e.game.physics.box2d.enable(e.leftWall),e.game.physics.box2d.enable(e.rightWall),e.game.physics.box2d.enable(e.bottomWall),e.leftWall.body.setRectangle(100,4*o.GameConstants.GAME_HEIGHT,-100,o.GameConstants.GAME_HEIGHT/2),e.rightWall.body.setRectangle(100,4*o.GameConstants.GAME_HEIGHT,o.GameConstants.GAME_WIDTH+100,o.GameConstants.GAME_HEIGHT/2),e.bottomWall.body.setRectangle(2*o.GameConstants.GAME_WIDTH,300,o.GameConstants.GAME_WIDTH/2,505),e.leftWall.body.static=!0,e.rightWall.body.static=!0,e.bottomWall.body.static=!0,e.leftWall.body.sensor=!0,e.rightWall.body.sensor=!0,e.leftWall.body.setBodyContactCallback(o.StageContainer.currentInstance.ball.body,e.sensorCallback,e),e.rightWall.body.setBodyContactCallback(o.StageContainer.currentInstance.ball.body,e.sensorCallback,e),e.bottomWall.body.setBodyContactCallback(o.StageContainer.currentInstance.ball.body,e.sensorBottomCallback,e),e}return __extends(t,a),t.prototype.sensorCallback=function(t,e,a,n,s){!s||o.StageContainer.currentInstance.ball.onTween||this.wallTouched||(o.StageContainer.currentInstance.basket.hoop.isBasket()||(o.MatchManager.currentInstance.onBasketMissed(),o.StageContainer.currentInstance.ball.resetBall()),this.numCount=0)},t.prototype.sensorBottomCallback=function(t,e,a,n,s){if(s&&!o.StageContainer.currentInstance.ball.onTween){1<=this.numCount?(o.StageContainer.currentInstance.basket.hoop.isBasket()||(this.wallTouched=!0,this.game.time.events.add(200,function(){o.MatchManager.currentInstance.onBasketMissed(),o.StageContainer.currentInstance.ball.resetBall(),this.wallTouched=!1},this)),this.numCount=0):this.numCount++;var i=1+Math.floor(4*Math.random());o.AudioManager.getInstance().playSound("impacto_"+i)}},t.prototype.resetRebounds=function(){this.numCount=0},t}(Phaser.Group);o.CourtWalls=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"efects-container",!1)||this;return e.stopConfetti=!1,e.efectImage=new Phaser.Image(e.game,0,0,"texture_atlas_1","star_impact.png"),e.efectImage.anchor.set(.5),e.efectImage.scale.set(0),e.addChild(e.efectImage),e.efectBallAppear=new Phaser.Image(e.game,0,0,"texture_atlas_1","ball_appear.png"),e.efectBallAppear.anchor.set(.5),e.efectBallAppear.scale.set(0),e.addChild(e.efectBallAppear),e.efectBasket=new Phaser.Sprite(e.game,0,0,"texture_atlas_1","glare.png"),e.efectBasket.anchor.set(.5),e.efectBasket.alpha=0,e.efectBasket.scale.set(0),e.efectBasket.blendMode=PIXI.blendModes.ADD,e.efectBall=new Phaser.Sprite(e.game,0,0,"texture_atlas_1","fx_ball_appear_00003.png"),e.efectBall.anchor.set(.5),e.efectBall.alpha=0,e.efectBallOut=new Phaser.Sprite(e.game,0,0,"texture_atlas_1","explosion_00000.png"),e.efectBallOut.anchor.set(.5),e.efectBallOut.alpha=0,e.efectBall.animations.add("initEfect",Phaser.Animation.generateFrameNames("fx_ball_appear_",3,18,".png",5)),e.efectBall.animations.add("finishEfect",Phaser.Animation.generateFrameNames("fx_ball_appear_",18,3,".png",5)),e.efectBallOut.animations.add("initEfect2",Phaser.Animation.generateFrameNames("explosion_",0,16,".png",5)),e.efectBasket.animations.add("initBasket",Phaser.Animation.generateFrameNames("rays_final_match",1,1,".png",1)),e.efectBall.animations.getAnimation("initEfect").onComplete.add(function(){n.StageContainer.currentInstance.ball.scale.set(1),n.StageContainer.currentInstance.ball.visible=!0,n.StageContainer.currentInstance.efectsContainer.efectBall.play("finishEfect",60,!1,!1),this.game.add.tween(this.efectBall).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0,100)},e),e.efectBall.animations.getAnimation("finishEfect").onComplete.add(function(){this.efectBall.alpha=0,n.StageContainer.currentInstance.ball.tweenBallFinished2(),this.skullBollean&&n.StageContainer.currentInstance.ballFrontEfect()},e),e.efectBallOut.animations.getAnimation("initEfect2").onComplete.add(function(){n.StageContainer.currentInstance.ball.scale.set(0),n.StageContainer.currentInstance.efectsContainer.efectBallOut.play("finishEfect2",60,!1,!1),this.game.add.tween(this.efectBallOut).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0,100)},e),e.addChild(e.efectBall),e.addChild(e.efectBallOut),e.addChild(e.efectBasket),e.efectSkull=new Phaser.Image(e.game,0,0,"texture_atlas_1","skull_sudden_death.png"),e.efectSkull.anchor.set(.5),e.efectSkull.scale.set(1.5),e.efectSkull.alpha=0,e.addChild(e.efectSkull),e.bck_confetti=new Phaser.Sprite(e.game,0,0,e.game.cache.getBitmapData("black_square")),e.bck_confetti.scale.set(n.GameConstants.GAME_WIDTH/16,n.GameConstants.GAME_HEIGHT/16),e.bck_confetti.alpha=0,e.add(e.bck_confetti),e.confetti=new Phaser.Sprite(e.game,0,0,"texture_atlas_1","confetti_0001.png"),e.confetti.alpha=0,e.confetti.anchor.set(0,1),e.addChild(e.confetti),e.confetti.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e.confetti2=new Phaser.Sprite(e.game,0,-e.confetti.height,"texture_atlas_1","confetti_0001.png"),e.confetti2.alpha=0,e.confetti2.anchor.set(0,1),e.addChild(e.confetti2),e.confetti2.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e.confetti3=new Phaser.Sprite(e.game,0,2*-e.confetti.height,"texture_atlas_1","confetti_0001.png"),e.confetti3.alpha=0,e.confetti3.anchor.set(0,1),e.addChild(e.confetti3),e.confetti3.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e.confetti4=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,0,"texture_atlas_1","confetti_0001.png"),e.confetti4.alpha=0,e.confetti4.anchor.set(0,1),e.addChild(e.confetti4),e.confetti4.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e.confetti5=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,-e.confetti.height,"texture_atlas_1","confetti_0001.png"),e.confetti5.alpha=0,e.confetti5.anchor.set(0,1),e.addChild(e.confetti5),e.confetti5.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e.confetti6=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,2*-e.confetti.height,"texture_atlas_1","confetti_0001.png"),e.confetti6.alpha=0,e.confetti6.anchor.set(0,1),e.addChild(e.confetti6),e.confetti6.animations.add("confetti",Phaser.Animation.generateFrameNames("confetti_",1,7,".png",4)),e}return __extends(t,a),t.prototype.update=function(){a.prototype.update.call(this),1!==this.confetti.alpha||this.stopConfetti||(this.confetti.y+=1.5,this.confetti2.y+=1.5,this.confetti3.y+=1.5,this.confetti4.y+=1.5,this.confetti5.y+=1.5,this.confetti6.y+=1.5),this.confetti.y>this.confetti.height+n.GameConstants.GAME_HEIGHT&&(this.confetti.y-=3*this.confetti.height,this.confetti4.y-=3*this.confetti.height),this.confetti2.y>this.confetti2.height+n.GameConstants.GAME_HEIGHT&&(this.confetti2.y-=3*this.confetti.height,this.confetti5.y-=3*this.confetti.height),this.confetti3.y>this.confetti3.height+n.GameConstants.GAME_HEIGHT&&(this.confetti3.y-=3*this.confetti.height,this.confetti6.y-=3*this.confetti.height)},t.prototype.pauseConfetti=function(){this.stopConfetti=!0,this.confetti.animations.paused=!0,this.confetti2.animations.paused=!0,this.confetti3.animations.paused=!0,this.confetti4.animations.paused=!0,this.confetti5.animations.paused=!0,this.confetti6.animations.paused=!0},t.prototype.resumeConfetti=function(){this.stopConfetti=!1,this.confetti.animations.paused=!1,this.confetti2.animations.paused=!1,this.confetti3.animations.paused=!1,this.confetti4.animations.paused=!1,this.confetti5.animations.paused=!1,this.confetti6.animations.paused=!1},t.prototype.newImpact=function(t,e,a){this.efectImage.x=t,this.efectImage.y=e,this.efectImage.alpha=1,this.efectImage.scale.set(a/800,a/800),this.game.add.tween(this.efectImage.scale).to({x:a/800*.8,y:a/800*.8},100,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.efectImage).to({alpha:0},100,Phaser.Easing.Cubic.Out,!0),n.AudioManager.getInstance().playSound("impacto_aro")},t.prototype.initEfectBall=function(t,e){n.GameVars.getInstance().matchFinished||(this.efectBall.x=t,this.efectBall.y=e,this.efectSkull.x=t,this.efectSkull.y=e,this.efectBallAppear.x=t,this.efectBallAppear.y=e,this.efectBall.alpha=1,n.StageContainer.currentInstance.efectFrontBall(),n.AudioManager.getInstance().playSound("ball_appears"),this.efectBall.play("initEfect",60,!1,!1),n.MatchManager.currentInstance.lastPoints&&(this.efectSkull.scale.set(1.5),this.efectSkull.alpha=0,this.game.time.events.add(100,function(){this.game.add.tween(this.efectSkull).to({alpha:1},600,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.efectSkull.scale).to({x:.9,y:.9},600,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.game.add.tween(this.efectSkull).to({alpha:0},800,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){n.StageContainer.currentInstance.ballFrontEfect()},this)},this)},this)),this.game.add.tween(this.efectBallAppear.scale).to({x:1,y:1},50,Phaser.Easing.Cubic.Out,!0,250).onComplete.add(function(){this.game.add.tween(this.efectBallAppear.scale).to({x:0,y:0},50,Phaser.Easing.Cubic.In,!0)},this))},t.prototype.finishEfectBall=function(t,e){n.GameVars.getInstance().matchFinished||(this.efectBallOut.x=t,this.efectBallOut.y=e,this.efectBallOut.alpha=1,n.StageContainer.currentInstance.efectFrontBall(),this.efectBallOut.play("initEfect2",60,!1,!1))},t.prototype.initBasketEfect=function(t,e){this.efectBasket.x=t,this.efectBasket.y=e,this.efectBasket.alpha=1,this.efectBasket.scale.set(3),n.StageContainer.currentInstance.efectFrontBall(),this.game.add.tween(this.efectBasket).to({alpha:0},600,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.efectBasket.scale).to({x:1,y:1},600,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){n.StageContainer.currentInstance.ballFrontEfect(),this.efectBasket.scale.set(0)},this)},t.prototype.initConfetti=function(t){this.game.add.tween(this.bck_confetti).to({alpha:.4},500,Phaser.Easing.Cubic.Out,!0),t&&(this.confetti.alpha=1,this.confetti.play("confetti",15,!0,!1),this.confetti2.alpha=1,this.confetti2.play("confetti",15,!0,!1),this.confetti3.alpha=1,this.confetti3.play("confetti",15,!0,!1),this.confetti4.alpha=1,this.confetti4.play("confetti",15,!0,!1),this.confetti5.alpha=1,this.confetti5.play("confetti",15,!0,!1),this.confetti6.alpha=1,this.confetti6.play("confetti",15,!0,!1))},t.prototype.finishConfetti=function(){this.game.add.tween(this).to({alpha:0},600,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.bck_confetti.alpha=0,this.confetti.alpha=0,this.confetti.y=0,this.confetti.animations.stop("confetti"),this.confetti2.alpha=0,this.confetti2.y=-this.confetti.height,this.confetti2.animations.stop("confetti"),this.confetti3.alpha=0,this.confetti3.y=2*-this.confetti.height,this.confetti3.animations.stop("confetti"),this.confetti4.alpha=0,this.confetti4.y=0,this.confetti4.animations.stop("confetti"),this.confetti5.alpha=0,this.confetti5.y=-this.confetti.height,this.confetti5.animations.stop("confetti"),this.confetti6.alpha=0,this.confetti6.y=2*-this.confetti.height,this.confetti6.animations.stop("confetti"),this.alpha=1},this)},t}(Phaser.Group);n.EfectsContainer=t}(BasketChamps||(BasketChamps={})),function(e){var t=function(a){function t(t){var e=a.call(this,t,0,0,"texture_atlas_1","frontHoop.png")||this;return e.game.physics.box2d.enable(e),e.body.setRectangle(1,1,-1e3,-1e3),e.body.static=!0,e.anchor.set(0),e.move_up=1,e.move_left=1,e}return __extends(t,a),t.prototype.pause=function(){e.GameConstants.MOV_HOR=!1,e.GameConstants.MOV_VER=!1},t.prototype.resume=function(){},t.prototype.resetBasket=function(){var t=this.game.add.tween(this.body);t.to({x:0,y:0},1e3,Phaser.Easing.Quadratic.Out,!1),t.start()},t}(Phaser.Sprite);e.HoopFront=t}(BasketChamps||(BasketChamps={})),function(e){var t=function(){function t(t){this.game=t,this.game.device.desktop?this.game.input.onDown.add(this.fireBall,this):(this.game.input.onUp.add(this.fireBall,this),this.game.scale.isFullScreen||this.game.input.onDown.add(this.goFull,this))}return t.prototype.fireBall=function(){e.MatchManager.currentInstance.fireBall()},t.prototype.goFull=function(){this.game.scale.startFullScreen(!0),this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.EXACT_FIT},t}();e.MatchController=t}(BasketChamps||(BasketChamps={})),function(e){var t=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","basket_ball0001.png")||this;return n.anchor.set(.5),n.alpha=.3,n}return __extends(t,s),t.prototype.update=function(){this.x=e.StageContainer.currentInstance.ball.x,this.y=370-e.StageContainer.currentInstance.ball.y+370-this.height,this.angle=-e.StageContainer.currentInstance.ball.angle},t}(Phaser.Image);e.ReflectionBall=t}(BasketChamps||(BasketChamps={})),function(h){var t=function(a){function t(t){var e=a.call(this,t,null,"trajectory",!1)||this;return e.paused=!0,e.onTween=!1,e.initialX=h.StageContainer.currentInstance.ball.initialX,e.initialY=h.StageContainer.currentInstance.ball.initialY,e.visible=!1,e.firstTime=!0,e.countPoints=0,e}return __extends(t,a),t.prototype.getTrajectoryPoint=function(t,e,a,n,s){var i=1/60,o=i*this.game.physics.box2d.pxm(-a),r=i*this.game.physics.box2d.pxm(-n),h=i*i*this.game.physics.box2d.pxm(-this.game.physics.box2d.gravity.x),c=i*i*this.game.physics.box2d.pxm(-this.game.physics.box2d.gravity.y),l=(t=this.game.physics.box2d.pxm(-t))+s*o+.5*(s*s+s)*h,u=(e=this.game.physics.box2d.pxm(-e))+s*r+.5*(s*s+s)*c;return{x:l=this.game.physics.box2d.mpx(-l),y:u=this.game.physics.box2d.mpx(-u)}},t.prototype.drawLine=function(){var t=this.game.input.activePointer.x,e=this.game.input.activePointer.y;if(this.game.device.desktop||(e-=50),h.StageContainer.currentInstance.ball.trajectoryReady&&this.visible)if(this.initialX=h.StageContainer.currentInstance.ball.initialX,this.initialY=h.StageContainer.currentInstance.ball.initialY,e+40>this.initialY&&(e=this.initialY-40),t+50>this.initialX&&(t=this.initialX-50),h.StageContainer.currentInstance.ball.getOnShot()||this.paused)this.removeAll(),this.points=new Array,this.firstTime=!0;else{var a=h.StageContainer.currentInstance.ball.getLaunchVelocity(),n=h.StageContainer.currentInstance.ball.time;if(this.firstTime){this.removeAll(),this.points=[],this.firstTime=!1;for(var s=n/20;s<=n+n/40;s+=n/20){if((r=this.getTrajectoryPoint(this.initialX,this.initialY,a.x,a.y,s)).x>=t+n/20&&this.initialX>=t+n/20)(i=new Phaser.Image(this.game,r.x,r.y,"texture_atlas_1","trajectory-ball-1.png")).anchor.set(.5),i.alpha=0,this.points.push(i);else if(h.GameConstants.EASY_GAME||h.GameVars.getInstance().trajectoryHelp){var i;(i=new Phaser.Image(this.game,r.x,r.y,"texture_atlas_1","trajectory-ball-2.png")).anchor.set(.5),i.alpha=0,this.points.push(i)}}for(s=0;s<this.points.length;s++)this.addChild(this.points[s]);this.mousePoint=new Phaser.Sprite(this.game,t,e,"texture_atlas_1","trajectory-ball-3.png"),this.mousePoint.anchor.set(.5),this.mousePoint.alpha=0,this.addChild(this.mousePoint),this.onTween=!0,this.tweenTrajectory()}else{var o=0;for(s=n/20;s<=n+n/40;s+=n/20){var r;(r=this.getTrajectoryPoint(this.initialX,this.initialY,a.x,a.y,s)).x>=t+n/20&&this.initialX>=t+n/20?(this.points[o].x=r.x,this.points[o].y=r.y):(h.GameConstants.EASY_GAME||h.GameVars.getInstance().trajectoryHelp)&&(this.points[o].x=r.x,this.points[o].y=r.y),o++}this.mousePoint.x=t,this.mousePoint.y=e,this.countPoints%5==0?void 0!==this.points[this.countPoints/5]&&this.points[this.countPoints/5].scale.set(1.2):this.countPoints%5==2&&void 0!==this.points[(this.countPoints-2)/5]&&this.points[(this.countPoints-2)/5].scale.set(1),this.countPoints++,this.countPoints>5*(this.points.length-1)+2&&(this.countPoints=0)}}},t.prototype.pause=function(){this.paused=!0},t.prototype.resume=function(){this.paused=!1},t.prototype.tweenTrajectory=function(){for(var t=0;t<this.points.length;t++)this.game.add.tween(this.points[t]).to({alpha:1},50,Phaser.Easing.Cubic.Out,!0,50*t);this.game.add.tween(this.mousePoint).to({alpha:1},50,Phaser.Easing.Cubic.Out,!0,50*this.points.length).onComplete.add(function(){this.onTween=!1},this)},t}(Phaser.Group);h.Trajectory=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","backboard.png")||this;return n.game.physics.box2d.enable(n),n.body.setRectangle(5,117,50,97),n.body.static=!0,n}return __extends(t,s),t.prototype.resetBasket=function(){var t=this.game.add.tween(this.body);t.to({x:0,y:0},1e3,Phaser.Easing.Quadratic.Out,!1),t.start()},t}(Phaser.Sprite);t.Backboard=e}(BasketChamps||(BasketChamps={})),function(o){var t=function(s){function i(t,e,a){var n=s.call(this,t,null,"basket",!1)||this;return(i.currentInstance=n).x=e,n.y=a,n.post=new o.Post(n.game,0,0),n.post.anchor.set(0),n.addChild(n.post),n.backboard=new o.Backboard(n.game,0,0),n.backboard.anchor.set(0),n.addChild(n.backboard),n.hoop=new o.Hoop(n.game,0,0),n.hoop.anchor.set(0),n.addChild(n.hoop),n}return __extends(i,s),i.prototype.destroy=function(t,e){i.currentInstance=null,s.prototype.destroy.call(this,t,e)},i.prototype.update=function(){s.prototype.update.call(this)},i}(Phaser.Group);o.Basket=t}(BasketChamps||(BasketChamps={})),function(i){var t=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","net0001.png")||this;return n.x=e,n.y=a,n.game.physics.box2d.enable(n),n.body.static=!0,n.sensor=n.body.setRectangle(5,40,32,0),n.sensor.SetSensor(!0),n.body.setFixtureContactCallback(n.sensor,n.sensorCallback,n),n.animations.add("lateral",Phaser.Animation.generateFrameNames("net",10,21,".png",4)),n.animations.add("basket",Phaser.Animation.generateFrameNames("net",1,9,".png",4)),n}return __extends(t,s),t.prototype.update=function(){s.prototype.update.call(this)},t.prototype.sensorCallback=function(t,e,a,n,s){s&&!i.StageContainer.currentInstance.basket.hoop.basket&&this.play("lateral",25,!1,!1)},t.prototype.playBasket=function(){this.play("basket",25,!1,!1)},t}(Phaser.Sprite);i.BasketNet=t}(BasketChamps||(BasketChamps={})),function(c){var t=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","hoop.png")||this;return n.sensorOnePassed=!1,n.anuleSensorOne=!1,n.basket=!1,n.numCount=0,n.game.physics.box2d.enable(n),n.circleOne=n.body.setCircle(3,53,132),n.circleTwo=n.body.addCircle(3,118,132),n.body.static=!0,n.sensorOne=n.body.addCircle(3,85,132),n.sensorOne.SetSensor(!0),n.sensorTwo=n.body.addCircle(3,85,148),n.sensorTwo.SetSensor(!0),n.body.setFixtureContactCallback(n.sensorOne,n.sensorOneCallback,n),n.body.setFixtureContactCallback(n.sensorTwo,n.sensorTwoCallback,n),n}return __extends(t,s),t.prototype.hoopCallback=function(t,e,a,n,s,i){if(s){0===c.StageContainer.currentInstance.courtWalls.numCount&&c.StageContainer.currentInstance.courtWalls.numCount++,c.MatchManager.currentInstance.rebounds++;var o=Math.sqrt(c.StageContainer.currentInstance.ball.body.velocity.x*c.StageContainer.currentInstance.ball.body.velocity.x+c.StageContainer.currentInstance.ball.body.velocity.y*c.StageContainer.currentInstance.ball.body.velocity.y);if(400<o){var r=new box2d.b2WorldManifold;i.GetWorldManifold(r);var h=r.points[0];h.SelfMul(-this.game.physics.box2d.ptmRatio),c.StageContainer.currentInstance.efectsContainer.newImpact(h.x,h.y,o)}c.AudioManager.getInstance().playSound("impacto_aro")}},t.prototype.sensorOneCallback=function(t,e,a,n,s){s&&(this.anuleSensorOne||(this.sensorOnePassed=!0))},t.prototype.sensorTwoCallback=function(t,e,a,n,s){s&&!this.basket&&(this.sensorOnePassed?(c.MatchManager.currentInstance.onBaskedScored(),this.basket=!0,this.anuleSensorOne=!1,this.sensorOnePassed=!1):this.anuleSensorOne=!0)},t.prototype.update=function(){s.prototype.update.call(this),this.basket&&(50<this.numCount?(c.StageContainer.currentInstance.ball.resetBall(),c.StageContainer.currentInstance.courtWalls.resetRebounds(),this.numCount=0,this.basket=!1):this.numCount++)},t.prototype.isBasket=function(){return this.basket},t.prototype.resetBasket=function(){this.game.add.tween(this.body).to({x:0,y:0},1e3,Phaser.Easing.Quadratic.Out,!0)},t}(Phaser.Sprite);c.Hoop=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_1","post.png")||this;return n.game.physics.box2d.enable(n),n.body.setRectangle(5,205,44,257),n.body.static=!0,n.postAux=new Phaser.Sprite(n.game,0,0,"texture_atlas_1","post_mobile.png"),n.postAux.visible=!1,n.postAux.alpha=0,n.addChild(n.postAux),n.wheels=new Phaser.Sprite(n.game,0,0,"texture_atlas_1","caterpillar_wheels0001.png"),n.wheels.visible=!1,n.wheels.alpha=0,n.addChild(n.wheels),n.wheels.animations.add("anim1",Phaser.Animation.generateFrameNames("caterpillar_wheels",1,5,".png",4)),n.wheels.animations.add("anim2",Phaser.Animation.generateFrameNames("caterpillar_wheels",5,1,".png",4)),n}return __extends(t,s),t.prototype.update=function(){s.prototype.update.call(this)},t.prototype.resetBasket=function(){var t=this.game.add.tween(this.body);t.to({x:0,y:0},1e3,Phaser.Easing.Quadratic.Out,!1),t.start()},t.prototype.changeSpritePostVert=function(t){t?(this.postAux.visible=!0,this.game.add.tween(this.postAux).to({alpha:1},500,Phaser.Easing.Cubic.In,!0)):(this.game.add.tween(this.postAux).to({alpha:0},500,Phaser.Easing.Cubic.In,!0),this.postAux.visible=!1)},t.prototype.changeSpritePostHor=function(t){t?(this.wheels.visible=!0,this.game.add.tween(this.wheels).to({alpha:1},500,Phaser.Easing.Cubic.In,!0),this.body.addLoop([21,312,58,320,65,330,103,337,78,366])):(this.game.add.tween(this.wheels).to({alpha:0},500,Phaser.Easing.Cubic.In,!0),this.body.setRectangle(5,205,44,257),this.wheels.visible=!1)},t}(Phaser.Sprite);t.Post=e}(BasketChamps||(BasketChamps={})),function(a){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){(e.currentInstance=this).load.path=a.GameConstants.ASSETS_PATH,this.input.maxPointers=2,this.game.stage.disableVisibilityChange=!0,this.game.stage.backgroundColor="#01055a",this.game.device.desktop?(a.GameConstants.SPONSOR===a.GameConstants.POKI?this.game.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT:this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.onBlur.add(this.mute,this),this.game.onFocus.add(this.unmute,this)):(this.game.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.isLandscape=!0,a.GameConstants.SPONSOR!==a.GameConstants.GAMEPIX&&(this.game.scale.forceOrientation(!0,!1),this.game.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),this.game.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this)),this.game.onPause.add(this.mute,this),this.game.onResume.add(this.unmute,this)),a.GameConstants.DEVELOPMENT&&(this.game.time.advancedTiming=!0),a.GameVars.getInstance().init(this.game),a.TournamentManager.getInstance().init(this.game),a.AchievementsManager.getInstance().init()},e.prototype.preload=function(){a.GameConstants.SPONSOR===a.GameConstants.MINIJUEGOS&&this.load.atlasJSONArray("texture_atlas_minijuegos","/sponsors/texture_atlas_minijuegos.png","/sponsors/texture_atlas_minijuegos.json"),a.GameConstants.SPONSOR===a.GameConstants.ADDICTING_GAMES&&(this.load.audio("addicting_games_stinger","/sponsors/sound.mp3",!0),this.load.atlasXML("texture_atlas_addicting_games_stinger","/sponsors/stinger_atlas.png","/sponsors/stinger_atlas.xml"))},e.prototype.create=function(){this.game.plugins.add(Fabrique.Plugins.CacheBuster),this.game.load.cacheBuster=a.GameConstants.VERSION,a.GameConstants.SPONSOR===a.GameConstants.LAGGED?(top.location.href.indexOf("lagged.com")||-1<top.location.href.indexOf("footchinko.com")||-1<top.location.href.indexOf("localhost"))&&this.game.state.start("PreLoader",!0,!1):a.GameConstants.SPONSOR===a.GameConstants.IZZYGAMES?(top.location.href.indexOf("izzygames.com")||-1<top.location.href.indexOf("spiele-umsonst.de")||-1<top.location.href.indexOf("izzyjeux.fr")||-1<top.location.href.indexOf("footchinko.com")||-1<top.location.href.indexOf("localhost"))&&this.game.state.start("PreLoader",!0,!1):a.GameConstants.SPONSOR===a.GameConstants.FUNO?(-1<top.location.href.indexOf("funo.com")||-1<top.location.href.indexOf("yurk.com")||-1<top.location.href.indexOf("playpip.com")||-1<top.location.href.indexOf("localhost"))&&this.game.state.start("PreLoader",!0,!1):a.GameConstants.SPONSOR===a.GameConstants.NONE?(-1<top.location.href.indexOf("footchinko.com")||-1<top.location.href.indexOf("localhost"))&&this.game.state.start("PreLoader",!0,!1):(a.GameConstants.SPONSOR===a.GameConstants.POKI&&(PokiSDK.init().then(function(){console.log("PokiSDK initialized")}).catch(function(){console.log("Adblock enabled")}),PokiSDK.setDebug(!1)),this.game.state.start("PreLoader",!0,!1))},e.prototype.shutdown=function(){t.prototype.shutdown.call(this),e.currentInstance=null},e.prototype.mute=function(){this.game.sound.mute=!0},e.prototype.unmute=function(){a.AudioManager.getInstance().isMuted||(this.game.sound.mute=!1)},e.prototype.enterIncorrectOrientation=function(){document.getElementById("orientation").style.display="block",document.getElementById("content").style.display="none"},e.prototype.leaveIncorrectOrientation=function(){document.getElementById("orientation").style.display="none",document.getElementById("content").style.display="block",e.bootedInWrongOrientation&&(e.bootedInWrongOrientation=!1,this.game.time.events.add(250,function(){var t=window.innerWidth,e=window.innerHeight;this.game.scale.scaleMode=e/t<4/3?Phaser.ScaleManager.SHOW_ALL:Phaser.ScaleManager.EXACT_FIT,this.game.scale.refresh(),a.PreLoader.currentInstance?this.game.state.start("PreLoader",!0,!1):this.game.state.start("GameState",!0,!1)},this))},e}(Phaser.State);t.bootedInWrongOrientation=!1,a.Boot=t}(BasketChamps||(BasketChamps={})),function(c){var t=function(h){function t(t,e){var a=h.call(this,t,null,"confirmation-menu",!1)||this;if(a.pauseMenu=e||!1,!a.pauseMenu){var n=new Phaser.Sprite(a.game,0,0,a.game.cache.getBitmapData("black_square"));n.scale.set(c.GameConstants.GAME_WIDTH/16,c.GameConstants.GAME_HEIGHT/16),n.alpha=.7,n.inputEnabled=!0,n.events.onInputDown.add(a.onClickDarkBackground,a),a.addChild(n)}var s=new Utils.RectangleWithRadius(a.game,160,176,c.GameConstants.GAME_WIDTH-320,144,10,"#F4F5E5");a.add(s);var i=new Phaser.Text(a.game,c.GameConstants.GAME_WIDTH/2,210,"YOUR PROGRESS WILL BE LOST",{font:"34px Jomhuria"});i.addColor("#4D3E44",0),i.anchor.set(.5),a.add(i),(i=new Phaser.Text(a.game,c.GameConstants.GAME_WIDTH/2,232,"CONFIRM?",{font:"24px Jomhuria"})).addColor("#4D3E44",0),i.anchor.set(.5),a.add(i);var o=new Phaser.Button(a.game,c.GameConstants.GAME_WIDTH/2,270,"texture_atlas_1",a.onClickReset,a);o.setFrames("button-new-on.png","button-new-off.png","button-new-on.png"),o.anchor.set(.5),a.add(o),(i=new Phaser.Text(a.game,c.GameConstants.GAME_WIDTH/2,306,"RESET",{font:"24px Jomhuria"})).addColor("#4D3E44",0),i.anchor.set(.5),a.add(i);var r=new Phaser.Button(a.game,438,176,"texture_atlas_1",a.onClickCancel,a);return r.setFrames("button-cancel-on.png","button-cancel-off.png","button-cancel-on.png"),r.anchor.set(.5),a.add(r),a}return __extends(t,h),t.prototype.onClickReset=function(t){this.pauseMenu?c.PauseLayer.currentInstance.newTournament():c.SplashState.currentInstance.newTournament(),t.clearFrames(),c.AudioManager.getInstance().playSound("click")},t.prototype.onClickCancel=function(t){this.pauseMenu?c.PauseLayer.currentInstance.removeConfirmationMenu():c.SplashState.currentInstance.removeConfirmationMenu(),t.clearFrames(),c.AudioManager.getInstance().playSound("click")},t.prototype.onClickDarkBackground=function(){},t}(Phaser.Group);c.ConfirmationMenu=t}(BasketChamps||(BasketChamps={})),function(a){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){e.currentInstance=this,t.prototype.init.call(this)},e.prototype.shutdown=function(){e.currentInstance=null,this.matchManager.destroy(),this.stageContainer.destroy(),t.prototype.shutdown.call(this)},e.prototype.create=function(){this.onPause=!1,this.matchManager=new a.MatchManager,this.ia=new a.IA(this.game),this.matchController=new a.MatchController(this.game),this.backgroundManager=new a.BackgroundManager(this.game),this.hud=new a.HUD(this.game),this.stageContainer=new a.StageContainer(this.game),this.gui=new a.GUI(this.game),this.tournamentLayer=new a.TournamentLayer(this.game),this.classificationLayer=new a.ClassificationLayer(this.game),this.selectTeamLayer=new a.SelectTeamLayer(this.game),this.gameOverLayer=new a.GameOverLayer(this.game),this.tournamentWonLayer=new a.TournamentWonLayer(this.game),this.eventsLayer=new a.EventsLayer(this.game),this.add.existing(this.backgroundManager),this.add.existing(this.stageContainer),this.add.existing(this.hud),this.add.existing(this.selectTeamLayer),this.add.existing(this.classificationLayer),this.add.existing(this.tournamentLayer),this.add.existing(this.gui),this.add.existing(this.eventsLayer),this.add.existing(this.gameOverLayer),this.add.existing(this.tournamentWonLayer),this.game.camera.flash(0,a.GameConstants.TIME_FADE,!1)},e.prototype.update=function(){t.prototype.update.call(this),this.matchManager.update(),a.StageContainer.currentInstance.trajectory.drawLine()},e.prototype.render=function(){t.prototype.render.call(this),a.GameConstants.SHOW_PHYSICS_BODIES&&this.game.debug.box2dWorld()},e.prototype.pause=function(){this.onPause=!0},e.prototype.resume=function(){this.onPause=!1},e.prototype.onBasketScored=function(){this.backgroundManager.updateScore()},e.prototype.onBasketMissed=function(){},e.prototype.goBack=function(){this.game.state.start("SplashState",!0,!1),this.game.camera.fade(0,a.GameConstants.TIME_FADE,!0),this.game.camera.onFadeComplete.add(function(){this.game.state.start("SplashState",!0,!1)},this)},e.prototype.nextGame=function(){this.game.camera.fade(0,a.GameConstants.TIME_FADE,!0),this.game.camera.onFadeComplete.add(function(){this.game.state.start("BasketballCourtState",!0,!1)},this),a.StageContainer.currentInstance.resume()},e}(Phaser.State);a.BasketballCourtState=t}(BasketChamps||(BasketChamps={})),function(s){var t=function(a){function n(t){var e=a.call(this,t,null,"events-layer",!1)||this;return(n.currentInstance=e).doge=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH+150,s.GameConstants.GAME_HEIGHT,"texture_atlas_1","doge.png"),e.doge.anchor.set(1),e.addChild(e.doge),e.doge_text=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH-130,s.GameConstants.GAME_HEIGHT-130,"texture_atlas_1","doge_text_1.png"),e.doge_text.anchor.set(.5),e.doge_text.alpha=0,e.addChild(e.doge_text),e.snoop=new Phaser.Sprite(e.game,s.GameConstants.GAME_WIDTH-100,s.GameConstants.GAME_HEIGHT+250,"texture_atlas_1","snoop_0001.png"),e.snoop.anchor.set(.5,1),e.addChild(e.snoop),e.snoop.animations.add("anim1",Phaser.Animation.generateFrameNames("snoop_",1,30,".png",4)),e.snoop.animations.add("anim2",Phaser.Animation.generateFrameNames("snoop_",30,1,".png",4)),e.snoop.animations.add("anim3",Phaser.Animation.generateFrameNames("snoop_",1,30,".png",4)),e.snoop.animations.add("anim4",Phaser.Animation.generateFrameNames("snoop_",30,15,".png",4)),e.snoop.animations.getAnimation("anim1").onComplete.add(function(){n.currentInstance.snoop.play("anim2",25,!1,!1)},e),e.snoop.animations.getAnimation("anim2").onComplete.add(function(){n.currentInstance.snoop.play("anim3",25,!1,!1)},e),e.snoop.animations.getAnimation("anim3").onComplete.add(function(){n.currentInstance.snoop.play("anim4",25,!1,!1)},e),e.snoop.animations.getAnimation("anim4").onComplete.add(function(){s.StageContainer.currentInstance.efectsContainer.pauseConfetti(),this.game.time.events.add(1500,function(){s.StageContainer.currentInstance.efectsContainer.resumeConfetti(),this.game.add.tween(this.snoop).to({y:s.GameConstants.GAME_HEIGHT+250},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.visible=!1},this)},this)},e),e.visible=!1,e}return __extends(n,a),n.prototype.destroy=function(){n.currentInstance=null},n.prototype.showDoge=function(){var t=Math.floor(6*Math.random()+1);this.doge_text.loadTexture("texture_atlas_1","doge_text_"+t+".png"),this.visible=!0,s.AudioManager.getInstance().playSound("doge_2"),this.game.add.tween(this.doge).to({x:s.GameConstants.GAME_WIDTH+20},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.game.add.tween(this.doge_text).to({alpha:1},200,Phaser.Easing.Cubic.Out,!0,200),this.game.time.events.add(1200,function(){this.game.add.tween(this.doge_text).to({alpha:0},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.doge).to({angle:0},500,Phaser.Easing.Back.In,!0),this.game.add.tween(this.doge).to({x:s.GameConstants.GAME_WIDTH+150,y:s.GameConstants.GAME_HEIGHT},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){this.visible=!1},this)},this)},this),this.game.add.tween(this.doge).to({angle:-10},500,Phaser.Easing.Linear.None,!0)},n.prototype.showSnoop=function(){s.GameVars.getInstance().numMatch<8&&(s.AudioManager.getInstance().playSound("snoop",!0),this.game.time.events.add(1400,function(){this.visible=!0,this.game.add.tween(this.snoop).to({y:s.GameConstants.GAME_HEIGHT},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.snoop.play("anim1",25,!1,!1)},this)},this))},n}(Phaser.Group);s.EventsLayer=t}(BasketChamps||(BasketChamps={})),function(s){var t=function(n){function t(t){var e=n.call(this,t,null,"gameover-layer",!1)||this;if(e.background=new Phaser.Image(e.game,0,0,e.game.cache.getBitmapData("black_square")),e.background.scale.set(s.GameConstants.GAME_WIDTH/16,s.GameConstants.GAME_HEIGHT/16),e.background.alpha=0,e.background.inputEnabled=!0,e.background.events.onInputDown.add(e.onClickBackground,e),e.add(e.background),e.laurel1=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH/2-100,s.GameConstants.GAME_HEIGHT/2-30,"texture_atlas_1","laurel.png"),e.laurel1.anchor.set(.5),e.laurel1.scale.set(0),e.add(e.laurel1),e.laurel2=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH/2+100,s.GameConstants.GAME_HEIGHT/2-30,"texture_atlas_1","laurel.png"),e.laurel2.anchor.set(.5),e.laurel2.scale.set(0),e.add(e.laurel2),e.fish=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH/2,s.GameConstants.GAME_HEIGHT/2,"texture_atlas_1","gameover_fish.png"),e.fish.anchor.set(.5),e.fish.scale.set(0),e.add(e.fish),e.gameTitle=new Phaser.Image(e.game,-200,100,"texture_atlas_1","gameover_game.png"),e.gameTitle.anchor.set(.5),e.add(e.gameTitle),e.overTitle=new Phaser.Image(e.game,800,280,"texture_atlas_1","gameover_over.png"),e.overTitle.anchor.set(.5),e.add(e.overTitle),e.exitButton=new Phaser.Button(e.game,s.GameConstants.GAME_WIDTH/2+200,320,"texture_atlas_1",e.onExitClicked,e),e.exitButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),e.exitButton.anchor.set(.5),e.exitButton.scale.set(0),e.exitButton.visible=!0,e.add(e.exitButton),e.visible=!1,s.GameConstants.SPONSOR===s.GameConstants.MINIJUEGOS){var a=new s.MinijuegosMoreGamesButton(e.game,60,315);e.add(a)}return e}return __extends(t,n),t.prototype.onExitClicked=function(){s.BasketballCourtState.currentInstance.goBack(),s.MatchManager.currentInstance.resetBasket(),this.visible=!1},t.prototype.onClickBackground=function(){},t.prototype.showGameOver=function(){s.TournamentManager.getInstance().deleteLocalStorage(),s.AudioManager.getInstance().playSound("fx_gameover",!0),this.game.add.tween(this.background).to({alpha:.7},500,Phaser.Easing.Cubic.Out,!0,200).onComplete.add(function(){this.game.add.tween(this.gameTitle).to({x:s.GameConstants.GAME_WIDTH/2},1e3,Phaser.Easing.Elastic.Out,!0,100),this.game.add.tween(this.overTitle).to({x:s.GameConstants.GAME_WIDTH/2},1e3,Phaser.Easing.Elastic.Out,!0,100),this.game.add.tween(this.fish.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,100),this.game.add.tween(this.laurel1.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,100),this.game.add.tween(this.laurel2.scale).to({x:-1,y:1},500,Phaser.Easing.Elastic.Out,!0,100),this.game.add.tween(this.exitButton.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,700).onComplete.add(function(){var t=this.game.add.tween(this.exitButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start()},this)},this),this.visible=!0},t}(Phaser.Group);s.GameOverLayer=t}(BasketChamps||(BasketChamps={})),function(r){var t=function(){function e(t){(e.currentInstance=this).game=t}return e.prototype.getLaunchVelocity=function(){var t=r.StageContainer.currentInstance.ball.initialX-(r.StageContainer.currentInstance.basket.hoop.body.x+86),e=r.StageContainer.currentInstance.ball.initialY-(r.StageContainer.currentInstance.basket.hoop.body.y+127);-1===r.StageContainer.currentInstance.basketFront.move_up&&(e+=50);var a=Math.floor(100*Math.random()),n=Math.floor(2*Math.random());0===n&&(n=-1),a<100-8*r.GameVars.getInstance().numMatch&&(e+=n*Math.floor(50*Math.random()+20),t+=Math.floor(50*Math.random()+20));var s=Math.sqrt(this.game.physics.box2d.gravity.y*(e+Math.sqrt(t*t+e*e))),i=Math.atan((e+Math.sqrt(t*t+e*e))/t)*(180/Math.PI);r.StageContainer.currentInstance.ball.initialX<300&&r.StageContainer.currentInstance.ball.initialY>r.StageContainer.currentInstance.basket.hoop.body.y+127&&(i+=300/(r.StageContainer.currentInstance.ball.initialX-(r.StageContainer.currentInstance.basket.hoop.body.y+127)));var o=this.game.physics.arcade.velocityFromAngle(i,s);return r.StageContainer.currentInstance.ball.initialX<300&&r.StageContainer.currentInstance.ball.initialY>r.StageContainer.currentInstance.basket.hoop.body.y+127&&(o.y+=300/(r.StageContainer.currentInstance.ball.initialX-(r.StageContainer.currentInstance.basket.hoop.body.y+127))),{x:-o.x,y:-o.y}},e}();r.IA=t}(BasketChamps||(BasketChamps={})),function(a){var t=function(){function e(){e.currentInstance=this,a.GameVars.getInstance().playerPoints=0,a.GameVars.getInstance().AIPoints=0,a.GameVars.getInstance().round=0,a.GameVars.getInstance().isPlayerTurn=!0,"3"===a.GameVars.getInstance().getLocalStorageData("bc_trajectoryHelp")?a.GameVars.getInstance().trajectoryHelp=!1:a.GameVars.getInstance().trajectoryHelp=!0,this.count=0,this.lastPoints=!1,this.onSuddenDeath=!1,this.scoredSuddenDeath=!1,this.rebounds=0,a.AchievementsManager.getInstance().matchStart()}return e.prototype.update=function(){30<this.count?this.showWinner(this.scoredSuddenDeath):0<this.count&&this.count++},e.prototype.destroy=function(){e.currentInstance=null},e.prototype.changeFlag=function(){a.GameVars.getInstance().matchFinished||a.BackgroundManager.currentInstance.changeFlags(a.GameVars.getInstance().isPlayerTurn)},e.prototype.turnTab=function(t){a.GUI.currentInstance.changeTurnTab(t)},e.prototype.startTurnTab=function(){a.GUI.currentInstance.startTurnTab()},e.prototype.onBasketMissed=function(){(a.GameVars.getInstance().round!==a.GameConstants.NUM_ROUNDS||a.GameVars.getInstance().isPlayerTurn)&&a.BackgroundManager.currentInstance.onBasketMissed(),a.GameVars.getInstance().isPlayerTurn?a.AchievementsManager.getInstance().playerShot(!1):(a.GameVars.getInstance().round++,a.GameVars.getInstance().round===a.GameConstants.NUM_ROUNDS&&this.showWinner(!1)),a.GameVars.getInstance().isPlayerTurn=!a.GameVars.getInstance().isPlayerTurn,a.BasketballCourtState.currentInstance.onBasketMissed(),a.StageContainer.currentInstance.game.time.events.add(1e3,function(){this.lastPoints?this.onSuddenDeath||a.BackgroundManager.currentInstance.slotsManager.finalRounds(!1):e.currentInstance.updateSlots(!1)},this)},e.prototype.onBaskedScored=function(){a.StageContainer.currentInstance.basketNet.playBasket(),a.StageContainer.currentInstance.efectsContainer.initBasketEfect(a.StageContainer.currentInstance.ball.x,a.StageContainer.currentInstance.ball.y),(a.GameVars.getInstance().round!==a.GameConstants.NUM_ROUNDS||a.GameVars.getInstance().isPlayerTurn)&&a.BackgroundManager.currentInstance.onBasketScored(),a.GameVars.getInstance().isPlayerTurn?(a.AudioManager.getInstance().playSound("basket_2"),a.AchievementsManager.getInstance().playerShot(!0),3<=this.rebounds&&a.EventsLayer.currentInstance.showDoge(),a.BackgroundManager.currentInstance.winPlayer(),a.GameVars.getInstance().playerPoints++,a.TournamentManager.getInstance().noEasyMode()||a.TournamentManager.getInstance().changeEasyMode()):(a.AudioManager.getInstance().playSound("basket"),a.GameVars.getInstance().AIPoints++,a.GameVars.getInstance().round++,a.BackgroundManager.currentInstance.winAI(),a.GameVars.getInstance().round===a.GameConstants.NUM_ROUNDS&&this.showWinner(!0)),a.BasketballCourtState.currentInstance.onBasketScored(),a.GameVars.getInstance().isPlayerTurn=!a.GameVars.getInstance().isPlayerTurn,a.StageContainer.currentInstance.courtWalls.resetRebounds(),a.StageContainer.currentInstance.game.time.events.add(1e3,function(){this.lastPoints?this.onSuddenDeath||a.BackgroundManager.currentInstance.slotsManager.finalRounds(!0):e.currentInstance.updateSlots(!0)},this)},e.prototype.fireBall=function(){a.StageContainer.currentInstance.ball.fireBall()},e.prototype.countReady=function(){a.HUD.currentInstance.removeTeamNames(),5<=a.GameVars.getInstance().numMatch&&(a.GameVars.getInstance().resetTournament=!0,a.GameVars.getInstance().setLocalStorageData(a.GameConstants.RESET_TOURNAMENT,JSON.stringify(a.GameVars.getInstance().resetTournament))),a.StageContainer.currentInstance.game.time.events.add(200,function(){a.StageContainer.currentInstance.efectsContainer.initEfectBall(a.StageContainer.currentInstance.ball.body.x,a.StageContainer.currentInstance.ball.body.y),e.currentInstance.rebounds=0},this);var t=1e3;this.lastPoints&&(t=1200),a.StageContainer.currentInstance.game.time.events.add(t,function(){a.StageContainer.currentInstance.trajectory.visible=!0,a.StageContainer.currentInstance.ball.resume(),a.StageContainer.currentInstance.trajectory.resume(),a.StageContainer.currentInstance.courtWalls.resetRebounds(),a.StageContainer.currentInstance.reflectionBall.visible=!0,this.startMoveBasket(),5<=a.GameVars.getInstance().numMatch&&a.BackgroundManager.currentInstance.spectatorsManager.wave(),e.currentInstance.updateSlots(!0)},this)},e.prototype.showWinner=function(t){30<this.count||!t?(this.count=0,a.GameVars.getInstance().playerPoints>a.GameVars.getInstance().AIPoints?(a.GUI.currentInstance.stopTurnTab(),a.AchievementsManager.getInstance().matchEnded(),8===a.GameVars.getInstance().numMatch?a.BasketballCourtState.currentInstance.tournamentWonLayer.showWinner():(5===a.GameVars.getInstance().playerPoints&&0===a.GameVars.getInstance().AIPoints||9<=a.GameVars.getInstance().playerPoints?(a.HUD.currentInstance.finishMatch.showWinner("winner",8e3),a.AudioManager.getInstance().playSound("end_match",!0),a.EventsLayer.currentInstance.showSnoop()):(a.HUD.currentInstance.finishMatch.showWinner("winner",1e3),a.AudioManager.getInstance().playSound("end_match",!0)),a.StageContainer.currentInstance.efectsContainer.initConfetti(!0),a.AudioManager.getInstance().playSound("celebration_2"),a.BackgroundManager.currentInstance.spectatorsManager.onMatchWon(),a.TournamentManager.getInstance().matchResults()),a.GameVars.getInstance().numMatch<=5&&(a.GameVars.getInstance().matchResults[a.GameVars.getInstance().numMatch-1]=1,a.TournamentManager.getInstance().setResultsMatchs()),a.StageContainer.currentInstance.efectsContainer.finishEfectBall(a.StageContainer.currentInstance.ball.body.x,a.StageContainer.currentInstance.ball.body.y),a.StageContainer.currentInstance.ball.visible=!1,a.StageContainer.currentInstance.reflectionBall.visible=!1,a.StageContainer.currentInstance.trajectory.visible=!1,a.GameVars.getInstance().matchFinished=!0,this.resetBasket()):a.GameVars.getInstance().playerPoints<a.GameVars.getInstance().AIPoints?(a.GUI.currentInstance.stopTurnTab(),a.GameVars.getInstance().numMatch<5?(a.HUD.currentInstance.finishMatch.showWinner("loser",1e3),a.StageContainer.currentInstance.efectsContainer.initConfetti(!1),a.AudioManager.getInstance().playSound("end_match",!0),a.BackgroundManager.currentInstance.spectatorsManager.onMatchLosed(),a.TournamentManager.getInstance().matchResults(),a.GameVars.getInstance().matchResults[a.GameVars.getInstance().numMatch-1]=-1,a.TournamentManager.getInstance().setResultsMatchs()):(a.AudioManager.getInstance().playSound("end_match",!0),a.BasketballCourtState.currentInstance.gameOverLayer.showGameOver(),a.BackgroundManager.currentInstance.spectatorsManager.pause()),a.StageContainer.currentInstance.efectsContainer.finishEfectBall(a.StageContainer.currentInstance.ball.body.x,a.StageContainer.currentInstance.ball.body.y),a.StageContainer.currentInstance.ball.visible=!1,a.StageContainer.currentInstance.reflectionBall.visible=!1,a.StageContainer.currentInstance.trajectory.visible=!1,a.GameVars.getInstance().matchFinished=!0,this.resetBasket()):(this.lastPoints||(this.lastPoints=!0,this.onSuddenDeath=!0,a.BackgroundManager.currentInstance.slotsManager.startSuddenDeath(t),a.StageContainer.currentInstance.efectsContainer.finishEfectBall(a.StageContainer.currentInstance.ball.body.x,a.StageContainer.currentInstance.ball.body.y),a.StageContainer.currentInstance.ball.visible=!1,a.StageContainer.currentInstance.reflectionBall.visible=!1,a.StageContainer.currentInstance.trajectory.visible=!1,a.StageContainer.currentInstance.game.time.events.add(200,function(){a.GUI.currentInstance.showSuddenDeath(),a.StageContainer.currentInstance.ball.firstShotSudden=!0},this)),a.GameVars.getInstance().round--)):0===this.count&&(this.count++,this.scoredSuddenDeath=t),a.GUI.currentInstance.onMatchEnd()},e.prototype.matchReady=function(){0===a.GameVars.getInstance().numMatch?(a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!1),a.StageContainer.currentInstance.basket.post.changeSpritePostHor(!1)):1===a.GameVars.getInstance().numMatch?(a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!0),a.StageContainer.currentInstance.basket.post.changeSpritePostHor(!1)):2===a.GameVars.getInstance().numMatch?(a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!1),a.StageContainer.currentInstance.basket.post.changeSpritePostHor(!0)):3===a.GameVars.getInstance().numMatch?(a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!0),a.StageContainer.currentInstance.basket.post.changeSpritePostHor(!1)):(4===a.GameVars.getInstance().numMatch?a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!1):a.StageContainer.currentInstance.basket.post.changeSpritePostVert(!0),a.StageContainer.currentInstance.basket.post.changeSpritePostHor(!0)),a.HUD.currentInstance.matchReady(),a.GUI.currentInstance.matchReady(),a.BackgroundManager.currentInstance.matchReady(),this.newMatch()},e.prototype.showClassification=function(t){a.BasketballCourtState.currentInstance.classificationLayer.showClassification(t)},e.prototype.newMatch=function(){this.lastPoints=!1,a.GameVars.getInstance().playerPoints=0,a.GameVars.getInstance().AIPoints=0,a.GameVars.getInstance().round=0,a.GameVars.getInstance().isPlayerTurn=!0,a.BackgroundManager.currentInstance.slotsManager.resetSlots(),a.BackgroundManager.currentInstance.scoreBoard.updateScore()},e.prototype.stopMovHor=function(){a.GameConstants.MOV_HOR=!1,a.StageContainer.currentInstance.basket.post.wheels.animations.stop()},e.prototype.stopMovVert=function(){a.GameConstants.MOV_VER=!1},e.prototype.startMovHor=function(){a.GameConstants.MOV_HOR=!0,a.StageContainer.currentInstance.basket.post.wheels.play("anim1",25,!0)},e.prototype.startMovVert=function(){a.GameConstants.MOV_VER=!0},e.prototype.resetBasket=function(){this.stopMovHor(),this.stopMovVert(),a.StageContainer.currentInstance.basket.backboard.resetBasket(),a.StageContainer.currentInstance.basket.hoop.resetBasket(),a.StageContainer.currentInstance.basketFront.resetBasket(),a.StageContainer.currentInstance.basket.post.resetBasket(),a.StageContainer.currentInstance.hoopFront.resetBasket()},e.prototype.startMoveBasket=function(){0===a.GameVars.getInstance().numMatch?this.resetBasket():1===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_SLOW,this.startMovVert()):2===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_SLOW,this.startMovHor()):3===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_FAST,this.startMovVert()):(4===a.GameVars.getInstance().numMatch?a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_FAST:(5===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_SLOW,a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_SLOW):6===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_SLOW,a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_FAST):7===a.GameVars.getInstance().numMatch?(a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_FAST,a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_SLOW):8===a.GameVars.getInstance().numMatch&&(a.GameVars.getInstance().currentHorizontalMovement=a.GameConstants.HOR_MOV_FAST,a.GameVars.getInstance().currentVerticalMovement=a.GameConstants.VERT_MOV_FAST),this.startMovVert()),this.startMovHor())},e.prototype.updateSlots=function(t){a.BackgroundManager.currentInstance.slotsManager.updateSlots(t)},e.prototype.hideSuddenDeath=function(){this.startMoveBasket(),a.BackgroundManager.currentInstance.spectatorsManager.resume(),a.StageContainer.currentInstance.resume(),a.BackgroundManager.currentInstance.slotsManager.finishSuddenDeath(),a.StageContainer.currentInstance.reflectionBall.visible=!0,a.StageContainer.currentInstance.trajectory.visible=!0,this.onSuddenDeath=!1,a.TournamentManager.getInstance().firstSuddenDeath&&(a.GameVars.getInstance().setLocalStorageData("bc_firstSuddenDeath","1"),a.GameVars.getInstance().firstSuddenDeath=a.TournamentManager.getInstance().firstSuddenDeath())},e.prototype.startSuddenDeath=function(){a.GameVars.getInstance().round=4},e}();a.MatchManager=t}(BasketChamps||(BasketChamps={})),function(i){var t=function(n){function s(t){var e=n.call(this,t,null,"tournament-won-layer",!1)||this;if((s.currentInstance=e).laurel1=new Phaser.Image(e.game,i.GameConstants.GAME_WIDTH/2-100,i.GameConstants.GAME_HEIGHT/2-30,"texture_atlas_1","laurel.png"),e.laurel1.anchor.set(.5),e.laurel1.scale.set(0),e.add(e.laurel1),e.laurel2=new Phaser.Image(e.game,i.GameConstants.GAME_WIDTH/2+100,i.GameConstants.GAME_HEIGHT/2-30,"texture_atlas_1","laurel.png"),e.laurel2.anchor.set(.5),e.laurel2.scale.set(0),e.add(e.laurel2),e.exitButton=new Phaser.Button(e.game,i.GameConstants.GAME_WIDTH/2+200,320,"texture_atlas_1",e.onExitClicked,e),e.exitButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),e.exitButton.anchor.set(.5),e.exitButton.scale.set(0),e.exitButton.visible=!0,e.add(e.exitButton),e.snoop=new Phaser.Sprite(e.game,i.GameConstants.GAME_WIDTH/2,i.GameConstants.GAME_HEIGHT+300,"texture_atlas_1","snoop_0001.png"),e.snoop.anchor.set(.5,1),e.snoop.scale.set(1.3),e.addChild(e.snoop),e.snoop.animations.add("anim1",Phaser.Animation.generateFrameNames("snoop_",1,30,".png",4)),e.snoop.animations.add("anim2",Phaser.Animation.generateFrameNames("snoop_",30,1,".png",4)),e.snoop.animations.getAnimation("anim1").onComplete.add(function(){s.currentInstance.snoop.play("anim2",25,!1,!1)},e),e.snoop.animations.getAnimation("anim2").onComplete.add(function(){s.currentInstance.snoop.play("anim1",25,!1,!1)},e),e.congratulations=new Phaser.Image(e.game,-250,270,"texture_atlas_1","congrats.png"),e.congratulations.anchor.set(.5),e.add(e.congratulations),e.visible=!1,i.GameConstants.SPONSOR===i.GameConstants.MINIJUEGOS){var a=new i.MinijuegosMoreGamesButton(e.game,60,315);e.add(a)}return e}return __extends(s,n),s.prototype.onExitClicked=function(){i.StageContainer.currentInstance.efectsContainer.finishConfetti(),i.TournamentManager.getInstance().deleteLocalStorage(),i.BasketballCourtState.currentInstance.goBack(),this.visible=!1},s.prototype.onClickBackground=function(){},s.prototype.showWinner=function(){i.StageContainer.currentInstance.efectsContainer.initConfetti(!0),i.AudioManager.getInstance().playSound("snoop",!0),i.AudioManager.getInstance().playSound("celebration_2"),this.game.add.tween(this.congratulations).to({x:i.GameConstants.GAME_WIDTH/2},500,Phaser.Easing.Elastic.Out,!0,400),this.game.add.tween(this.laurel1.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,400),this.game.add.tween(this.laurel2.scale).to({x:-1,y:1},500,Phaser.Easing.Elastic.Out,!0,400),this.game.add.tween(this.exitButton.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,1e3).onComplete.add(function(){var t=this.game.add.tween(this.exitButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start()},this),this.game.add.tween(this.snoop).to({y:i.GameConstants.GAME_HEIGHT},200,Phaser.Easing.Linear.None,!0,400).onComplete.add(function(){this.snoop.play("anim1",25,!1,!1)},this),this.visible=!0},s}(Phaser.Group);i.TournamentWonLayer=t}(BasketChamps||(BasketChamps={})),function(h){var t=function(o){function r(t){var e=o.call(this,t,null,"background-manager",!1)||this;(r.currentInstance=e).flagPlayer=null,e.teamPlayerName=null,e.teamPlayerName2=null,e.flagAI=null,e.teamAIName=null,e.teamAIName2=null,e.framePlayer=null,e.frameAI=null;var a,n,s=new Phaser.Image(e.game,0,0,"bg");e.addChild(s),e.slotsManager=new h.SlotsManager(e.game,246,127),e.addChild(e.slotsManager),e.backlightsPlayer=new Array;for(var i=0;i<5;i++)(a=new Phaser.Image(e.game,h.GameConstants.GAME_WIDTH/2-85+57*i,h.GameConstants.GAME_HEIGHT/2+60,"texture_atlas_2","backlight.png")).scale.x=.2,a.scale.y=.33,a.anchor.set(.5),a.tint=4587375,a.visible=!1,e.backlightsPlayer.push(a),e.addChild(e.backlightsPlayer[i]);e.backlightsAI=new Array;for(i=0;i<5;i++)(n=new Phaser.Image(e.game,h.GameConstants.GAME_WIDTH/2-85+57*i,h.GameConstants.GAME_HEIGHT/2-40+80,"texture_atlas_2","backlight.png")).scale.x=.2,n.scale.y=1.66,n.anchor.set(.5),n.tint=16733600,n.visible=!1,e.backlightsAI.push(n),e.addChild(e.backlightsAI[i]);return e.backlight=new Phaser.Image(e.game,h.GameConstants.GAME_WIDTH/2,h.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","backlight.png"),e.backlight.anchor.set(.5),e.addChild(e.backlight),e.harold=new h.Harold(e.game,h.GameConstants.GAME_WIDTH/2+35,185),e.addChild(e.harold),e.spectatorsManager=new h.SpectatorsManager(e.game,e.x,e.y),e.addChild(e.spectatorsManager),e.scoreBoard=new h.ScoreBoard(e.game),e.add(e.scoreBoard),e}return __extends(r,o),r.prototype.destroy=function(t,e){r.currentInstance=null,o.prototype.destroy.call(this,t,e)},r.prototype.updateScore=function(){this.scoreBoard.updateScore()},r.prototype.onBasketMissed=function(){this.spectatorsManager.onBasketMissed(),this.harold.onBasketMissed()},r.prototype.onBasketScored=function(){this.spectatorsManager.onBasketScored(),this.harold.onBasketScored()},r.prototype.winPlayer=function(){for(var t=function(t){e.backlightsPlayer[t].visible=!0,e.game.add.tween(e.backlightsPlayer[t].scale).to({y:1.66},300,Phaser.Easing.Cubic.Out,!0,100*t),e.game.add.tween(e.backlightsPlayer[t]).to({y:h.GameConstants.GAME_HEIGHT/2},300,Phaser.Easing.Cubic.Out,!0,100*t).onComplete.add(function(){this.game.add.tween(this.backlightsPlayer[t].scale).to({y:.33},300,Phaser.Easing.Cubic.Out,!0,100),this.game.add.tween(this.backlightsPlayer[t]).to({y:h.GameConstants.GAME_HEIGHT/2+100},300,Phaser.Easing.Cubic.In,!0,100).onComplete.add(function(){this.backlightsPlayer[t].visible=!1},this)},e)},e=this,a=0;a<5;a++)t(a)},r.prototype.winAI=function(){for(var t=function(t){e.backlightsAI[t].visible=!0,e.game.add.tween(e.backlightsAI[t]).to({y:h.GameConstants.GAME_HEIGHT/2-40},300,Phaser.Easing.Cubic.Out,!0,100*t).onComplete.add(function(){this.game.add.tween(this.backlightsAI[t]).to({y:h.GameConstants.GAME_HEIGHT/2-40+80},300,Phaser.Easing.Cubic.In,!0,100).onComplete.add(function(){this.backlightsAI[t].visible=!1},this)},e)},e=this,a=0;a<5;a++)t(a)},r.prototype.matchReady=function(){null!==this.flagPlayer&&(this.flagPlayer.destroy(),this.teamPlayerName.destroy(),this.teamPlayerName2.destroy(),this.flagAI.destroy(),this.teamAIName.destroy(),this.teamAIName2.destroy(),this.framePlayer.destroy(),this.frameAI.destroy()),this.spectatorsManager.matchReady();var t="flag_"+h.GameVars.getInstance().myTeamID+".png";this.flagPlayer=new Phaser.Image(this.game,165,36,"texture_atlas_1",t),this.flagPlayer.anchor.set(.5),this.addChild(this.flagPlayer),this.framePlayer=new Phaser.Image(this.game,165,36,"texture_atlas_2","frame_player.png"),this.framePlayer.anchor.set(.5),this.addChild(this.framePlayer),null===h.GameVars.getInstance().teamsData[h.GameVars.getInstance().myTeamID-1].name2?(this.teamPlayerName=new Phaser.Text(this.game,165,80,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().myTeamID-1].name,{font:"20px Mirza"}),this.teamPlayerName.addColor("#8FAABF",0),this.teamPlayerName.anchor.set(.5),this.addChild(this.teamPlayerName)):(this.teamPlayerName=new Phaser.Text(this.game,165,77,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().myTeamID-1].name,{font:"20px Mirza"}),this.teamPlayerName.addColor("#8FAABF",0),this.teamPlayerName.anchor.set(.5),this.addChild(this.teamPlayerName),this.teamPlayerName2=new Phaser.Text(this.game,165,92,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().myTeamID-1].name2,{font:"20px Mirza"}),this.teamPlayerName2.addColor("#8FAABF",0),this.teamPlayerName2.anchor.set(.5),this.addChild(this.teamPlayerName2));var e="flag_"+(h.GameVars.getInstance().oponentPlayer()+1)+".png";this.flagAI=new Phaser.Image(this.game,480,36,"texture_atlas_1",e),this.flagAI.anchor.set(.5),this.flagAI.alpha=.5,this.addChild(this.flagAI),this.frameAI=new Phaser.Image(this.game,480,36,"texture_atlas_2","frame_AI.png"),this.frameAI.anchor.set(.5),this.frameAI.alpha=0,this.addChild(this.frameAI),null===h.GameVars.getInstance().teamsData[h.GameVars.getInstance().oponentPlayer()].name2?(this.teamAIName=new Phaser.Text(this.game,480,80,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().oponentPlayer()].name,{font:"20px Mirza"}),this.teamAIName.addColor("#8FAABF",0),this.teamAIName.anchor.set(.5),this.addChild(this.teamAIName)):(this.teamAIName=new Phaser.Text(this.game,480,77,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().oponentPlayer()].name,{font:"20px Mirza"}),this.teamAIName.addColor("#8FAABF",0),this.teamAIName.anchor.set(.5),this.addChild(this.teamAIName),this.teamAIName2=new Phaser.Text(this.game,480,92,h.GameVars.getInstance().teamsData[h.GameVars.getInstance().oponentPlayer()].name2,{font:"20px Mirza"}),this.teamAIName2.addColor("#8FAABF",0),this.teamAIName2.anchor.set(.5),this.addChild(this.teamAIName2))},r.prototype.changeFlags=function(t){t?(this.game.add.tween(this.flagPlayer).to({alpha:1},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.framePlayer).to({alpha:1},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.flagAI).to({alpha:.5},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.frameAI).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0)):(this.game.add.tween(this.flagPlayer).to({alpha:.5},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.framePlayer).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.flagAI).to({alpha:1},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.frameAI).to({alpha:1},300,Phaser.Easing.Cubic.Out,!0))},r.prototype.removeFlags=function(){this.game.add.tween(this.flagPlayer).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.framePlayer).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.flagAI).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.frameAI).to({alpha:0},300,Phaser.Easing.Cubic.Out,!0)},r}(Phaser.Group);h.BackgroundManager=t}(BasketChamps||(BasketChamps={})),function(e){var t=function(s){function t(t,e,a){var n=s.call(this,t,null,"harold",!1)||this;return n.x=e,n.y=a,n.celebrating=!1,n.haroldImage=new Phaser.Image(n.game,0,0,"texture_atlas_1","harold_front.png"),n.haroldImage.anchor.set(.5),n.addChild(n.haroldImage),n}return __extends(t,s),t.prototype.update=function(){s.prototype.update.call(this),this.celebrating||(e.StageContainer.currentInstance.ball.x+30<this.x?(this.haroldImage.frameName="harold_side.png",this.scale.x=1):e.StageContainer.currentInstance.ball.x-30>this.x?(this.haroldImage.frameName="harold_side.png",this.scale.x=-1):this.haroldImage.frameName="harold_front.png")},t.prototype.onBasketMissed=function(){this.celebrating=!0,e.GameVars.getInstance().isPlayerTurn?this.loseTween():this.winTween2()},t.prototype.onBasketScored=function(){this.celebrating=!0,e.GameVars.getInstance().isPlayerTurn?this.winTween():this.loseTween()},t.prototype.winTween=function(){var t=Math.floor(50*Math.random()+20);this.game.add.tween(this.haroldImage.scale).to({x:1.1,y:.9},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.haroldImage.frameName="harold_happy.png",this.game.add.tween(this.haroldImage.scale).to({x:.8,y:1},200,Phaser.Easing.Bounce.Out,!0),this.game.add.tween(this.haroldImage).to({y:this.haroldImage.y-t},8*t,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.haroldImage).to({y:this.haroldImage.y+t},8*t,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.haroldImage.frameName="harold_front.png",this.game.add.tween(this.haroldImage.scale).to({x:1.1,y:.9},150,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.haroldImage.scale).to({x:1,y:1},150,Phaser.Easing.Bounce.Out,!0).onComplete.add(function(){this.onCelebration=!1},this)},this)},this)},this)},this)},t.prototype.winTween2=function(){this.game.add.tween(this.haroldImage.scale).to({x:1.1,y:.9},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.haroldImage.frameName="harold_happy.png",this.game.add.tween(this.haroldImage.scale).to({x:.8,y:1},200,Phaser.Easing.Bounce.Out,!0).onComplete.add(function(){this.haroldImage.frameName="harold_front.png",this.game.add.tween(this.haroldImage.scale).to({x:1.1,y:.9},150,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.haroldImage.scale).to({x:1,y:1},150,Phaser.Easing.Bounce.Out,!0).onComplete.add(function(){this.onCelebration=!1},this)},this)},this)},this)},t.prototype.loseTween=function(){this.haroldImage.frameName="harold_wow.png",this.game.add.tween(this.haroldImage).to({angle:-5},400,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.haroldImage).to({angle:5},400,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.haroldImage).to({angle:0},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.haroldImage.frameName="harold_front.png",this.onCelebration=!1},this)},this)},this)},t}(Phaser.Group);e.Harold=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"scoreboard",!1)||this;return e.x=233,e.y=5,e.playerPointsLabel=new Phaser.BitmapText(e.game,40,60,"digital-display",n.GameVars.getInstance().playerPoints.toString(),110),e.playerPointsLabel.anchor.set(.5),e.add(e.playerPointsLabel),e.AIPointsLabel=new Phaser.BitmapText(e.game,142,60,"digital-display",n.GameVars.getInstance().AIPoints.toString(),110),e.AIPointsLabel.anchor.set(.5),e.add(e.AIPointsLabel),e}return __extends(t,a),t.prototype.updateScore=function(){var t=this.game.add.tween(this.playerPointsLabel),e=this.game.add.tween(this.AIPointsLabel);0!==n.GameVars.getInstance().playerPoints||0!==n.GameVars.getInstance().AIPoints?(t.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),t.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),t.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),t.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),t.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),t.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),e.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),e.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),e.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),e.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),e.to({alpha:0},100,Phaser.Easing.Bounce.In,!1),e.to({alpha:1},100,Phaser.Easing.Bounce.Out,!1),t.onComplete.add(this.changePoints,this),t.start(),e.start()):(this.playerPointsLabel.setText(n.GameVars.getInstance().playerPoints.toString()),this.AIPointsLabel.setText(n.GameVars.getInstance().AIPoints.toString()))},t.prototype.changePoints=function(){this.playerPointsLabel.setText(n.GameVars.getInstance().playerPoints.toString()),this.AIPointsLabel.setText(n.GameVars.getInstance().AIPoints.toString())},t}(Phaser.Group);n.ScoreBoard=t}(BasketChamps||(BasketChamps={})),function(e){var t=function(r){function t(t,e,a){var n=r.call(this,t,null,"slots-manager",!1)||this;n.x=e,n.y=a,n.count=0,n.slotsPlayer=new Array,n.slotsAI=new Array;for(var s=0;s<5;s++){var i=void 0;(i=new Phaser.Sprite(n.game,12*s,0,"texture_atlas_1","slot0001.png")).anchor.set(.5),n.slotsPlayer.push(i),n.addChild(i);var o=void 0;(o=new Phaser.Sprite(n.game,104+12*s,0,"texture_atlas_1","slot0001.png")).anchor.set(.5),n.slotsAI.push(o),n.addChild(o)}return n}return __extends(t,r),t.prototype.resetSlots=function(){void 0!==this.pulseTween&&this.pulseTween.stop();for(var t=this.count=0;t<5;t++)this.slotsPlayer[t].alpha=1,this.slotsAI[t].alpha=1,this.slotsPlayer[t].loadTexture("texture_atlas_1","slot0001.png"),this.slotsAI[t].loadTexture("texture_atlas_1","slot0001.png")},t.prototype.startSuddenDeath=function(t){this.pulseTween.stop(),this.slotsAI[4].alpha=1,t?this.slotsAI[4].loadTexture("texture_atlas_1","slot0003.png"):this.slotsAI[4].loadTexture("texture_atlas_1","slot0004.png"),this.game.time.events.add(50,function(){for(var t=0;t<5;t++)this.game.add.tween(this.slotsPlayer[4-t]).to({alpha:0},100,Phaser.Easing.Linear.None,!0,50*(4-t)),this.game.add.tween(this.slotsAI[4-t]).to({alpha:0},100,Phaser.Easing.Linear.None,!0,50*(4-t))},this),this.game.time.events.add(500,function(){for(var t=0;t<5;t++)this.slotsPlayer[t].loadTexture("texture_atlas_1","slot0005.png"),this.slotsAI[t].loadTexture("texture_atlas_1","slot0008.png")},this)},t.prototype.finishSuddenDeath=function(){this.count++,this.game.add.tween(this.slotsPlayer[0]).to({alpha:1},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.pulseTween=this.game.add.tween(this.slotsPlayer[0]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start()},this),this.game.add.tween(this.slotsAI[0]).to({alpha:1},200,Phaser.Easing.Cubic.Out,!0)},t.prototype.updateSlots=function(t){e.GameVars.getInstance().isPlayerTurn?(e.GameVars.getInstance().round<5&&(void 0!==this.pulseTween&&this.pulseTween.stop(),this.slotsPlayer[e.GameVars.getInstance().round].loadTexture("texture_atlas_1","slot0002.png"),this.pulseTween=this.game.add.tween(this.slotsPlayer[e.GameVars.getInstance().round]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start()),0<e.GameVars.getInstance().round&&(5<=e.GameVars.getInstance().round&&this.pulseTween.stop(),t?this.slotsAI[e.GameVars.getInstance().round-1].loadTexture("texture_atlas_1","slot0003.png"):this.slotsAI[e.GameVars.getInstance().round-1].loadTexture("texture_atlas_1","slot0004.png"),this.slotsAI[e.GameVars.getInstance().round-1].alpha=1)):(void 0!==this.pulseTween&&this.pulseTween.stop(),this.slotsAI[e.GameVars.getInstance().round].loadTexture("texture_atlas_1","slot0002.png"),this.pulseTween=this.game.add.tween(this.slotsAI[e.GameVars.getInstance().round]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start(),t?this.slotsPlayer[e.GameVars.getInstance().round].loadTexture("texture_atlas_1","slot0003.png"):this.slotsPlayer[e.GameVars.getInstance().round].loadTexture("texture_atlas_1","slot0004.png"),this.slotsPlayer[e.GameVars.getInstance().round].alpha=1)},t.prototype.finalRounds=function(t){5===this.count&&e.GameVars.getInstance().isPlayerTurn&&(this.count=0),0===this.count?(this.count++,this.pulseTween.stop(),this.slotsAI[4].alpha=1,t?this.slotsAI[4].loadTexture("texture_atlas_1","slot0006.png"):this.slotsAI[4].loadTexture("texture_atlas_1","slot0007.png"),this.game.time.events.add(50,function(){for(var t=0;t<5;t++)this.game.add.tween(this.slotsPlayer[4-t]).to({alpha:0},100,Phaser.Easing.Linear.None,!0,50*(4-t)),this.game.add.tween(this.slotsAI[4-t]).to({alpha:0},100,Phaser.Easing.Linear.None,!0,50*(4-t))},this),this.game.time.events.add(500,function(){for(var t=0;t<5;t++)this.slotsPlayer[t].loadTexture("texture_atlas_1","slot0005.png"),this.slotsAI[t].loadTexture("texture_atlas_1","slot0008.png");this.game.add.tween(this.slotsPlayer[0]).to({alpha:1},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.pulseTween=this.game.add.tween(this.slotsPlayer[0]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start()},this),this.game.add.tween(this.slotsAI[0]).to({alpha:1},200,Phaser.Easing.Cubic.Out,!0)},this)):(this.pulseTween.stop(),e.GameVars.getInstance().isPlayerTurn?(this.count++,this.slotsAI[this.count-2].alpha=1,e.GameVars.getInstance().matchFinished||(this.slotsPlayer[this.count-1].alpha=1,this.slotsAI[this.count-1].alpha=1,this.slotsPlayer[this.count-1].loadTexture("texture_atlas_1","slot0005.png"),this.pulseTween=this.game.add.tween(this.slotsPlayer[this.count-1]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start()),t?this.slotsAI[this.count-2].loadTexture("texture_atlas_1","slot0006.png"):this.slotsAI[this.count-2].loadTexture("texture_atlas_1","slot0007.png")):(this.slotsAI[this.count-1].alpha=1,this.slotsPlayer[this.count-1].alpha=1,this.slotsAI[this.count-1].loadTexture("texture_atlas_1","slot0005.png"),this.pulseTween=this.game.add.tween(this.slotsAI[this.count-1]),this.pulseTween.to({alpha:0},100,Phaser.Easing.Linear.None,!1),this.pulseTween.to({alpha:1},100,Phaser.Easing.Linear.None,!1,500),this.pulseTween.delay(500),this.pulseTween.loop(),this.pulseTween.start(),t?this.slotsPlayer[this.count-1].loadTexture("texture_atlas_1","slot0006.png"):this.slotsPlayer[this.count-1].loadTexture("texture_atlas_1","slot0007.png")))},t.prototype.pauseTween=function(){void 0!==this.pulseTween&&this.pulseTween.pause()},t.prototype.resumeTween=function(){void 0!==this.pulseTween&&this.pulseTween.resume()},t}(Phaser.Group);e.SlotsManager=t}(BasketChamps||(BasketChamps={})),function(u){var t=function(l){function t(t,e,a,n,s){var i=l.call(this,t,null,"spectator",!1)||this;i.x=e,i.y=a,i.myTeam=n,i.special=s,i.celebration=!1,i.onCelebration=!1,i.front=!1,i.onWave=!1,i.onPause=!1,i.count=0,i.countFront=0,i.rand=Math.floor(20*Math.random()+5),i.headType=Math.floor(6*Math.random()+1);var o,r,h,c=Math.floor(2*Math.random()+1);(i.myTeam?(o=u.GameVars.getInstance().teamsData[u.GameVars.getInstance().myTeamID-1].colour,r=u.GameVars.getInstance().teamsData[u.GameVars.getInstance().myTeamID-1].race):(o=u.GameVars.getInstance().teamsData[u.GameVars.getInstance().oponentPlayer()].colour,r=u.GameVars.getInstance().teamsData[u.GameVars.getInstance().oponentPlayer()].race),"both"===r)&&(r=0===Math.floor(2*Math.random())?"white":"black");return 4<i.headType?(h="woman",c=1):h="man",i.bodyS="caca"===s?new Phaser.Image(i.game,0,-14,"texture_atlas_1","caca.png"):new Phaser.Image(i.game,0,0,"texture_atlas_1","body_"+r+"_"+h+"_"+o+"_1_"+c+".png"),i.bodyS.anchor.set(.5,1),i.addChild(i.bodyS),"duck"===s&&(i.bodyS.alpha=0),"noHead"===s?(i.headS=new Phaser.Image(i.game,42,-27,"texture_atlas_1","spectator_"+r+"_"+i.headType+"_00001.png"),i.headS.anchor.set(.5)):"normal"===s?(i.headS=new Phaser.Image(i.game,0,-43,"texture_atlas_1","spectator_"+r+"_"+i.headType+"_00001.png"),i.headS.anchor.set(.5)):"pigeon"===s?(i.headS=new Phaser.Image(i.game,0,-45,"texture_atlas_1","pigeon_head_1.png"),i.headS.anchor.set(.5)):"horse"===s?(i.headS=new Phaser.Image(i.game,0,-40,"texture_atlas_1","horse_head_1.png"),i.headS.anchor.set(.75)):"duck"===s?(i.headS=new Phaser.Image(i.game,0,-33,"texture_atlas_1","duck_idle_1.png"),i.headS.anchor.set(.6,.5)):(i.headS=new Phaser.Image(i.game,0,-45,"texture_atlas_1","pigeon_head_1.png"),i.headS.anchor.set(.5)),"normal"===s||"noHead"===s?(i.headS.animations.add("idle",Phaser.Animation.generateFrameNames("spectator_"+r+"_"+i.headType+"_",1,1,".png",5)),i.headS.animations.add("win",Phaser.Animation.generateFrameNames("spectator_"+r+"_"+i.headType+"_",3,3,".png",5)),i.headS.animations.add("lose",Phaser.Animation.generateFrameNames("spectator_"+r+"_"+i.headType+"_",2,2,".png",5)),i.headS.animations.add("front",Phaser.Animation.generateFrameNames("spectator_"+r+"_"+i.headType+"_",4,4,".png",5))):"pigeon"===s?(i.headS.animations.add("idle",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("win",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("lose",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("front",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1))):"horse"===s?(i.headS.animations.add("idle",Phaser.Animation.generateFrameNames("horse_head_",1,1,".png",1)),i.headS.animations.add("win",Phaser.Animation.generateFrameNames("horse_head_",1,1,".png",1)),i.headS.animations.add("lose",Phaser.Animation.generateFrameNames("horse_head_",1,1,".png",1)),i.headS.animations.add("front",Phaser.Animation.generateFrameNames("horse_head_",1,1,".png",1))):"duck"===s?(i.headS.animations.add("idle",Phaser.Animation.generateFrameNames("duck_idle_",1,1,".png",1)),i.headS.animations.add("win",Phaser.Animation.generateFrameNames("duck_happy_",1,1,".png",1)),i.headS.animations.add("lose",Phaser.Animation.generateFrameNames("duck_angry_",1,1,".png",1)),i.headS.animations.add("front",Phaser.Animation.generateFrameNames("duck_front_",1,1,".png",1))):(i.headS.animations.add("idle",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("win",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("lose",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1)),i.headS.animations.add("front",Phaser.Animation.generateFrameNames("pigeon_head_",1,1,".png",1))),"caca"===s&&(i.headS.alpha=0),"caca"!==s&&"duck"!==s&&(i.bodyS.animations.add("win",Phaser.Animation.generateFrameNames("body_"+r+"_"+h+"_"+o+"_",2,2,"_"+c+".png",1)),i.bodyS.animations.add("idle",Phaser.Animation.generateFrameNames("body_"+r+"_"+h+"_"+o+"_",1,1,"_"+c+".png",1))),i.addChild(i.headS),i}return __extends(t,l),t.prototype.update=function(){if(l.prototype.update.call(this),!this.onPause&&!this.onCelebration)if(this.celebration||this.front||this.onWave)this.celebration&&!this.onWave?0===this.count?(this.headS.rotation=0,this.count++):50<this.count?(this.count=0,this.celebration=!1,this.headS.play("idle"),"caca"!==this.special&&this.bodyS.play("idle")):this.count++:this.front&&(this.countFront<600?this.countFront++:(this.countFront=0,this.front=!1));else{var t=Math.floor(1e3*Math.random());if(1===t)return this.front=!0,this.headS.rotation=0,void((t=Math.random())<.33?(this.headS.scale.x=-1,this.headS.play("idle")):t<.66?(this.headS.scale.x=1,this.headS.play("idle")):this.headS.play("front"));u.StageContainer.currentInstance.ball.x+15<this.x?(this.headS.scale.x=1,"duck"!==this.special&&(this.headS.rotation=0-1e-4*(u.StageContainer.currentInstance.ball.y-this.y)*this.rand),this.headS.play("idle")):u.StageContainer.currentInstance.ball.x-15>this.x?(this.headS.scale.x=-1,"duck"!==this.special&&(this.headS.rotation=-(0-1e-4*(u.StageContainer.currentInstance.ball.y-this.y)*this.rand)),this.headS.play("idle")):(this.headS.rotation=0,this.headS.play("front"))}},t.prototype.pause=function(){this.onPause=!0},t.prototype.resume=function(){this.onPause=!1},t.prototype.onBasketMissed=function(){if(!this.front&&Math.random()<.7){this.celebration=!0;var t=Math.floor(2*Math.random());u.GameVars.getInstance().isPlayerTurn&&this.myTeam||!u.GameVars.getInstance().isPlayerTurn&&!this.myTeam?(this.headS.play("lose"),0===t?this.cryTween():this.cryTween2()):0===t?this.celebrationTween():this.celebrationTween2()}},t.prototype.onBasketScored=function(){if("caca"===this.special)u.GameVars.getInstance().isPlayerTurn||this.myTeam||this.celebrationTween();else if(!this.front&&Math.random()<.7){this.celebration=!0;var t=Math.floor(2*Math.random());u.GameVars.getInstance().isPlayerTurn&&this.myTeam||!u.GameVars.getInstance().isPlayerTurn&&!this.myTeam?0===t?this.celebrationTween():this.celebrationTween2():(this.headS.play("lose"),0===t?this.cryTween():this.cryTween2())}},t.prototype.celebrationTween=function(){var t;"caca"!==this.special?(t=1===this.headS.scale.x?1:-1,this.onCelebration=!0,this.bodyS.play("win"),this.game.add.tween(this.bodyS).to({y:this.bodyS.y+10},200,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.saltoTween(this.bodyS,1)},this),this.headS.play("win"),"noHead"!==this.special?this.game.add.tween(this.headS).to({y:this.headS.y+10},200,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.saltoTween(this.headS,t)},this):this.game.time.events.add(1300,function(){this.headS.play("idle")},this)):this.cacaTween()},t.prototype.celebrationTween2=function(){this.celebrationTween()},t.prototype.saltoTween=function(t,e){this.game.add.tween(t.scale).to({x:1.1*e,y:.9},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(t.scale).to({x:.8*e,y:1},200,Phaser.Easing.Bounce.Out,!0),this.game.add.tween(t).to({y:t.y-30},240,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(t).to({y:t.y+20},160,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){t.play("idle"),this.game.add.tween(t.scale).to({x:1.1*e,y:.9},150,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(t.scale).to({x:1*e,y:1},150,Phaser.Easing.Bounce.Out,!0).onComplete.add(function(){this.onCelebration=!1},this)},this)},this)},this)},this)},t.prototype.cacaTween=function(){this.game.add.tween(this.bodyS.scale).to({x:1.2,y:.7},200,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.bodyS.scale).to({x:.8,y:1},200,Phaser.Easing.Bounce.Out,!0),this.game.add.tween(this.bodyS).to({y:this.bodyS.y-50},400,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.bodyS).to({y:this.bodyS.y+50},400,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.game.add.tween(this.bodyS.scale).to({x:1.2,y:.7},150,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.add.tween(this.bodyS.scale).to({x:1,y:1},150,Phaser.Easing.Bounce.Out,!0)},this)},this)},this)},this)},t.prototype.cryTween=function(){for(var t=Math.floor(240*Math.random()+40),e=this.game.add.tween(this.headS),a=0;a<3;a++)e.to({y:this.headS.y+2},t,Phaser.Easing.Quadratic.Out,!1),e.delay(t/4),e.to({y:this.headS.y},t,Phaser.Easing.Quadratic.Out,!1);e.start()},t.prototype.cryTween2=function(){var t=Math.floor(400*Math.random()+200),e=this.game.add.tween(this.headS);e.to({y:this.headS.y+2},t,Phaser.Easing.Quadratic.Out,!1),e.delay(t/4),e.to({y:this.headS.y},t,Phaser.Easing.Quadratic.Out,!1),e.start()},t.prototype.wave=function(t){this.onWave=!0;var e=this.game.add.tween(this.headS.scale),a=this.game.add.tween(this.bodyS.scale);1===this.headS.scale.x?(e.to({x:.9,y:1.1},200,Phaser.Easing.Cubic.In,!1),e.to({x:1,y:1},200,Phaser.Easing.Cubic.Out,!1,300)):(e.to({x:-.9,y:1.1},200,Phaser.Easing.Cubic.In,!1),e.to({x:-1,y:1},200,Phaser.Easing.Cubic.Out,!1,300)),a.to({x:.9,y:1.1},200,Phaser.Easing.Cubic.In,!1),a.to({x:1,y:1},200,Phaser.Easing.Cubic.Out,!1,300),a.onComplete.add(function(){this.headS.play("idle"),this.bodyS.play("idle"),this.onWave=!1},this),this.game.time.events.add(250*t,function(){this.headS.play("win"),this.bodyS.play("win"),e.start(),a.start()},this)},t.prototype.matchWon=function(){this.myTeam?(this.headS.play("win"),this.bodyS.play("win"),this.celebrationMatch()):(this.headS.play("lose"),this.cryMatch())},t.prototype.matchLosed=function(){this.myTeam?(this.headS.play("lose"),this.cryMatch()):(this.headS.play("win"),this.bodyS.play("win"),this.celebrationMatch())},t.prototype.celebrationMatch=function(){this.onCelebration=!0},t.prototype.cryMatch=function(){this.onCelebration=!0},t}(Phaser.Group);u.Spectator=t}(BasketChamps||(BasketChamps={})),function(r){var t=function(s){function t(t,e,a){var n=s.call(this,t,null,"spectators-manager",!1)||this;return n.x=e,n.y=a,n.seats=new Phaser.Image(n.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats.png"),n.seats.anchor.set(.5),n.addChild(n.seats),n.seats2=new Phaser.Image(n.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats_2.png"),n.seats2.anchor.set(.5),n.addChild(n.seats2),n.seats1=new Phaser.Image(n.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats_1.png"),n.seats1.anchor.set(.5),n.addChild(n.seats1),n.spectators1=new Array,n.spectators2=new Array,n.spectators3=new Array,n}return __extends(t,s),t.prototype.destroy=function(t,e){r.BackgroundManager.currentInstance=null,s.prototype.destroy.call(this,t,e)},t.prototype.pause=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].pause();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].pause();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].pause()},t.prototype.resume=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].resume();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].resume();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].resume()},t.prototype.onBasketMissed=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].onBasketMissed();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].onBasketMissed();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].onBasketMissed();r.AudioManager.getInstance().playSound("celebration_3")},t.prototype.onBasketScored=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].onBasketScored();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].onBasketScored();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].onBasketScored();r.AudioManager.getInstance().playSound("celebration_3")},t.prototype.onMatchWon=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].matchWon();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].matchWon();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].matchWon()},t.prototype.onMatchLosed=function(){for(var t=0;t<this.spectators1.length;t++)null!==this.spectators1[t]&&this.spectators1[t].matchLosed();for(t=0;t<this.spectators2.length;t++)null!==this.spectators2[t]&&this.spectators2[t].matchLosed();for(t=0;t<this.spectators3.length;t++)null!==this.spectators3[t]&&this.spectators3[t].matchWon()},t.prototype.matchReady=function(){this.specialTypes=["noHead","duck","horse","pigeon","caca"],this.specialTypes=Phaser.ArrayUtils.shuffle(this.specialTypes);for(var t=0;t<10;t++)this.remove(this.spectators1[t]),this.remove(this.spectators2[t]),this.remove(this.spectators3[t]);this.remove(this.seats),this.remove(this.seats1),this.remove(this.seats2),this.seats=new Phaser.Image(this.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats.png"),this.seats.anchor.set(.5),this.addChild(this.seats);var e=0,a=0;r.GameVars.getInstance().numMatch<2?(e=20,a=5):r.GameVars.getInstance().numMatch<5?(e=30,a=5):5===r.GameVars.getInstance().numMatch?(e=40,a=10):6===r.GameVars.getInstance().numMatch?(e=50,a=15):7===r.GameVars.getInstance().numMatch?(e=60,a=20):8===r.GameVars.getInstance().numMatch&&(e=80,a=25),this.spectators1=new Array;var n=0;for(t=0;t<10;t++){if((o=Math.floor(100*Math.random()))<e){var s=void 0;s=(o=Math.floor(100*Math.random()))<40?new r.Spectator(this.game,165+38*t,r.GameConstants.GAME_HEIGHT/2+30+40,!1,"normal"):new r.Spectator(this.game,165+38*t,r.GameConstants.GAME_HEIGHT/2+30+40,!0,"normal"),this.spectators1.push(s),n++}else this.spectators1.push(null),n++}for(t=0;t<n;t++)null!==this.spectators1[t]&&this.add(this.spectators1[t]);this.seats2=new Phaser.Image(this.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats_2.png"),this.seats2.anchor.set(.5),this.addChild(this.seats2),this.spectators2=new Array;for(t=n=0;t<10;t++){if((o=Math.floor(100*Math.random()))<e){o=Math.floor(100*Math.random());s=void 0;var i="normal";Math.floor(100*Math.random())<a&&0!==this.specialTypes.length&&(i=this.specialTypes.pop()),"caca"===i&&(i="normal",this.specialTypes.push("caca")),"duck"===i&&(i="normal",this.specialTypes.push("duck")),s=o<40?new r.Spectator(this.game,157+40*t,r.GameConstants.GAME_HEIGHT/2+55+40,!1,i):new r.Spectator(this.game,157+40*t,r.GameConstants.GAME_HEIGHT/2+55+40,!0,i),"noHead"===i&&(t++,this.spectators2.push(null)),this.spectators2.push(s),n++}else this.spectators2.push(null),n++}for(t=0;t<n;t++)null!==this.spectators2[t]&&this.add(this.spectators2[t]);for(t=0;t<n;t++)null!==this.spectators2[t]&&"normal"!==this.spectators2[t].special&&this.bringToTop(this.spectators2[t]);this.seats1=new Phaser.Image(this.game,r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"texture_atlas_2","seats_1.png"),this.seats1.anchor.set(.5),this.addChild(this.seats1),this.spectators3=new Array;for(t=n=0;t<10;t++){var o;if((o=Math.floor(100*Math.random()))<e){o=Math.floor(100*Math.random());s=void 0,i="normal";Math.floor(100*Math.random())<a&&0!==this.specialTypes.length&&(i=this.specialTypes.pop()),o<40?s=new r.Spectator(this.game,147+42*t,r.GameConstants.GAME_HEIGHT/2+95+40,!1,i):("caca"===i&&(i="normal",this.specialTypes.push("caca")),s=new r.Spectator(this.game,147+42*t,r.GameConstants.GAME_HEIGHT/2+95+40,!0,i)),"noHead"===i&&(t++,this.spectators3.push(null)),this.spectators3.push(s),n++}else this.spectators3.push(null),n++}for(t=0;t<n;t++)null!==this.spectators3[t]&&this.add(this.spectators3[t]);for(t=0;t<n;t++)null!==this.spectators3[t]&&"normal"!==this.spectators3[t].special&&this.bringToTop(this.spectators3[t])},t.prototype.wave=function(){for(var t=0;t<10;t++)null!==this.spectators1[t]&&this.spectators1[t].wave(t),null!==this.spectators2[t]&&this.spectators2[t].wave(t),null!==this.spectators3[t]&&this.spectators3[t].wave(t)},t}(Phaser.Group);r.SpectatorsManager=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(h){function t(t,e,a){var n=h.call(this,t,null,"classification-background",!1)||this;n.x=e,n.y=a;var s=t.add.bitmapData(10,10);s.ctx.beginPath(),s.ctx.arc(0,0,10,0,Math.PI),s.ctx.fillStyle="#ffffff",s.ctx.fill();var i,o,r=t.add.bitmapData(100,100);return r.ctx.beginPath(),r.ctx.rect(0,0,100,100),r.ctx.fillStyle="#ffffff",r.ctx.fill(),n.sprites=new Array,(i=new Phaser.Sprite(t,35,30,s)).tint=5535628,i.alpha=1,i.angle=180,n.sprites.push(i),n.addChild(i),(i=new Phaser.Sprite(t,520,30,s)).tint=5535628,i.alpha=1,i.angle=270,n.sprites.push(i),n.addChild(i),(o=new Phaser.Sprite(t,35,20,r)).scale.setTo(4.85,.1),o.tint=5535628,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,30,r)).scale.setTo(5.05,.2),o.tint=5535628,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,50,r)).scale.setTo(5.05,.35),o.tint=14545393,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,85,r)).scale.setTo(5.05,.44),o.tint=10607579,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,129,r)).scale.setTo(5.05,.44),o.tint=14545393,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,173,r)).scale.setTo(5.05,.44),o.tint=10607579,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,25,217,r)).scale.setTo(5.05,.44),o.tint=14545393,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,35,266,r)).scale.setTo(4.95,.44),o.tint=10607579,o.alpha=1,n.sprites.push(o),n.add(o),(o=new Phaser.Sprite(t,35,310,r)).scale.setTo(4.95,.44),o.tint=14545393,o.alpha=1,n.sprites.push(o),n.add(o),(i=new Phaser.Sprite(t,45,354,s)).tint=14545393,i.alpha=1,i.angle=90,n.sprites.push(i),n.addChild(i),(i=new Phaser.Sprite(t,520,354,s)).tint=14545393,i.alpha=1,i.angle=0,n.sprites.push(i),n.addChild(i),(o=new Phaser.Sprite(t,45,354,r)).scale.setTo(4.75,.1),o.tint=14545393,o.alpha=1,n.sprites.push(o),n.add(o),n}return __extends(t,h),t}(Phaser.Group);t.ClassificationBackground=e}(BasketChamps||(BasketChamps={})),function(i){var t=function(s){function t(t){var e,a=s.call(this,t,null,"classification-layer",!1)||this;a.playOut=!1,a.teamPos=0,a.x=i.GameConstants.GAME_WIDTH/2,a.y=i.GameConstants.GAME_HEIGHT/2,a.background=new Phaser.Sprite(a.game,-a.x,-a.y,a.game.cache.getBitmapData("black_square")),a.background.scale.set(i.GameConstants.GAME_WIDTH/16,i.GameConstants.GAME_HEIGHT/16),a.background.alpha=.7,a.background.inputEnabled=!0,a.background.events.onInputDown.add(a.onClickBackground,a),a.add(a.background),a.classificationBackground=new i.ClassificationBackground(a.game,-a.x,-a.y),a.addChild(a.classificationBackground),a.teamLabel=new Phaser.Text(a.game,80-a.x,75-a.y,"TEAM",{font:"25px Jomhuria"}),a.teamLabel.anchor.set(.5),a.teamLabel.addColor("#6f9da8",0),a.add(a.teamLabel),a.wonLabel=new Phaser.Text(a.game,197-a.x,75-a.y,"WON",{font:"25px Jomhuria"}),a.wonLabel.anchor.set(.5),a.wonLabel.addColor("#6f9da8",0),a.add(a.wonLabel),a.lostLabel=new Phaser.Text(a.game,322-a.x,75-a.y,"LOST",{font:"25px Jomhuria"}),a.lostLabel.anchor.set(.5),a.lostLabel.addColor("#6f9da8",0),a.add(a.lostLabel),a.pointsLabel=new Phaser.Text(a.game,444-a.x,75-a.y,"POINTS",{font:"25px Jomhuria"}),a.pointsLabel.anchor.set(.5),a.pointsLabel.addColor("#6f9da8",0),a.add(a.pointsLabel),a.matchs_results=new Array;for(var n=0;n<5;n++)(e=new Phaser.Sprite(a.game,425+22*n-a.x,35-a.y,"texture_atlas_1","match_pending.png")).anchor.set(.5),a.addChild(e),a.matchs_results.push(e);return a.classificationTeams=new Array,a.booleanGroup=!1,"X"!==i.GameVars.getInstance().myGroupID&&(a.setGroup(),a.booleanGroup=!0),a.classificactionBadge=new Phaser.Image(a.game,90-a.x,35-a.y,"texture_atlas_1","badge_classification.png"),a.classificactionBadge.anchor.set(.5),a.addChild(a.classificactionBadge),a.playButton=new Phaser.Button(a.game,i.GameConstants.GAME_WIDTH-55-a.x,345-a.y,"texture_atlas_1",a.onPlayClicked,a),a.playButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),a.playButton.anchor.set(.5),a.playButton.visible=!0,a.add(a.playButton),a.lastPos=new Phaser.Image(a.game,18-a.x,310-a.y,"texture_atlas_1","skull_icon.png"),a.lastPos.anchor.set(.5),a.addChild(a.lastPos),a.visible=!1,a}return __extends(t,s),t.prototype.playVisible=function(){this.playButton.visible=!0,this.game.add.tween(this.playButton.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){void 0!==this.pulseTween&&this.pulseTween.stop(),this.pulseTween=this.game.add.tween(this.playButton.scale),this.pulseTween.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),this.pulseTween.delay(50),this.pulseTween.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),this.pulseTween.loop(),this.pulseTween.start()},this)},t.prototype.onPlayClicked=function(){this.playOut||(this.playOut=!0,i.GameVars.getInstance().numMatch<5?(void 0!==this.pulseTween&&this.pulseTween.stop(),this.game.add.tween(this.playButton.scale).to({x:0,y:0},650,Phaser.Easing.Elastic.In,!0).onComplete.add(function(){this.game.add.tween(this.background).to({alpha:0},500,Phaser.Easing.Linear.None,!0,300).onComplete.add(function(){i.MatchManager.currentInstance.matchReady(),this.game.add.tween(this).to({alpha:0},400,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.scale).to({x:0,y:0},500,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.visible=!1,this.scale.set(1),this.alpha=1,this.background.alpha=.7,this.playButton.scale.set(1)},this)},this)},this),i.AudioManager.getInstance().playSound("loop_fase_grupos",!0)):5===i.GameVars.getInstance().numMatch&&this.changeVisible()),i.GameConstants.SPONSOR===i.GameConstants.POKI&&PokiSDK.gameplayStart(),i.AudioManager.getInstance().playSound("click")},t.prototype.changeVisible=function(){void 0!==this.pulseTween&&this.pulseTween.stop(),this.game.add.tween(this.playButton.scale).to({x:0,y:0},500,Phaser.Easing.Elastic.In,!0),i.GameVars.getInstance().octFinal=i.TournamentManager.getInstance().octFinal();for(var t=[],e=0;e<6;e++)t.push({wins:i.GameVars.getInstance().groupWins[e],id:e});t.sort(function(t,e){return t.wins<e.wins?1:t.wins>t.wins?-1:0});var a=!1;for(e=0;e<4&&!a;e++)i.GameVars.getInstance().IDtoGroupID(t[e].id+1)+1===i.GameVars.getInstance().myTeamID&&(a=!0);if(a){i.AchievementsManager.getInstance().classificationPassed();var n=500;for(e=0;e<6;e++)this.teamPos===e?this.classificationTeams[e].moveFlag(n):this.game.add.tween(this.classificationTeams[e]).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,1e3);for(e=0;e<3;e++)this.game.add.tween(this.classificationBackground.sprites[e]).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,1e3);for(e=0;e<5;e++)this.game.add.tween(this.matchs_results[e]).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0);this.game.add.tween(this.group).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.wonLabel).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,n),this.game.add.tween(this.teamLabel).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,n),this.game.add.tween(this.lostLabel).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,n),this.game.add.tween(this.pointsLabel).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,n),this.game.add.tween(this.lastPos).to({alpha:0},n,Phaser.Easing.Cubic.Out,!0,n),this.game.time.events.add(1500,function(){i.TournamentManager.getInstance().showRound2(t),this.visible=!1},this)}else this.game.add.tween(this.scale).to({x:0,y:0},1e3,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.visible=!1,this.scale.set(1),i.AudioManager.getInstance().playSound("end_match",!0),i.BasketballCourtState.currentInstance.gameOverLayer.showGameOver(),i.BackgroundManager.currentInstance.spectatorsManager.pause()},this)},t.prototype.onClickBackground=function(){},t.prototype.showClassification=function(t){3!==t&&i.AudioManager.getInstance().playSound("loop_menus",!0);for(var e=0;e<6;e++)this.remove(this.classificationTeams[e]);if(this.classificationTeams=new Array,5<i.GameVars.getInstance().numMatch)i.BasketballCourtState.currentInstance.tournamentLayer.showTournament();else{3!==t?(this.alpha=0,this.visible=!0,this.game.add.tween(this).to({alpha:1},800,Phaser.Easing.Cubic.Out,!0)):this.visible=!0,this.playOut=!1,0<i.GameVars.getInstance().numMatch&&(1===t?i.GameVars.getInstance().groupWins[i.GameVars.getInstance().playerIDtoGroupID()]--:2===t&&i.GameVars.getInstance().groupLoses[i.GameVars.getInstance().playerIDtoGroupID()]--);var a=[];for(e=0;e<6;e++)a.push({points:2*i.GameVars.getInstance().groupWins[e]+i.GameVars.getInstance().groupLoses[e],id:e});a.sort(function(t,e){return t.points<e.points?1:t.points>t.points?-1:0});for(e=0;e<6;e++){var n=new i.ClassificationTeam(this.game,a[e].id,e%2==0,-this.x,107+44*e-this.y,e);this.isMyTeam(a[e].id)&&(this.teamPos=e),this.classificationTeams.push(n)}for(e=0;e<6;e++)this.add(this.classificationTeams[e]);if(0<i.GameVars.getInstance().numMatch&&3!==t&&(this.playButton.visible=!1,this.playButton.scale.set(0),1===t?this.classificationTeams[this.teamPos].sumPoints(!0,this.teamPos):this.classificationTeams[this.teamPos].sumPoints(!1,this.teamPos)),3===t)for(e=0;e<5;e++)1===i.GameVars.getInstance().matchResults[e]?this.matchs_results[e].loadTexture("texture_atlas_1","match_won.png"):-1===i.GameVars.getInstance().matchResults[e]&&this.matchs_results[e].loadTexture("texture_atlas_1","match_lost.png");void 0!==this.pulseTween&&this.pulseTween.stop(),this.pulseTween=this.game.add.tween(this.playButton.scale),this.pulseTween.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),this.pulseTween.delay(50),this.pulseTween.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),this.pulseTween.loop(),this.pulseTween.start(),this.bringToTop(this.playButton),this.bringToTop(this.lastPos)}},t.prototype.isMyTeam=function(t){return"A"===i.GameVars.getInstance().myGroupID&&i.GameVars.getInstance().myTeamID===i.GameVars.getInstance().groupsData[0].teams[t]||("B"===i.GameVars.getInstance().myGroupID&&i.GameVars.getInstance().myTeamID===i.GameVars.getInstance().groupsData[1].teams[t]||("C"===i.GameVars.getInstance().myGroupID&&i.GameVars.getInstance().myTeamID===i.GameVars.getInstance().groupsData[2].teams[t]||"D"===i.GameVars.getInstance().myGroupID&&i.GameVars.getInstance().myTeamID===i.GameVars.getInstance().groupsData[3].teams[t]))},t.prototype.setGroup=function(){var t="GROUP PHASE - GROUP "+i.GameVars.getInstance().myGroupID;this.group=new Phaser.Text(this.game,i.GameConstants.GAME_WIDTH/2-10-this.x,38-this.y,t,{font:"35px Jomhuria"}),this.group.addColor("#ffffff",0),this.group.anchor.set(.5),this.add(this.group)},t.prototype.changeMatchResults=function(t){var e=i.GameVars.getInstance().numMatch-1;t?this.matchs_results[e].loadTexture("texture_atlas_1","match_won.png"):this.matchs_results[e].loadTexture("texture_atlas_1","match_lost.png"),this.matchs_results[e].scale.set(1.2),this.game.add.tween(this.matchs_results[e].scale).to({x:1,y:1},200,Phaser.Easing.Elastic.Out,!0)},t}(Phaser.Group);i.ClassificationLayer=t}(BasketChamps||(BasketChamps={})),function(c){var t=function(h){function t(t,e,a,n,s,i){var o=h.call(this,t,null,"classification-team",!1)||this;o.x=n,o.y=s,3<(o.pos=i)&&(o.y+=5),o.teamId=e,"A"===c.GameVars.getInstance().myGroupID?o.id=c.GameVars.getInstance().groupsData[0].teams[e]:"B"===c.GameVars.getInstance().myGroupID?o.id=c.GameVars.getInstance().groupsData[1].teams[e]:"C"===c.GameVars.getInstance().myGroupID?o.id=c.GameVars.getInstance().groupsData[2].teams[e]:"D"===c.GameVars.getInstance().myGroupID&&(o.id=c.GameVars.getInstance().groupsData[3].teams[e]),o.id===c.GameVars.getInstance().myTeamID&&(3<i?(o.bck=new Phaser.Sprite(o.game,282.5,0,o.game.cache.getBitmapData("green2_square")),o.bck.scale.set(495/16,2.75)):(o.bck=new Phaser.Sprite(o.game,277.5,0,o.game.cache.getBitmapData("green2_square")),o.bck.scale.set(505/16,2.75)),o.bck.anchor.set(.5),o.add(o.bck),o.raysPoints=new Phaser.Image(o.game,444,0,"texture_atlas_1","rays_final_match.png"),o.raysPoints.anchor.set(.5),o.raysPoints.scale.set(.35),o.raysPoints.visible=!1,o.add(o.raysPoints));var r="flag_"+o.id+".png";return o.flag=new Phaser.Sprite(o.game,80,0,"texture_atlas_1",r),o.id===c.GameVars.getInstance().myTeamID?(o.flag.scale.set(.65),o.wonLabel=new Phaser.Text(o.game,197,3,c.GameVars.getInstance().groupWins[e].toString(),{font:"50px Jomhuria"}),o.wonLabel.addColor("#15212a",0),o.lostLabel=new Phaser.Text(o.game,322,3,c.GameVars.getInstance().groupLoses[e].toString(),{font:"50px Jomhuria"}),o.lostLabel.addColor("#15212a",0),o.pointsLabel=new Phaser.Text(o.game,444,3,(2*c.GameVars.getInstance().groupWins[e]+c.GameVars.getInstance().groupLoses[e]).toString(),{font:"50px Jomhuria"}),o.pointsLabel.addColor("#15212a",0)):(o.flag.scale.set(.5),o.flag.alpha=.7,o.wonLabel=new Phaser.Text(o.game,197,3,c.GameVars.getInstance().groupWins[e].toString(),{font:"40px Jomhuria"}),o.wonLabel.addColor("#557a8b",0),o.lostLabel=new Phaser.Text(o.game,322,3,c.GameVars.getInstance().groupLoses[e].toString(),{font:"40px Jomhuria"}),o.lostLabel.addColor("#557a8b",0),o.pointsLabel=new Phaser.Text(o.game,444,3,(2*c.GameVars.getInstance().groupWins[e]+c.GameVars.getInstance().groupLoses[e]).toString(),{font:"40px Jomhuria"}),o.pointsLabel.addColor("#557a8b",0)),o.flag.anchor.set(.5),o.add(o.flag),o.wonLabel.anchor.set(.5),o.add(o.wonLabel),o.lostLabel.anchor.set(.5),o.add(o.lostLabel),o.pointsLabel.anchor.set(.5),o.add(o.pointsLabel),o}return __extends(t,h),t.prototype.update=function(){h.prototype.update.call(this),void 0!==this.raysPoints&&this.raysPoints.visible&&(this.raysPoints.angle+=1)},t.prototype.moveFlag=function(t){this.game.add.tween(this.bck).to({alpha:0},t,Phaser.Easing.Cubic.Out,!0,2*t),this.game.add.tween(this.wonLabel).to({alpha:0},t,Phaser.Easing.Cubic.Out,!0,2*t),this.game.add.tween(this.lostLabel).to({alpha:0},t,Phaser.Easing.Cubic.Out,!0,2*t),this.game.add.tween(this.pointsLabel).to({alpha:0},t,Phaser.Easing.Cubic.Out,!0,2*t),this.game.add.tween(this.flag).to({x:75-this.x-c.GameConstants.GAME_WIDTH/2,y:81-this.y-c.GameConstants.GAME_HEIGHT/2},t,Phaser.Easing.Cubic.Out,!0,2*t)},t.prototype.sumPoints=function(t,e){this.raysPoints.visible=!0,t?this.wonLabel.setText((c.GameVars.getInstance().groupWins[this.teamId]+1).toString()):this.lostLabel.setText((c.GameVars.getInstance().groupLoses[this.teamId]+1).toString()),this.game.time.events.add(1e3,function(){t?(this.game.add.tween(this.pointsLabel.scale).to({y:0},300,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){c.AudioManager.getInstance().playSound("point_1"),this.pointsLabel.setText((2*c.GameVars.getInstance().groupWins[this.teamId]+c.GameVars.getInstance().groupLoses[this.teamId]+1).toString()),this.game.add.tween(this.pointsLabel.scale).to({y:1},500,Phaser.Easing.Elastic.Out,!0,100)},this),this.game.time.events.add(1e3,function(){this.game.add.tween(this.pointsLabel.scale).to({y:0},300,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){c.AudioManager.getInstance().playSound("point_2"),this.pointsLabel.setText((2*c.GameVars.getInstance().groupWins[this.teamId]+c.GameVars.getInstance().groupLoses[this.teamId]+2).toString()),this.game.add.tween(this.pointsLabel.scale).to({y:1},500,Phaser.Easing.Elastic.Out,!0,100)},this),this.game.time.events.add(1200,function(){c.GameVars.getInstance().groupWins[this.teamId]++,this.moveClassification(t,e),this.raysPoints.visible=!1},this)},this)):(c.GameVars.getInstance().groupLoses[this.teamId]++,this.game.add.tween(this.pointsLabel.scale).to({y:0},300,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){c.AudioManager.getInstance().playSound("point_1"),this.pointsLabel.setText((2*c.GameVars.getInstance().groupWins[this.teamId]+c.GameVars.getInstance().groupLoses[this.teamId]).toString()),this.game.add.tween(this.pointsLabel.scale).to({y:1},500,Phaser.Easing.Elastic.Out,!0,100)},this),this.game.time.events.add(1200,function(){this.moveClassification(t,e),this.raysPoints.visible=!1},this))},this)},t.prototype.moveClassification=function(t,e){for(var a,n=[],s=0;s<6;s++)n.push({points:2*c.GameVars.getInstance().groupWins[s]+c.GameVars.getInstance().groupLoses[s],id:s});n.sort(function(t,e){return t.points<e.points?1:t.points>t.points?-1:0});for(s=0;s<6;s++)n[s].id===this.teamId&&(a=s);if(a!==e){this.moveMyTeam(t,a);for(s=a;s<e;s++)c.BasketballCourtState.currentInstance.classificationLayer.classificationTeams[s].changePosition()}else c.BasketballCourtState.currentInstance.classificationLayer.changeMatchResults(t),c.BasketballCourtState.currentInstance.classificationLayer.playVisible()},t.prototype.changePosition=function(){var t=this.y+44;3===this.pos&&(t+=5),this.game.add.tween(this).to({y:t},300,Phaser.Easing.Cubic.In,!0,1e3)},t.prototype.moveMyTeam=function(t,e){var a=300,n=1.1;this.game.add.tween(this.flag.scale).to({x:.65*n,y:.65*n},a,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.bck.scale).to({x:33.140625,y:44*n/16},a,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.wonLabel.scale).to({x:n,y:n},a,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.lostLabel.scale).to({x:n,y:n},a,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.pointsLabel.scale).to({x:n,y:n},a,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.game.add.tween(this).to({y:107+44*e-c.GameConstants.GAME_HEIGHT/2},600,Phaser.Easing.Cubic.Out,!0,300).onComplete.add(function(){this.game.add.tween(this.flag.scale).to({x:.65,y:.65},a,Phaser.Easing.Cubic.Out,!0),e<=3?this.game.add.tween(this.bck.scale).to({x:505/16,y:2.75},a,Phaser.Easing.Cubic.Out,!0):(this.game.add.tween(this.bck.scale).to({x:495/16,y:2.75},a,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this).to({y:this.y+5},600,Phaser.Easing.Cubic.Out,!0)),this.game.add.tween(this.wonLabel.scale).to({x:1,y:1},a,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.lostLabel.scale).to({x:1,y:1},a,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.pointsLabel.scale).to({x:1,y:1},a,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){c.BasketballCourtState.currentInstance.classificationLayer.changeMatchResults(t),c.BasketballCourtState.currentInstance.classificationLayer.playVisible()},this)},this),e<=3&&3<this.pos&&this.game.add.tween(this.bck).to({x:this.bck.x-5},600,Phaser.Easing.Cubic.Out,!0,300)},this)},t}(Phaser.Group);c.ClassificationTeam=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"cheat-menu",!1)||this;return e.cheatBackground=new Phaser.Sprite(e.game,0,0,e.game.cache.getBitmapData("black_square")),e.cheatBackground.scale.set(n.GameConstants.GAME_WIDTH/16,n.GameConstants.GAME_HEIGHT/16),e.cheatBackground.alpha=.3,e.cheatBackground.inputEnabled=!0,e.cheatBackground.events.onInputDown.add(e.onClickCheatBackground,e),e.addChild(e.cheatBackground),e.cheatMenuBackground=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,n.GameConstants.GAME_HEIGHT/2,e.game.cache.getBitmapData("white_square")),e.cheatMenuBackground.scale.set((n.GameConstants.GAME_WIDTH-100)/16,(n.GameConstants.GAME_HEIGHT-100)/16),e.cheatMenuBackground.alpha=.9,e.cheatMenuBackground.anchor.set(.5),e.addChild(e.cheatMenuBackground),e.buttonResume=new Phaser.Button(e.game,n.GameConstants.GAME_WIDTH/2,n.GameConstants.GAME_HEIGHT-100,"texture_atlas_1",e.onResumeClicked,e),e.buttonResume.setFrames("button-resume-on.png","button-resume-off.png","button-resume-on.png","button-resume-off.png"),e.buttonResume.anchor.set(.5),e.addChild(e.buttonResume),e.buttonPhysics=new Phaser.Button(e.game,100,100,"texture_atlas_1",e.onPhysicsClicked,e),n.GameConstants.SHOW_PHYSICS_BODIES?e.buttonPhysics.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"):e.buttonPhysics.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonPhysics.anchor.set(.5),e.addChild(e.buttonPhysics),e.textPhysics=new Phaser.Text(e.game,100,130,"PHYSICS",{font:"10px"}),e.textPhysics.anchor.set(.5),e.addChild(e.textPhysics),e.buttonEasy=new Phaser.Button(e.game,180,100,"texture_atlas_1",e.onEasyClicked,e),n.GameConstants.EASY_GAME?e.buttonEasy.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"):e.buttonEasy.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonEasy.anchor.set(.5),e.addChild(e.buttonEasy),e.textEasy=new Phaser.Text(e.game,180,130,"EASY MODE",{font:"10px"}),e.textEasy.anchor.set(.5),e.addChild(e.textEasy),e.buttonWin=new Phaser.Button(e.game,260,100,"texture_atlas_1",e.onWinClicked,e),e.buttonWin.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonWin.anchor.set(.5),e.addChild(e.buttonWin),e.textWin=new Phaser.Text(e.game,260,130,"WIN GAME",{font:"10px"}),e.textWin.anchor.set(.5),e.addChild(e.textWin),e.buttonLose=new Phaser.Button(e.game,340,100,"texture_atlas_1",e.onLoseClicked,e),e.buttonLose.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonLose.anchor.set(.5),e.addChild(e.buttonLose),e.textLose=new Phaser.Text(e.game,340,130,"LOSE GAME",{font:"10px"}),e.textLose.anchor.set(.5),e.addChild(e.textLose),e.buttonMovVert=new Phaser.Button(e.game,420,100,"texture_atlas_1",e.onMovVertClicked,e),n.GameConstants.MOV_VER?e.buttonMovVert.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"):e.buttonMovVert.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonMovVert.anchor.set(.5),e.addChild(e.buttonMovVert),e.textMovVert=new Phaser.Text(e.game,420,130,"MOVE VERT",{font:"10px"}),e.textMovVert.anchor.set(.5),e.addChild(e.textMovVert),e.buttonMovHor=new Phaser.Button(e.game,500,100,"texture_atlas_1",e.onMovHorClicked,e),n.GameConstants.MOV_HOR?e.buttonMovHor.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"):e.buttonMovHor.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonMovHor.anchor.set(.5),e.addChild(e.buttonMovHor),e.textMovHor=new Phaser.Text(e.game,500,130,"MOVE HOR",{font:"10px"}),e.textMovHor.anchor.set(.5),e.addChild(e.textMovHor),e.buttonSuddenDeath=new Phaser.Button(e.game,100,180,"texture_atlas_1",e.onSuddenDeathClicked,e),e.buttonSuddenDeath.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png"),e.buttonSuddenDeath.anchor.set(.5),e.addChild(e.buttonSuddenDeath),e.textSuddenDeath=new Phaser.Text(e.game,100,210,"SUDDEN DEATH",{font:"10px"}),e.textSuddenDeath.anchor.set(.5),e.addChild(e.textSuddenDeath),e}return __extends(t,a),t.prototype.onResumeClicked=function(){this.visible=!1,n.GUI.currentInstance.onResumeClicked()},t.prototype.onPhysicsClicked=function(){n.GameConstants.SHOW_PHYSICS_BODIES?(n.GameConstants.SHOW_PHYSICS_BODIES=!1,this.game.debug.reset(),this.buttonPhysics.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png")):(n.GameConstants.SHOW_PHYSICS_BODIES=!0,this.game.debug.reset(),this.buttonPhysics.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"))},t.prototype.onEasyClicked=function(){n.GameConstants.EASY_GAME?(n.GameConstants.EASY_GAME=!1,this.buttonEasy.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png")):(n.GameConstants.EASY_GAME=!0,this.buttonEasy.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"))},t.prototype.onWinClicked=function(){this.visible=!1,n.GUI.currentInstance.onResumeClicked(),n.GameVars.getInstance().playerPoints+=100,n.MatchManager.currentInstance.showWinner(!0)},t.prototype.onLoseClicked=function(){this.visible=!1,n.GUI.currentInstance.onResumeClicked(),n.GameVars.getInstance().AIPoints+=100,n.MatchManager.currentInstance.showWinner(!0)},t.prototype.onMovVertClicked=function(){n.GameConstants.MOV_VER?(n.MatchManager.currentInstance.stopMovVert(),this.buttonMovVert.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png")):(n.MatchManager.currentInstance.startMovVert(),this.buttonMovVert.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"))},t.prototype.onMovHorClicked=function(){n.GameConstants.MOV_HOR?(n.MatchManager.currentInstance.stopMovHor(),this.buttonMovHor.setFrames("button-physics-on.png","button-physics-off.png","button-physics-on.png","button-physics-off.png")):(n.MatchManager.currentInstance.startMovHor(),this.buttonMovHor.setFrames("button-physics-off.png","button-physics-on.png","button-physics-off.png","button-physics-on.png"))},t.prototype.onSuddenDeathClicked=function(){n.MatchManager.currentInstance.startSuddenDeath(),this.visible=!1,n.GUI.currentInstance.onResumeClicked()},t.prototype.onClickCheatBackground=function(){},t}(Phaser.Group);n.CheatMenu=t}(BasketChamps||(BasketChamps={})),function(s){var t=function(a){function n(t){var e=a.call(this,t,null,"gui",!1)||this;return(n.currentInstance=e).optionsClicked=!1,e.buttonOptions=new Phaser.Button(e.game,s.GameConstants.GAME_WIDTH-33,30,"texture_atlas_1",e.onOptionsClicked,e),e.buttonOptions.setFrames("btn_pause_on.png","btn_pause.png","btn_pause_on.png","btn_pause.png"),e.buttonOptions.anchor.set(.5),e.buttonOptions.scale.set(.8),e.addChild(e.buttonOptions),s.GameConstants.DEVELOPMENT&&(e.buttonCheat=new Phaser.Button(e.game,s.GameConstants.GAME_WIDTH-30,80,"texture_atlas_1",e.onCheatClicked,e),e.buttonCheat.setFrames("button-cheat-menu-on.png","button-cheat-menu-off.png","button-cheat-menu-on.png","button-cheat-menu-off.png"),e.buttonCheat.anchor.set(.5),e.buttonCheat.scale.set(.8),e.addChild(e.buttonCheat)),e.turnTab=new Phaser.Image(e.game,s.GameConstants.GAME_WIDTH/2+20,355,"texture_atlas_1","tab_your_turn.png"),e.turnTab.visible=!1,e.turnTab.anchor.set(.5),e.turnTab.alpha=0,e.addChild(e.turnTab),e.pauseLayer=new s.PauseLayer(e.game),e.addChild(e.pauseLayer),e.pauseLayer.visible=!1,e.cheatMenu=new s.CheatMenu(e.game),e.addChild(e.cheatMenu),e.cheatMenu.visible=!1,e.suddenDeath=new s.SuddenDeath(e.game),e.addChild(e.suddenDeath),e.suddenDeath.visible=!1,e.visible=!1,e}return __extends(n,a),n.prototype.matchReady=function(){this.visible=!0},n.prototype.onMatchEnd=function(){this.visible=!1},n.prototype.destroy=function(t,e){n.currentInstance=null,a.prototype.destroy.call(this,t,e)},n.prototype.startTurnTab=function(){this.turnTab.visible=!0,this.game.add.tween(this.turnTab).to({alpha:1},500,Phaser.Easing.Cubic.Out,!0,500)},n.prototype.stopTurnTab=function(){this.turnTab.visible=!0,this.game.add.tween(this.turnTab).to({alpha:0},500,Phaser.Easing.Cubic.Out,!0,500)},n.prototype.changeTurnTab=function(t){this.game.add.tween(this.turnTab.scale).to({y:.1},500,Phaser.Easing.Elastic.In,!0,300).onComplete.add(function(){t?this.turnTab.loadTexture("texture_atlas_1","tab_your_turn.png"):this.turnTab.loadTexture("texture_atlas_1","tab_rivals_turn.png"),this.game.add.tween(this.turnTab.scale).to({y:1},500,Phaser.Easing.Elastic.Out,!0)},this)},n.prototype.onOptionsClicked=function(){s.GameConstants.SPONSOR===s.GameConstants.POKI&&PokiSDK.gameplayStop(),this.buttonOptions.visible=!1,this.pauseLayer.visible=!0,s.StageContainer.currentInstance.pause(),s.BackgroundManager.currentInstance.slotsManager.pauseTween(),s.AudioManager.getInstance().playSound("click")},n.prototype.onResumeClicked=function(){s.GameConstants.SPONSOR===s.GameConstants.POKI&&PokiSDK.gameplayStart(),this.buttonOptions.visible=!0,s.GameConstants.DEVELOPMENT&&(this.buttonCheat.visible=!0),s.StageContainer.currentInstance.resume(),s.BackgroundManager.currentInstance.slotsManager.resumeTween()},n.prototype.onCheatClicked=function(){this.buttonCheat.visible=!1,this.cheatMenu.visible=!0,s.StageContainer.currentInstance.pause()},n.prototype.showSuddenDeath=function(){this.suddenDeath.visible=!0,this.visible=!0,s.StageContainer.currentInstance.pause(),this.suddenDeath.showSuddenDeath(),s.BackgroundManager.currentInstance.spectatorsManager.pause()},n}(Phaser.Group);s.GUI=t}(BasketChamps||(BasketChamps={})),function(m){var t=function(l){function u(t){var e=l.call(this,t,null,"pause-layer",!1)||this;u.currentInstance=e;var a=new Phaser.Sprite(e.game,0,0,e.game.cache.getBitmapData("black_square"));a.scale.set(m.GameConstants.GAME_WIDTH/16,m.GameConstants.GAME_HEIGHT/16),a.alpha=.7,a.inputEnabled=!0,a.events.onInputDown.add(e.onClickPauseBackground,e),e.addChild(a),e.buttonsContainer=new Phaser.Group(e.game),e.add(e.buttonsContainer);var n=new Phaser.Button(e.game,m.GameConstants.GAME_WIDTH/2+25,180,"texture_atlas_1",e.onResumeClicked,e);n.setFrames("button-resume-on.png","button-resume-off.png","button-resume-on.png","button-resume-off.png"),n.anchor.set(.5),e.buttonsContainer.addChild(n);var s=new Phaser.Button(e.game,m.GameConstants.GAME_WIDTH/2-20,250,"texture_atlas_1",e.onNewClicked,e);s.setFrames("button-new-on.png","button-new-off.png","button-new-on.png","button-new-off.png"),s.anchor.set(.5),e.buttonsContainer.addChild(s);var i=new Phaser.Text(e.game,m.GameConstants.GAME_WIDTH/2+10,240,"RESET",{font:"30px Jomhuria"});i.addColor("#ffffff",0),i.anchor.set(0,.5),e.buttonsContainer.add(i);var o=new Phaser.Text(e.game,m.GameConstants.GAME_WIDTH/2+10,260,"TOURNAMENT",{font:"30px Jomhuria"});o.addColor("#ffffff",0),o.anchor.set(0,.5),e.buttonsContainer.add(o);var r=new Phaser.Button(e.game,m.GameConstants.GAME_WIDTH/2-20,310,"texture_atlas_1",e.onExitClicked,e);r.setFrames("button-exit-on.png","button-exit-off.png","button-exit-on.png","button-exit-off.png"),r.anchor.set(.5),e.buttonsContainer.addChild(r);var h=new Phaser.Text(e.game,m.GameConstants.GAME_WIDTH/2+10,310,"EXIT",{font:"30px Jomhuria"});if(h.addColor("#ffffff",0),h.anchor.set(0,.5),e.buttonsContainer.add(h),e.audioButton=new Phaser.Button(e.game,m.GameConstants.GAME_WIDTH-32,35,"texture_atlas_1",e.onAudioClicked,e),m.AudioManager.getInstance().isMuted?e.audioButton.setFrames("music_off_button_on.png","music_off_button_off.png","music_off_button_on.png","music_off_button_off.png"):e.audioButton.setFrames("music_on_button_on.png","music_on_button_off.png","music_on_button_on.png","music_on_button_off.png"),e.audioButton.anchor.set(.5),e.buttonsContainer.addChild(e.audioButton),m.GameConstants.SPONSOR===m.GameConstants.ADDICTING_GAMES){var c=new Phaser.Button(e.game,15,280,"texture_atlas_1",e.onLogoClicked,e);c.setFrames("button_addictinggames_logo_on.png","button_addictinggames_logo_off.png","button_addictinggames_logo_on.png"),e.add(c)}return e}return __extends(u,l),u.prototype.onResumeClicked=function(){this.visible=!1,m.GUI.currentInstance.onResumeClicked(),m.AudioManager.getInstance().playSound("click")},u.prototype.onNewClicked=function(){this.buttonsContainer.visible=!1,this.confirmationMenu=new m.ConfirmationMenu(this.game,!0),this.add(this.confirmationMenu),m.AudioManager.getInstance().playSound("click")},u.prototype.removeConfirmationMenu=function(){this.buttonsContainer.visible=!0,this.confirmationMenu.destroy()},u.prototype.newTournament=function(){m.TournamentManager.getInstance().deleteLocalStorage(),m.BasketballCourtState.currentInstance.nextGame()},u.prototype.onExitClicked=function(){m.BasketballCourtState.currentInstance.goBack(),m.AudioManager.getInstance().playSound("click")},u.prototype.onAudioClicked=function(){m.AudioManager.getInstance().isMuted?(m.AudioManager.getInstance().unmute(),this.audioButton.setFrames("music_on_button_on.png","music_on_button_off.png","music_on_button_on.png")):(m.AudioManager.getInstance().mute(),this.audioButton.setFrames("music_off_button_on.png","music_off_button_off.png","music_off_button_on.png"))},u.prototype.onLogoClicked=function(){m.GameConstants.SPONSOR===m.GameConstants.ADDICTING_GAMES&&window.open(m.GameConstants.LINK_ADDICTINGGAMES,"_blank").focus()},u.prototype.onClickPauseBackground=function(){},u}(Phaser.Group);m.PauseLayer=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"sudden-death",!1)||this;return e.background=new Phaser.Sprite(e.game,0,0,e.game.cache.getBitmapData("black_square")),e.background.scale.set(n.GameConstants.GAME_WIDTH/16,n.GameConstants.GAME_HEIGHT/16),e.background.anchor.set(0),e.background.alpha=0,e.background.inputEnabled=!0,e.background.events.onInputDown.add(e.onClickBackground,e),e.addChild(e.background),e.sudden=new Phaser.Sprite(e.game,-100,100,"texture_atlas_1","sudden.png"),e.sudden.anchor.set(.5),e.sudden.scale.set(.25),e.addChild(e.sudden),e.death_h=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,160,"texture_atlas_1","h_death.png"),e.death_h.anchor.set(.5),e.death_h.scale.set(0),e.addChild(e.death_h),e.death_t=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,160,"texture_atlas_1","t_death.png"),e.death_t.anchor.set(.5),e.death_t.scale.set(0),e.addChild(e.death_t),e.death_a=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,160,"texture_atlas_1","a_death.png"),e.death_a.anchor.set(.5),e.death_a.scale.set(0),e.addChild(e.death_a),e.death_e=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,160,"texture_atlas_1","e_death.png"),e.death_e.anchor.set(.5),e.death_e.scale.set(0),e.addChild(e.death_e),e.death_d=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,160,"texture_atlas_1","d_death.png"),e.death_d.anchor.set(.5),e.death_d.scale.set(0),e.addChild(e.death_d),e.instructionSudden1=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,250,"texture_atlas_1","instructions_sudden_death_1.png"),e.instructionSudden1.anchor.set(.5),e.instructionSudden1.visible=!1,e.addChild(e.instructionSudden1),e.instructionSudden2=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,250,"texture_atlas_1","instructions_sudden_death_2.png"),e.instructionSudden2.anchor.set(.5),e.instructionSudden2.visible=!1,e.addChild(e.instructionSudden2),e.playButton=new Phaser.Button(e.game,n.GameConstants.GAME_WIDTH/2,330,"texture_atlas_1",e.onPlayClicked,e),e.playButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),e.playButton.anchor.set(.5),e.playButton.alpha=0,e.addChild(e.playButton),e}return __extends(t,a),t.prototype.resetSuddenDeath=function(){this.sudden.position.set(-100,100),this.sudden.scale.set(.25),this.death_d.position.set(n.GameConstants.GAME_WIDTH/2,160),this.death_e.position.set(n.GameConstants.GAME_WIDTH/2,160),this.death_a.position.set(n.GameConstants.GAME_WIDTH/2,160),this.death_t.position.set(n.GameConstants.GAME_WIDTH/2,160),this.death_h.position.set(n.GameConstants.GAME_WIDTH/2,160)},t.prototype.showSuddenDeath=function(){n.GameVars.getInstance().firstSuddenDeath?this.game.add.tween(this.background).to({alpha:.7},1e3,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.game.add.tween(this.sudden).to({x:n.GameConstants.GAME_WIDTH/2,y:70},600,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.sudden.scale).to({x:1,y:1},400,Phaser.Easing.Cubic.Out,!0),this.game.time.events.add(600,function(){this.showDeath()},this)},this):this.game.time.events.add(250,function(){this.game.add.tween(this.sudden).to({x:n.GameConstants.GAME_WIDTH/2,y:70},600,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.sudden.scale).to({x:1,y:1},400,Phaser.Easing.Cubic.Out,!0),this.game.time.events.add(600,function(){this.showDeath()},this)},this),n.AudioManager.getInstance().playSound("loop_sudden_death",!0)},t.prototype.showDeath=function(){this.game.add.tween(this.death_d.scale).to({x:1,y:1},150,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.death_d).to({x:300,y:150},150,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.death_e.scale).to({x:1,y:1},150,Phaser.Easing.Elastic.Out,!0,200),this.game.add.tween(this.death_e).to({x:300,y:150},150,Phaser.Easing.Elastic.Out,!0,200),this.game.add.tween(this.death_a.scale).to({x:1,y:1},150,Phaser.Easing.Elastic.Out,!0,400),this.game.add.tween(this.death_a).to({x:300,y:150},150,Phaser.Easing.Elastic.Out,!0,400),this.game.add.tween(this.death_t.scale).to({x:1,y:1},150,Phaser.Easing.Elastic.Out,!0,600),this.game.add.tween(this.death_t).to({x:300,y:150},150,Phaser.Easing.Elastic.Out,!0,600),this.game.add.tween(this.death_h.scale).to({x:1,y:1},150,Phaser.Easing.Elastic.Out,!0,800),this.game.add.tween(this.death_h).to({x:300,y:150},150,Phaser.Easing.Elastic.Out,!0,800).onComplete.add(function(){n.GameVars.getInstance().firstSuddenDeath?(this.instructionSudden1.visible=!0,this.game.time.events.add(300,function(){this.instructionSudden2.visible=!0},this),this.game.add.tween(this.playButton).to({alpha:1},150,Phaser.Easing.Cubic.Out,!0,1300).onComplete.add(function(){var t=this.game.add.tween(this.playButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start()},this)):this.game.time.events.add(800,function(){this.hideDeath()},this)},this)},t.prototype.hideDeath=function(){this.game.add.tween(this.death_d.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.death_d.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_d).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_e.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.death_e.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_e).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_a.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.death_a.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_a).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_t.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.death_t.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_t).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_h.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.death_h.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.death_h).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.sudden.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.sudden.scale).to({x:0,y:0},200,Phaser.Easing.Cubic.Out,!0,200),this.game.add.tween(this.sudden).to({x:n.GameConstants.GAME_WIDTH/2,y:120},200,Phaser.Easing.Cubic.Out,!0,200).onComplete.add(function(){n.GameVars.getInstance().firstSuddenDeath?this.game.add.tween(this.background).to({alpha:0},1e3,Phaser.Easing.Cubic.In,!0).onComplete.add(function(){this.hideSuddenDeath()},this):this.hideSuddenDeath()},this)},t.prototype.hideSuddenDeath=function(){this.visible=!1,n.MatchManager.currentInstance.hideSuddenDeath(),this.resetSuddenDeath()},t.prototype.onPlayClicked=function(){0!==this.playButton.alpha&&(this.hideDeath(),this.playButton.alpha=0,this.instructionSudden1.visible=!1,this.instructionSudden2.visible=!1,n.AudioManager.getInstance().playSound("click"))},t.prototype.onClickBackground=function(){},t}(Phaser.Group);n.SuddenDeath=t}(BasketChamps||(BasketChamps={})),function(i){var t=function(n){function s(t){var e=n.call(this,t,null,"finish-match",!1)||this;if((s.currentInstance=e).leavingScene=!1,e.buttonNext=new Phaser.Button(e.game,i.GameConstants.GAME_WIDTH/2+200,320,"texture_atlas_1",e.onNextClicked,e),e.buttonNext.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),e.buttonNext.visible=!1,e.buttonNext.anchor.set(.5),e.buttonNext.scale.set(0),e.add(e.buttonNext),e.winnerImage=new Phaser.Image(e.game,-250,160,"texture_atlas_1","victory_msg_01.png"),e.winnerImage.anchor.set(.5),e.add(e.winnerImage),e.winnerImage2=new Phaser.Image(e.game,850,160,"texture_atlas_1","victory_msg_02.png"),e.winnerImage2.anchor.set(.5),e.add(e.winnerImage2),e.loserImage=new Phaser.Image(e.game,-250,160,"texture_atlas_1","you_lose.png"),e.loserImage.anchor.set(.5),e.add(e.loserImage),e.loserImage2=new Phaser.Image(e.game,850,230,"texture_atlas_1","competition_continues.png"),e.loserImage2.anchor.set(.5),e.add(e.loserImage2),e.visible=!1,e.win=!1,i.GameConstants.SPONSOR===i.GameConstants.MINIJUEGOS){var a=new i.MinijuegosMoreGamesButton(e.game,60,315);e.add(a)}return e}return __extends(s,n),s.prototype.onNextClicked=function(){this.leavingScene||(this.leavingScene=!0,i.GameConstants.SPONSOR===i.GameConstants.POKI?(i.Game.currentInstance.paused=!0,PokiSDK.commercialBreak().then(function(){i.Game.currentInstance.paused=!1,s.currentInstance.pulseTween.stop(),s.currentInstance.game.add.tween(s.currentInstance.buttonNext.scale).to({x:0,y:0},650,Phaser.Easing.Elastic.In,!0),i.StageContainer.currentInstance.efectsContainer.finishConfetti(),s.currentInstance.win?(s.currentInstance.game.add.tween(s.currentInstance.winnerImage).to({x:-250},500,Phaser.Easing.Back.In,!0),s.currentInstance.game.add.tween(s.currentInstance.winnerImage2).to({x:850},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){s.currentInstance.game.time.events.add(500,function(){s.currentInstance.leavingScene=!1,s.currentInstance.visible=!1,i.TournamentManager.getInstance().nextMatch(s.currentInstance.win),i.TournamentManager.getInstance().removeFlags()},s.currentInstance)},s.currentInstance)):(s.currentInstance.game.add.tween(s.currentInstance.loserImage).to({x:-250},500,Phaser.Easing.Back.In,!0),s.currentInstance.game.add.tween(s.currentInstance.loserImage2).to({x:850},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){s.currentInstance.game.time.events.add(500,function(){s.currentInstance.leavingScene=!1,s.currentInstance.visible=!1,i.TournamentManager.getInstance().nextMatch(s.currentInstance.win),i.TournamentManager.getInstance().removeFlags()},s.currentInstance)},s.currentInstance))})):(this.pulseTween.stop(),this.game.add.tween(this.buttonNext.scale).to({x:0,y:0},650,Phaser.Easing.Elastic.In,!0),i.StageContainer.currentInstance.efectsContainer.finishConfetti(),this.win?(this.game.add.tween(this.winnerImage).to({x:-250},500,Phaser.Easing.Back.In,!0),this.game.add.tween(this.winnerImage2).to({x:850},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){this.game.time.events.add(500,function(){this.leavingScene=!1,this.visible=!1,i.TournamentManager.getInstance().nextMatch(this.win),i.TournamentManager.getInstance().removeFlags()},this)},this)):(this.game.add.tween(this.loserImage).to({x:-250},500,Phaser.Easing.Back.In,!0),this.game.add.tween(this.loserImage2).to({x:850},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){this.game.time.events.add(500,function(){this.leavingScene=!1,this.visible=!1,i.TournamentManager.getInstance().nextMatch(this.win),i.TournamentManager.getInstance().removeFlags()},this)},this))))},s.prototype.showWinner=function(t,e){i.GameConstants.SPONSOR===i.GameConstants.POKI&&("winner"===t?PokiSDK.happyTime(1):PokiSDK.gameplayStop()),this.game.time.events.add(500,function(){this.visible=!0,this.buttonNext.visible=!0,this.game.add.tween(this.buttonNext.scale).to({x:1,y:1},650,Phaser.Easing.Elastic.Out,!0,e).onComplete.add(function(){this.showAPI(),void 0!==this.pulseTween&&this.pulseTween.stop(),this.pulseTween=this.game.add.tween(this.buttonNext.scale),this.pulseTween.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),this.pulseTween.delay(50),this.pulseTween.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),this.pulseTween.loop(),this.pulseTween.start()},this),"winner"===t?(i.GameVars.getInstance().numMatch<5?(this.winnerImage.frameName="win.png",this.winnerImage2.frameName="competition_continues_2.png"):5===i.GameVars.getInstance().numMatch?(this.winnerImage.frameName="victory_msg_01.png",this.winnerImage2.frameName="tournament_phase.png"):(i.GameVars.getInstance().resetTournament=!1,i.GameVars.getInstance().setLocalStorageData(i.GameConstants.RESET_TOURNAMENT,JSON.stringify(i.GameVars.getInstance().resetTournament)),this.winnerImage.frameName="victory_msg_01.png",this.winnerImage2.frameName="victory_msg_02.png"),this.winnerImage.visible=!0,this.winnerImage2.visible=!0,this.loserImage.visible=!1,this.loserImage2.visible=!1,this.win=!0,this.game.add.tween(this.winnerImage).to({x:i.GameConstants.GAME_WIDTH/2+20},1e3,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.winnerImage2).to({x:i.GameConstants.GAME_WIDTH/2+20},1e3,Phaser.Easing.Elastic.Out,!0)):(this.winnerImage.visible=!1,this.winnerImage2.visible=!1,this.loserImage.visible=!0,this.loserImage2.visible=!0,this.win=!1,this.game.add.tween(this.loserImage).to({x:i.GameConstants.GAME_WIDTH/2+20},1e3,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.loserImage2).to({x:i.GameConstants.GAME_WIDTH/2+20},1e3,Phaser.Easing.Elastic.Out,!0))},this)},s.prototype.showAPI=function(){i.GameConstants.SPONSOR===i.GameConstants.GAMEPIX&&GamePix.game.ping("level_complete",{score:0,level:0,achievements:{}}),i.GameConstants.SPONSOR===i.GameConstants.LAGGED&&(i.GameVars.getInstance().laggedAdsCounter%3==0&&LaggedAPI.APIAds.show("interstitial","basket-champs","basket-champs-game.jpg",function(t){t.success?console.log("ad done"):console.log("ad error, continue"),i.Game.currentInstance.sound.mute=!1}),i.GameVars.getInstance().laggedAdsCounter++)},s}(Phaser.Group);i.FinishMatch=t}(BasketChamps||(BasketChamps={})),function(s){var t=function(a){function n(t){var e=a.call(this,t,null,"hud",!1)||this;return(n.currentInstance=e).initialCount=new s.InitialCount(e.game),e.add(e.initialCount),e.finishMatch=new s.FinishMatch(e.game),e.add(e.finishMatch),s.GameConstants.DEVELOPMENT&&(e.fps=new Phaser.Text(e.game,s.GameConstants.GAME_WIDTH-150,s.GameConstants.GAME_HEIGHT-25,"FPS: "+e.game.time.fps.toString(),{font:"15px"}),e.fps.anchor.set(.5),e.addChild(e.fps)),e}return __extends(n,a),n.prototype.destroy=function(t,e){n.currentInstance=null,a.prototype.destroy.call(this,t,e)},n.prototype.update=function(){a.prototype.update.call(this),s.GameConstants.DEVELOPMENT&&(this.fps.text="FPS: "+this.game.time.fps.toString())},n.prototype.matchReady=function(){this.game.time.events.add(1250,function(){this.initialCount.matchReady()},this),this.teamNamesContainer=new s.TeamNamesContainer(this.game),this.add(this.teamNamesContainer),this.teamNamesContainer.showNames()},n.prototype.removeTeamNames=function(){this.teamNamesContainer.destroy()},n}(Phaser.Group);s.HUD=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"initial-count",!1)||this;return e.onCount=!1,e.x=n.GameConstants.GAME_WIDTH/2+22,e.y=n.GameConstants.GAME_HEIGHT/2,e.number1=new Phaser.Image(e.game,0,0,"texture_atlas_1","number_1.png"),e.number1.anchor.set(.5),e.number1.scale.set(0),e.add(e.number1),e.number2=new Phaser.Image(e.game,0,0,"texture_atlas_1","number_2.png"),e.number2.anchor.set(.5),e.number2.scale.set(0),e.add(e.number2),e.number3=new Phaser.Image(e.game,0,0,"texture_atlas_1","number_3.png"),e.number3.anchor.set(.5),e.number3.scale.set(0),e.add(e.number3),e.showNumber1=[],e.showNumber2=[],e.showNumber3=[],e.startTweens(),e}return __extends(t,a),t.prototype.matchReady=function(){this.startTweens(),this.onCount=!0,this.showNumber3[0].to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0,500),this.showNumber3[0].onComplete.add(function(){this.showNumber3[1].to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber3[2].to({x:-.2},250,Phaser.Easing.Cubic.Out,!0,100),this.showNumber3[2].onComplete.add(function(){this.showNumber3[3].to({x:0},250,Phaser.Easing.Cubic.Out,!0)},this),this.showNumber3[4].to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber3[4].onComplete.add(this.onNumber3Shown,this)},this)},t.prototype.onNumber3Shown=function(){n.MatchManager.currentInstance.changeFlag(),this.showNumber2[0].to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0),this.showNumber2[0].onComplete.add(function(){this.showNumber2[1].to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber2[2].to({x:-.2},250,Phaser.Easing.Cubic.Out,!0,100),this.showNumber2[2].onComplete.add(function(){this.showNumber2[3].to({x:0},250,Phaser.Easing.Cubic.Out,!0)},this),this.showNumber2[4].to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber2[4].onComplete.add(this.onNumber2Shown,this)},this)},t.prototype.onNumber2Shown=function(){this.showNumber1[0].to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0),this.showNumber1[0].onComplete.add(function(){this.showNumber1[1].to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber1[2].to({x:-.2},250,Phaser.Easing.Cubic.Out,!0,100),this.showNumber1[2].onComplete.add(function(){this.showNumber1[3].to({x:0},250,Phaser.Easing.Cubic.Out,!0)},this),this.showNumber1[4].to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100),this.showNumber1[4].onComplete.add(this.onNumber1Shown,this)},this)},t.prototype.onNumber1Shown=function(){this.onCount=!1,n.GameVars.getInstance().matchFinished=!1,n.MatchManager.currentInstance.startTurnTab(),n.MatchManager.currentInstance.countReady()},t.prototype.pause=function(){for(var t=0;t<5;t++)this.showNumber1[t].pause(),this.showNumber2[t].pause(),this.showNumber3[t].pause()},t.prototype.resume=function(){for(var t=0;t<5;t++)this.showNumber1[t].resume(),this.showNumber2[t].resume(),this.showNumber3[t].resume()},t.prototype.startTweens=function(){this.showNumber3[0]=this.game.add.tween(this.number3.scale),this.showNumber3[1]=this.game.add.tween(this.number3.scale),this.showNumber3[2]=this.game.add.tween(this.number3.scale),this.showNumber3[3]=this.game.add.tween(this.number3.scale),this.showNumber3[4]=this.game.add.tween(this.number3),this.showNumber2[0]=this.game.add.tween(this.number2.scale),this.showNumber2[1]=this.game.add.tween(this.number2.scale),this.showNumber2[2]=this.game.add.tween(this.number2.scale),this.showNumber2[3]=this.game.add.tween(this.number2.scale),this.showNumber2[4]=this.game.add.tween(this.number2),this.showNumber1[0]=this.game.add.tween(this.number1.scale),this.showNumber1[1]=this.game.add.tween(this.number1.scale),this.showNumber1[2]=this.game.add.tween(this.number1.scale),this.showNumber1[3]=this.game.add.tween(this.number1.scale),this.showNumber1[4]=this.game.add.tween(this.number1)},t}(Phaser.Group);n.InitialCount=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(a){function t(t){var e=a.call(this,t,null,"team-names-container",!1)||this;return e.strip=new Phaser.Sprite(e.game,n.GameConstants.GAME_WIDTH/2,330,e.game.cache.getBitmapData("black_square")),e.strip.scale.set(n.GameConstants.GAME_WIDTH/16,3.75),e.strip.anchor.set(.5),e.strip.alpha=.8,e.strip.scale.y=0,e.add(e.strip),void 0===n.GameVars.getInstance().teamsData[n.GameVars.getInstance().myTeamID-1].name2?(e.teamPlayerName=new Phaser.Text(e.game,140,334,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().myTeamID-1].name,{font:"50px Jomhuria"}),e.teamPlayerName.addColor("#079e10",0),e.teamPlayerName.anchor.set(.5),e.teamPlayerName.alpha=0,e.addChild(e.teamPlayerName)):(e.teamPlayerName=new Phaser.Text(e.game,140,318,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().myTeamID-1].name,{font:"50px Jomhuria"}),e.teamPlayerName.addColor("#079e10",0),e.teamPlayerName.anchor.set(.5),e.teamPlayerName.alpha=0,e.addChild(e.teamPlayerName),e.teamPlayerName2=new Phaser.Text(e.game,140,347,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().myTeamID-1].name2,{font:"50px Jomhuria"}),e.teamPlayerName2.addColor("#079e10",0),e.teamPlayerName2.anchor.set(.5),e.teamPlayerName2.alpha=0,e.addChild(e.teamPlayerName2)),void 0===n.GameVars.getInstance().teamsData[n.GameVars.getInstance().oponentPlayer()].name2?(e.teamAIName=new Phaser.Text(e.game,n.GameConstants.GAME_WIDTH-105,334,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().oponentPlayer()].name,{font:"50px Jomhuria"}),e.teamAIName.addColor("#ff053a",0),e.teamAIName.anchor.set(.5),e.teamAIName.alpha=0,e.addChild(e.teamAIName)):(e.teamAIName=new Phaser.Text(e.game,n.GameConstants.GAME_WIDTH-105,318,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().oponentPlayer()].name,{font:"50px Jomhuria"}),e.teamAIName.addColor("#ff053a",0),e.teamAIName.anchor.set(.5),e.teamAIName.alpha=0,e.addChild(e.teamAIName),e.teamAIName2=new Phaser.Text(e.game,n.GameConstants.GAME_WIDTH-105,347,n.GameVars.getInstance().teamsData[n.GameVars.getInstance().oponentPlayer()].name2,{font:"50px Jomhuria"}),e.teamAIName2.addColor("#ff053a",0),e.teamAIName2.anchor.set(.5),e.teamAIName2.alpha=0,e.addChild(e.teamAIName2)),e.vsLabel=new Phaser.Image(e.game,n.GameConstants.GAME_WIDTH/2+30,330,"texture_atlas_1","vs.png"),e.vsLabel.anchor.set(.5),e.vsLabel.alpha=0,e.addChild(e.vsLabel),e}return __extends(t,a),t.prototype.showNames=function(){this.game.time.events.add(800,function(){this.game.add.tween(this.strip.scale).to({y:3.75},800,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.game.add.tween(this.vsLabel).to({alpha:1},300,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.teamPlayerName).to({alpha:1},300,Phaser.Easing.Cubic.In,!0),this.game.add.tween(this.teamAIName).to({alpha:1},300,Phaser.Easing.Cubic.In,!0),void 0!==this.teamPlayerName2&&this.game.add.tween(this.teamPlayerName2).to({alpha:1},300,Phaser.Easing.Cubic.In,!0),void 0!==this.teamAIName2&&this.game.add.tween(this.teamAIName2).to({alpha:1},300,Phaser.Easing.Cubic.In,!0)},this)},this)},t}(Phaser.Group);n.TeamNamesContainer=t}(BasketChamps||(BasketChamps={})),function(u){var t=function(l){function t(t){var e=l.call(this,t,null,"select-team-layer",!1)||this,a=new Phaser.Sprite(e.game,0,0,e.game.cache.getBitmapData("black_square"));a.scale.set(u.GameConstants.GAME_WIDTH/16,u.GameConstants.GAME_HEIGHT/16),a.alpha=.7,a.inputEnabled=!0,a.events.onInputDown.add(e.onClickBackground,e),e.add(a),e.tournamentBackground=new u.TournamentBackground(e.game),e.addChild(e.tournamentBackground);var n=t.add.bitmapData(100,100);n.ctx.beginPath(),n.ctx.rect(0,0,100,100),n.ctx.fillStyle="#ffffff",n.ctx.fill(),e.groupTitle=new Phaser.Text(e.game,u.GameConstants.GAME_WIDTH/2-10,38,"SELECT YOUR TEAM",{font:"35px Jomhuria"}),e.groupTitle.addColor("#ffffff",0),e.groupTitle.anchor.set(.5),e.add(e.groupTitle),e.groupA=new Phaser.Text(e.game,90,75,"GROUP A",{font:"25px Jomhuria"}),e.groupA.anchor.set(.5),e.groupA.addColor("#6f9da8",0),e.add(e.groupA),e.groupB=new Phaser.Text(e.game,217,75,"GROUP B",{font:"25px Jomhuria"}),e.groupB.anchor.set(.5),e.groupB.addColor("#6f9da8",0),e.add(e.groupB),e.groupC=new Phaser.Text(e.game,342,75,"GROUP C",{font:"25px Jomhuria"}),e.groupC.anchor.set(.5),e.groupC.addColor("#6f9da8",0),e.add(e.groupC),e.groupD=new Phaser.Text(e.game,464,75,"GROUP D",{font:"25px Jomhuria"}),e.groupD.anchor.set(.5),e.groupD.addColor("#6f9da8",0),e.add(e.groupD),e.teamsButtons=new Array;for(var s=0;s<4;s++)for(var i=0;i<6;i++){var o=new u.TeamGroup(e.game,i+6*s,124*s+95,42*i+110);e.teamsButtons.push(o)}for(s=0;s<24;s++)e.add(e.teamsButtons[s]);e.playButton=new Phaser.Button(e.game,u.GameConstants.GAME_WIDTH-55,345,"texture_atlas_1",e.onPlayClicked,e),e.playButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),e.playButton.anchor.set(.5),e.playButton.scale.set(0),e.playButton.visible=!1,e.add(e.playButton),0!==u.GameVars.getInstance().myTeamID&&(u.MatchManager.currentInstance.showClassification(3),e.visible=!1);var r=new Phaser.Sprite(e.game,153,50,n);r.scale.setTo(.02,3.09),r.tint=5535628,r.alpha=.3,e.add(r);var h=new Phaser.Sprite(e.game,277,50,n);h.scale.setTo(.02,3.09),h.tint=5535628,h.alpha=.3,e.add(h);var c=new Phaser.Sprite(e.game,401,50,n);return c.scale.setTo(.02,3.09),c.tint=5535628,c.alpha=.3,e.add(c),u.AudioManager.getInstance().playSound("loop_menus",!0),e}return __extends(t,l),t.prototype.highlightGroup=function(t,e){e?0===t?this.groupA.addColor("#15212a",0):1===t?this.groupB.addColor("#15212a",0):2===t?this.groupC.addColor("#15212a",0):3===t&&this.groupD.addColor("#15212a",0):0===t?this.groupA.addColor("#6f9da8",0):1===t?this.groupB.addColor("#6f9da8",0):2===t?this.groupC.addColor("#6f9da8",0):3===t&&this.groupD.addColor("#6f9da8",0)},t.prototype.showPlay=function(){this.playButton.visible=!0,this.game.add.tween(this.playButton.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){var t=this.game.add.tween(this.playButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start()},this)},t.prototype.onPlayClicked=function(){u.TournamentManager.getInstance().selectMyTeam(this.teamId),u.MatchManager.currentInstance.showClassification(3),this.visible=!1,u.AudioManager.getInstance().playSound("click")},t.prototype.onClickBackground=function(){},t.prototype.refreshButtons=function(){for(var t=0;t<24;t++)this.teamsButtons[t].refreshButton()},t.prototype.setTeamId=function(t){this.teamId=t},t.prototype.getTeamId=function(){return this.teamId},t}(Phaser.Group);u.SelectTeamLayer=t}(BasketChamps||(BasketChamps={})),function(r){var t=function(o){function t(t,e,a,n){var s=o.call(this,t,null,"team-group",!1)||this;s.x=a,s.y=n,s.teamId=e,s.button=new Phaser.Button(s.game,-3,0,"texture_atlas_1",s.onTeamClicked,s),s.button.setFrames("button-team-on.png","button-team-off.png","button-team-on.png","button-team-off.png"),s.button.anchor.set(.5),s.button.alpha=.2,s.add(s.button),r.GameVars.getInstance().teamsData[e].name2?(s.teamLabel=new Phaser.Text(s.game,-5,-4,r.GameVars.getInstance().teamsData[e].name,{font:"20px Jomhuria"}),s.teamLabel.addColor("#6f9da8",0),s.teamLabel.anchor.set(0,.5),s.add(s.teamLabel),s.teamLabel2=new Phaser.Text(s.game,-5,10,r.GameVars.getInstance().teamsData[e].name2,{font:"20px Jomhuria"}),s.teamLabel2.addColor("#6f9da8",0),s.teamLabel2.anchor.set(0,.5),s.add(s.teamLabel2)):(s.teamLabel=new Phaser.Text(s.game,-5,3,r.GameVars.getInstance().teamsData[e].name,{font:"20px Jomhuria"}),s.teamLabel.addColor("#6f9da8",0),s.teamLabel.anchor.set(0,.5),s.add(s.teamLabel));var i="flag_"+(e+1)+".png";return s.flag=new Phaser.Sprite(s.game,-35,0,"texture_atlas_1",i),s.flag.anchor.set(.5),s.flag.scale.set(.55),s.flag.alpha=.7,s.add(s.flag),s.light=new Phaser.Sprite(s.game,-35,0,"texture_atlas_2","frame_player.png"),s.light.anchor.set(.5),s.light.scale.set(.55),s.light.visible=!1,s.add(s.light),s.button.onInputOver.add(s.over,s),s.button.onInputOut.add(s.out,s),s}return __extends(t,o),t.prototype.over=function(){this.flag.alpha=1,null==r.GameVars.getInstance().teamsData[this.teamId].name2?this.teamLabel.addColor("#15212a",0):(this.teamLabel.addColor("#15212a",0),this.teamLabel2.addColor("#15212a",0)),r.BasketballCourtState.currentInstance.selectTeamLayer.highlightGroup(Math.floor(this.teamId/6),!0)},t.prototype.out=function(){this.teamId+1!==r.BasketballCourtState.currentInstance.selectTeamLayer.getTeamId()&&(this.flag.alpha=.7,null==r.GameVars.getInstance().teamsData[this.teamId].name2?this.teamLabel.addColor("#6f9da8",0):(this.teamLabel.addColor("#6f9da8",0),this.teamLabel2.addColor("#6f9da8",0)),r.BasketballCourtState.currentInstance.selectTeamLayer.highlightGroup(Math.floor(this.teamId/6),!1))},t.prototype.onTeamClicked=function(){r.AudioManager.getInstance().playSound("click"),r.BasketballCourtState.currentInstance.selectTeamLayer.setTeamId(this.teamId+1),r.BasketballCourtState.currentInstance.selectTeamLayer.refreshButtons(),r.BasketballCourtState.currentInstance.selectTeamLayer.showPlay(),this.game.add.tween(this.flag.scale).to({x:.6,y:.6},400,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.light.scale).to({x:.6,y:.6},400,Phaser.Easing.Elastic.Out,!0),this.light.visible=!0,this.flag.alpha=1,this.button.alpha=.6,null==r.GameVars.getInstance().teamsData[this.teamId].name2?this.teamLabel.addColor("#15212a",0):(this.teamLabel.addColor("#15212a",0),this.teamLabel2.addColor("#15212a",0)),this.button.setFrames("button-team-on2.png","button-team-on2.png","button-team-on2.png","button-team-on2.png")},t.prototype.refreshButton=function(){this.flag.scale.set(.55),this.light.scale.set(.55),this.light.visible=!1,this.flag.alpha=.7,this.button.alpha=.2,r.GameVars.getInstance().teamsData[this.teamId].name2?(this.teamLabel.addColor("#6f9da8",0),this.teamLabel2.addColor("#6f9da8",0)):this.teamLabel.addColor("#6f9da8",0),this.game.device.desktop?this.button.setFrames("button-team-on.png","button-team-off.png","button-team-on.png","button-team-off.png"):this.button.setFrames("button-team-off.png","button-team-off.png","button-team-off.png","button-team-off.png")},t}(Phaser.Group);r.TeamGroup=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(o){function t(t){var e=o.call(this,t,null,"tournament-background",!1)||this,a=t.add.bitmapData(10,10);a.ctx.beginPath(),a.ctx.arc(0,0,10,0,Math.PI),a.ctx.fillStyle="#ffffff",a.ctx.fill();var n,s,i=t.add.bitmapData(100,100);return i.ctx.beginPath(),i.ctx.rect(0,0,100,100),i.ctx.fillStyle="#ffffff",i.ctx.fill(),(n=new Phaser.Sprite(t,35,30,a)).tint=5535628,n.alpha=1,n.angle=180,e.addChild(n),(n=new Phaser.Sprite(t,520,30,a)).tint=5535628,n.alpha=1,n.angle=270,e.addChild(n),(s=new Phaser.Sprite(t,35,20,i)).scale.setTo(4.85,.1),s.tint=5535628,s.alpha=1,e.add(s),(s=new Phaser.Sprite(t,25,30,i)).scale.setTo(5.05,.2),s.tint=5535628,s.alpha=1,e.add(s),(s=new Phaser.Sprite(t,25,50,i)).scale.setTo(5.05,2.99),s.tint=14545393,s.alpha=1,e.add(s),(n=new Phaser.Sprite(t,35,349,a)).tint=14545393,n.alpha=1,n.angle=90,e.addChild(n),(n=new Phaser.Sprite(t,520,349,a)).tint=14545393,n.alpha=1,n.angle=0,e.addChild(n),(s=new Phaser.Sprite(t,35,349,i)).scale.setTo(4.85,.1),s.tint=14545393,s.alpha=1,e.add(s),e}return __extends(t,o),t}(Phaser.Group);t.TournamentBackground=e}(BasketChamps||(BasketChamps={})),function(p){var t=function(a){function t(t){var e=a.call(this,t,null,"tournament-layer",!1)||this;return e.red=16712762,e.green=53760,e.gray=11519691,e.flagsAlpha=.75,e.visible=!1,e.pivot.set(p.GameConstants.GAME_WIDTH/2,p.GameConstants.GAME_HEIGHT/2),e.x=p.GameConstants.GAME_WIDTH/2,e.y=p.GameConstants.GAME_HEIGHT/2,e.playClicked=!1,e}return __extends(t,a),t.prototype.update=function(){a.prototype.update.call(this),this.visible&&(this.rays.angle+=1)},t.prototype.updateTournament=function(){this.removeAll(),this.background=new Phaser.Sprite(this.game,0,0,this.game.cache.getBitmapData("black_square")),this.background.scale.set(p.GameConstants.GAME_WIDTH/16,p.GameConstants.GAME_HEIGHT/16),this.background.alpha=.7,this.background.inputEnabled=!0,this.background.events.onInputDown.add(this.onClickBackground,this),this.add(this.background),this.tournamentBackground=new p.TournamentBackground(this.game),this.addChild(this.tournamentBackground),this.classificactionBadge=new Phaser.Image(this.game,90,35,"texture_atlas_1","badge_classification.png"),this.classificactionBadge.anchor.set(.5),this.addChild(this.classificactionBadge),5===p.GameVars.getInstance().numMatch?this.group=new Phaser.Text(this.game,p.GameConstants.GAME_WIDTH/2-10,38,"TOURNAMENT - K.O. PHASE",{font:"35px Jomhuria"}):6===p.GameVars.getInstance().numMatch?this.group=new Phaser.Text(this.game,p.GameConstants.GAME_WIDTH/2-10,38,"TOURNAMENT - QUARTERFINALS",{font:"30px Jomhuria"}):7===p.GameVars.getInstance().numMatch?this.group=new Phaser.Text(this.game,p.GameConstants.GAME_WIDTH/2-10,38,"TOURNAMENT - SEMIFINALS",{font:"30px Jomhuria"}):8===p.GameVars.getInstance().numMatch&&(this.group=new Phaser.Text(this.game,p.GameConstants.GAME_WIDTH/2-10,38,"TOURNAMENT - FINAL",{font:"35px Jomhuria"})),this.group.addColor("#ffffff",0),this.group.anchor.set(.5),this.add(this.group),this.playButton=new Phaser.Button(this.game,p.GameConstants.GAME_WIDTH-55,345,"texture_atlas_1",this.onPlayClicked,this),this.playButton.setFrames("btn_ok_on.png","btn_ok.png","btn_ok_on.png","btn_ok.png"),this.playButton.anchor.set(.5),this.playButton.scale.set(0),this.playButton.visible=!1,this.add(this.playButton),this.drawOct(),this.drawCuart(),this.drawSem(),this.drawFinal(),this.rays=new Phaser.Sprite(this.game,280,213,"texture_atlas_1","rays_final_match.png"),this.rays.anchor.set(.5),this.rays.scale.set(0),this.addChild(this.rays),5===p.GameVars.getInstance().numMatch?this.animateAll():6===p.GameVars.getInstance().numMatch?this.animateLineOct():7===p.GameVars.getInstance().numMatch?this.animateLineCuart():8===p.GameVars.getInstance().numMatch?this.animateLineSem():this.game.time.events.add(500,function(){this.playVisible()},this),this.vsText=new Phaser.Text(this.game,280,213,"VS",{font:"35px Jomhuria"}),this.vsText.addColor("#54778c",0),this.vsText.anchor.set(.5),this.vsText.scale.set(0),this.add(this.vsText)},t.prototype.animateAll=function(){var t=500;this.group.alpha=0;var e=new Phaser.Sprite(this.game,75,81,"texture_atlas_2","frame_player.png");e.anchor.set(.5),e.scale.set(.65),e.alpha=0,this.addChild(e),this.game.add.tween(this.group).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(e).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,t);for(var a=0;a<8;a++)0!==a&&(this.tournamentTeamsOct1[a].alpha=0,this.game.add.tween(this.tournamentTeamsOct1[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,t)),this.tournamentTeamsOct2[a].alpha=0,this.game.add.tween(this.tournamentTeamsOct2[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,t);for(a=0;a<4;a++)this.tournamentTeamsCuart1[a].alpha=0,this.game.add.tween(this.tournamentTeamsCuart1[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,1e3),this.tournamentTeamsCuart2[a].alpha=0,this.game.add.tween(this.tournamentTeamsCuart2[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,1e3);for(a=0;a<2;a++)this.tournamentTeamsSem1[a].alpha=0,this.game.add.tween(this.tournamentTeamsSem1[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,1250),this.tournamentTeamsSem2[a].alpha=0,this.game.add.tween(this.tournamentTeamsSem2[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,1250),this.tournamentTeamsFinal[a].alpha=0,this.game.add.tween(this.tournamentTeamsFinal[a]).to({alpha:.8},t,Phaser.Easing.Cubic.Out,!0,1500);this.linesOct1.alpha=0,this.game.add.tween(this.linesOct1).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750),this.linesOct2.alpha=0,this.game.add.tween(this.linesOct2).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750),this.linesCuart1.alpha=0,this.game.add.tween(this.linesCuart1).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750),this.linesCuart2.alpha=0,this.game.add.tween(this.linesCuart2).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750),this.linesSem1.alpha=0,this.game.add.tween(this.linesSem1).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750),this.linesSem2.alpha=0,this.game.add.tween(this.linesSem2).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0,1750).onComplete.add(function(){this.playVisible()},this)},t.prototype.playVisible=function(){this.playButton.visible=!0,this.playClicked=!1,this.game.add.tween(this.playButton.scale).to({x:1,y:1},500,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.pulseTween=this.game.add.tween(this.playButton.scale),this.pulseTween.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),this.pulseTween.delay(50),this.pulseTween.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),this.pulseTween.loop(),this.pulseTween.start()},this)},t.prototype.onPlayClicked=function(){this.playClicked||(this.playClicked=!0,void 0!==this.pulseTween&&this.pulseTween.stop(),this.game.add.tween(this.playButton.scale).to({x:0,y:0},650,Phaser.Easing.Elastic.In,!0).onComplete.add(function(){this.game.add.tween(this.background).to({alpha:0},500,Phaser.Easing.Linear.None,!0,300).onComplete.add(function(){p.MatchManager.currentInstance.matchReady(),this.game.add.tween(this).to({alpha:0},400,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.scale).to({x:0,y:0},500,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.visible=!1,this.scale.set(1),this.alpha=1,this.background.alpha=.7,this.playButton.scale.set(1)},this)},this)},this),p.AudioManager.getInstance().playSound("loop_torneo",!0),p.AudioManager.getInstance().playSound("click"))},t.prototype.onClickBackground=function(){},t.prototype.showTournament=function(){this.visible=!0,this.updateTournament()},t.prototype.drawOct=function(){this.tournamentTeamsOct1=new Array,this.tournamentTeamsOct2=new Array,this.linesOct1=new Phaser.Graphics(this.game,0,0),this.linesOct1.lineStyle(1,this.gray),this.linesOct2=new Phaser.Graphics(this.game,0,0),this.linesOct2.lineStyle(1,this.gray);for(var t=0,e=0;e<8;e++){e%2==0&&0!==e&&(t+=14);var a="flag_"+p.GameVars.getInstance().octFinal[e]+".png";(n=new Phaser.Sprite(this.game,75,85+t+30*e,"texture_atlas_1",a)).anchor.set(.5),n.scale.set(.5),5!==p.GameVars.getInstance().numMatch?n.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-5):p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().myTeamID&&(n.scale.set(.65),n.y-=4),this.tournamentTeamsOct1.push(n),p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[e/2]||p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[(e-1)/2]?(p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().myTeamID?6===p.GameVars.getInstance().numMatch?(this.linesOct1.lineStyle(1,this.gray),this.linesOct1.beginFill(this.gray,1)):(this.linesOct1.lineStyle(1,this.green),this.linesOct1.beginFill(this.green,1)):(this.linesOct1.lineStyle(1,this.red),this.linesOct1.beginFill(this.red,1)),this.linesOct1.drawRect(95,84+30*e+t,13,2),this.linesOct1.endFill(),this.linesOct1.lineStyle(1,this.gray),this.linesOct1.beginFill(this.gray,1)):(this.linesOct1.beginFill(this.gray,1),this.linesOct1.drawRect(95,84+30*e+t,13,2)),e%2==0?p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[e/2]||p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[(e-1)/2]?(p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().myTeamID?6===p.GameVars.getInstance().numMatch?(this.linesOct1.lineStyle(1,this.gray),this.linesOct1.beginFill(this.gray,1)):(this.linesOct1.lineStyle(1,this.green),this.linesOct1.beginFill(this.green,1)):(this.linesOct1.lineStyle(1,this.red),this.linesOct1.beginFill(this.red,1)),this.linesOct1.drawRect(108,84+30*e+t,2,15),this.linesOct1.lineStyle(1,this.gray),this.linesOct1.endFill(),this.linesOct1.beginFill(this.gray,1)):this.linesOct1.drawRect(108,84+30*e+t,2,15):(p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[e/2]||p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().cuartFinal[(e-1)/2]?(p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().myTeamID?6===p.GameVars.getInstance().numMatch?(this.linesOct1.lineStyle(1,this.gray),this.linesOct1.beginFill(this.gray,1)):(this.linesOct1.lineStyle(1,this.green),this.linesOct1.beginFill(this.green,1)):(this.linesOct1.lineStyle(1,this.red),this.linesOct1.beginFill(this.red,1)),this.linesOct1.drawRect(108,84+30*e+t-15,2,17),this.linesOct1.lineStyle(1,this.gray)):this.linesOct1.drawRect(108,84+30*e+t-15,2,17),5<p.GameVars.getInstance().numMatch?(p.GameVars.getInstance().octFinal[e]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().octFinal[e-1]===p.GameVars.getInstance().myTeamID?6===p.GameVars.getInstance().numMatch?(this.linesOct1.lineStyle(1,this.gray),this.linesOct1.beginFill(this.gray,1)):(this.linesOct1.lineStyle(1,this.green),this.linesOct1.beginFill(this.green,1)):(this.linesOct1.lineStyle(1,this.red),this.linesOct1.beginFill(this.red,1)),this.linesOct1.drawRect(108,84+30*(e-1)+t+15,12,2),this.linesOct1.lineStyle(1,this.gray),this.linesOct1.endFill(),this.linesOct1.beginFill(this.gray,1)):this.linesOct1.drawRect(108,84+30*(e-1)+t+15,12,2)),this.linesOct1.endFill()}this.add(this.linesOct1);for(e=0;e<8;e++)this.add(this.tournamentTeamsOct1[e]);for(e=t=0;e<8;e++){e%2==0&&0!==e&&(t+=14);var n;a="flag_"+p.GameVars.getInstance().octFinal[e+8]+".png";(n=new Phaser.Sprite(this.game,480,85+t+30*e,"texture_atlas_1",a)).anchor.set(.5),n.scale.set(.5),5!==p.GameVars.getInstance().numMatch?n.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-5):p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().myTeamID&&n.scale.set(.65),this.tournamentTeamsOct2.push(n),p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8)/2]||p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8-1)/2]?(p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().myTeamID?(this.linesOct2.lineStyle(0,this.green),this.linesOct2.beginFill(this.green,0)):(this.linesOct2.lineStyle(1,this.red),this.linesOct2.beginFill(this.red,1)),this.linesOct2.drawRect(447,84+t+30*e,13,2),this.linesOct2.endFill(),this.linesOct2.lineStyle(1,this.gray),this.linesOct2.beginFill(this.gray,1)):(this.linesOct2.beginFill(this.gray,1),this.linesOct2.drawRect(447,84+t+30*e,13,2)),e%2==0?p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8)/2]||p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8-1)/2]?(p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().myTeamID?(this.linesOct2.lineStyle(0,this.green),this.linesOct2.beginFill(this.green,0)):(this.linesOct2.lineStyle(1,this.red),this.linesOct2.beginFill(this.red,1)),this.linesOct2.drawRect(447,84+t+30*e,2,15),this.linesOct2.lineStyle(1,this.gray),this.linesOct2.endFill(),this.linesOct2.beginFill(this.gray,1)):this.linesOct2.drawRect(447,84+t+30*e,2,15):(p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8)/2]||p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().cuartFinal[(e+8-1)/2]?(p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().myTeamID?(this.linesOct2.lineStyle(0,this.green),this.linesOct2.beginFill(this.green,0)):(this.linesOct2.lineStyle(1,this.red),this.linesOct2.beginFill(this.red,1)),this.linesOct2.drawRect(447,84+t-15+30*e,2,15),this.linesOct2.lineStyle(1,this.gray)):this.linesOct2.drawRect(447,84+t-15+30*e,2,15),5<p.GameVars.getInstance().numMatch?(p.GameVars.getInstance().octFinal[e+8]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().octFinal[e+8-1]===p.GameVars.getInstance().myTeamID?(this.linesOct2.lineStyle(0,this.green),this.linesOct2.beginFill(this.green,0)):(this.linesOct2.lineStyle(1,this.red),this.linesOct2.beginFill(this.red,1)),this.linesOct2.drawRect(434,84+t+15+30*(e-1),15,2),this.linesOct2.lineStyle(1,this.gray),this.linesOct2.endFill(),this.linesOct2.beginFill(this.gray,1)):this.linesOct2.drawRect(434,84+t+15+30*(e-1),15,2)),this.linesOct2.endFill()}this.add(this.linesOct2);for(e=0;e<8;e++)this.add(this.tournamentTeamsOct2[e])},t.prototype.drawCuart=function(){this.tournamentTeamsCuart1=new Array,this.tournamentTeamsCuart2=new Array,this.linesCuart1=new Phaser.Graphics(this.game,0,0),this.linesCuart1.lineStyle(1,this.gray),this.linesCuart2=new Phaser.Graphics(this.game,0,0),this.linesCuart2.lineStyle(1,this.gray);for(var t=0;t<4;t++){var e="flag_"+p.GameVars.getInstance().cuartFinal[t]+".png",a=void 0;p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID&&6===p.GameVars.getInstance().numMatch?(a=new Phaser.Sprite(this.game,140,103+72*t,"texture_atlas_1","flag_0.png")).alpha=this.flagsAlpha:a=new Phaser.Sprite(this.game,140,103+72*t,"texture_atlas_1",e),a.anchor.set(.5),a.scale.set(.5),6!==p.GameVars.getInstance().numMatch?6<p.GameVars.getInstance().numMatch?a.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-6):a.alpha=this.flagsAlpha:p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID&&6!==p.GameVars.getInstance().numMatch&&a.scale.set(.65),this.tournamentTeamsCuart1.push(a),6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[t/2]||p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[(t-1)/2])?(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID?7===p.GameVars.getInstance().numMatch?(this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.beginFill(this.gray,1)):(this.linesCuart1.lineStyle(1,this.green),this.linesCuart1.beginFill(this.green,1)):(this.linesCuart1.lineStyle(1,this.red),this.linesCuart1.beginFill(this.red,1)),this.linesCuart1.drawRect(159,102+72*t,12,2),this.linesCuart1.endFill(),this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.beginFill(this.gray,1)):(this.linesCuart1.beginFill(this.gray,1),this.linesCuart1.drawRect(159,102+72*t,12,2)),t%2==0?6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[t/2]||p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[(t-1)/2])?(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID?7===p.GameVars.getInstance().numMatch?(this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.beginFill(this.gray,1)):(this.linesCuart1.lineStyle(1,this.green),this.linesCuart1.beginFill(this.green,1)):(this.linesCuart1.lineStyle(1,this.red),this.linesCuart1.beginFill(this.red,1)),this.linesCuart1.drawRect(171,102+72*t,2,37),this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.endFill(),this.linesCuart1.beginFill(this.gray,1)):this.linesCuart1.drawRect(171,102+72*t,2,37):(6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[t/2]||p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().semFinal[(t-1)/2])?(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID?7===p.GameVars.getInstance().numMatch?(this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.beginFill(this.gray,1)):(this.linesCuart1.lineStyle(1,this.green),this.linesCuart1.beginFill(this.green,1)):(this.linesCuart1.lineStyle(1,this.red),this.linesCuart1.beginFill(this.red,1)),this.linesCuart1.drawRect(171,102+72*t-34,2,36),this.linesCuart1.lineStyle(1,this.gray)):this.linesCuart1.drawRect(171,102+72*t-34,2,36),6<p.GameVars.getInstance().numMatch?(p.GameVars.getInstance().cuartFinal[t]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().cuartFinal[t-1]===p.GameVars.getInstance().myTeamID?7===p.GameVars.getInstance().numMatch?(this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.beginFill(this.gray,1)):(this.linesCuart1.lineStyle(1,this.green),this.linesCuart1.beginFill(this.green,1)):(this.linesCuart1.lineStyle(1,this.red),this.linesCuart1.beginFill(this.red,1)),this.linesCuart1.drawRect(171,138+72*(t-1),16,2),this.linesCuart1.lineStyle(1,this.gray),this.linesCuart1.endFill(),this.linesCuart1.beginFill(this.gray,1)):this.linesCuart1.drawRect(171,138+72*(t-1),16,2)),this.linesCuart1.endFill()}this.add(this.linesCuart1);for(t=0;t<4;t++)this.add(this.tournamentTeamsCuart1[t]);for(t=0;t<4;t++){e="flag_"+p.GameVars.getInstance().cuartFinal[t+4]+".png";(a=new Phaser.Sprite(this.game,415,103+72*t,"texture_atlas_1",e)).anchor.set(.5),a.scale.set(.5),6!==p.GameVars.getInstance().numMatch?6<p.GameVars.getInstance().numMatch?a.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-6):a.alpha=this.flagsAlpha:p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().myTeamID&&a.scale.set(.65),this.tournamentTeamsCuart2.push(a),6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4)/2]||p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4-1)/2])?(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().myTeamID?(this.linesCuart2.lineStyle(0,this.green),this.linesCuart2.beginFill(this.green,0)):(this.linesCuart2.lineStyle(1,this.red),this.linesCuart2.beginFill(this.red,1)),this.linesCuart2.drawRect(381,102+72*t,13,2),this.linesCuart2.endFill(),this.linesCuart2.lineStyle(1,this.gray),this.linesCuart2.beginFill(this.gray,1)):(this.linesCuart2.beginFill(this.gray,1),this.linesCuart2.drawRect(381,102+72*t,13,2)),t%2==0?6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4)/2]||p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4-1)/2])?(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().myTeamID?(this.linesCuart2.lineStyle(0,this.green),this.linesCuart2.beginFill(this.green,0)):(this.linesCuart2.lineStyle(1,this.red),this.linesCuart2.beginFill(this.red,1)),this.linesCuart2.drawRect(380,102+72*t,2,37),this.linesCuart2.lineStyle(1,this.gray),this.linesCuart2.endFill(),this.linesCuart2.beginFill(this.gray,1)):this.linesCuart2.drawRect(380,102+72*t,2,37):(6<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4)/2]||p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().semFinal[(t+4-1)/2])?(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().myTeamID?(this.linesCuart2.lineStyle(0,this.green),this.linesCuart2.beginFill(this.green,0)):(this.linesCuart2.lineStyle(1,this.red),this.linesCuart2.beginFill(this.red,1)),this.linesCuart2.drawRect(380,104+72*t-36,2,36),this.linesCuart2.lineStyle(1,this.gray)):this.linesCuart2.drawRect(380,104+72*t-36,2,36),6<p.GameVars.getInstance().numMatch?(p.GameVars.getInstance().cuartFinal[t+4]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().cuartFinal[t+4-1]===p.GameVars.getInstance().myTeamID?(this.linesCuart2.lineStyle(0,this.green),this.linesCuart2.beginFill(this.green,0)):(this.linesCuart2.lineStyle(1,this.red),this.linesCuart2.beginFill(this.red,1)),this.linesCuart2.drawRect(367,138+72*(t-1),15,2),this.linesCuart2.lineStyle(1,this.gray),this.linesCuart2.endFill(),this.linesCuart2.beginFill(this.gray,1)):this.linesCuart2.drawRect(367,138+72*(t-1),15,2)),this.linesCuart2.endFill()}this.add(this.linesCuart2);for(t=0;t<4;t++)this.add(this.tournamentTeamsCuart2[t])},t.prototype.drawSem=function(){this.tournamentTeamsSem1=new Array,this.tournamentTeamsSem2=new Array,this.linesSem1=new Phaser.Graphics(this.game,0,0),this.linesSem1.lineStyle(1,this.gray),this.linesSem2=new Phaser.Graphics(this.game,0,0),this.linesSem2.lineStyle(1,this.gray),7<p.GameVars.getInstance().numMatch&&p.GameVars.getInstance().semFinal[0]===p.GameVars.getInstance().final[0]?(p.GameVars.getInstance().semFinal[0]===p.GameVars.getInstance().myTeamID?8===p.GameVars.getInstance().numMatch?(this.linesSem1.lineStyle(1,this.gray),this.linesSem1.beginFill(this.gray,1)):(this.linesSem1.lineStyle(1,this.green),this.linesSem1.beginFill(this.green,1)):(this.linesSem1.lineStyle(1,this.red),this.linesSem1.beginFill(this.red,1)),this.linesSem1.drawRect(227,139,13,2),this.linesSem1.drawRect(240,139,2,45),this.linesSem1.lineStyle(1,this.gray),this.linesSem1.endFill(),this.linesSem1.beginFill(this.gray,1)):(this.linesSem1.beginFill(this.gray,1),this.linesSem1.drawRect(227,139,13,2),this.linesSem1.drawRect(240,139,2,45),this.linesSem1.endFill()),7<p.GameVars.getInstance().numMatch&&p.GameVars.getInstance().semFinal[1]===p.GameVars.getInstance().final[0]?(p.GameVars.getInstance().semFinal[1]===p.GameVars.getInstance().myTeamID?8===p.GameVars.getInstance().numMatch?(this.linesSem1.lineStyle(1,this.gray),this.linesSem1.beginFill(this.gray,1)):(this.linesSem1.lineStyle(1,this.green),this.linesSem1.beginFill(this.green,1)):(this.linesSem1.lineStyle(1,this.red),this.linesSem1.beginFill(this.red,1)),this.linesSem1.drawRect(227,281,13,2),this.linesSem1.drawRect(240,185,2,98),this.linesSem1.lineStyle(1,this.gray),this.linesSem1.endFill(),this.linesSem1.beginFill(this.gray,1)):(this.linesSem1.beginFill(this.gray,1),this.linesSem1.drawRect(227,281,13,2),this.linesSem1.drawRect(240,185,2,98),this.linesSem1.endFill()),7<p.GameVars.getInstance().numMatch&&(p.GameVars.getInstance().semFinal[0]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().semFinal[1]===p.GameVars.getInstance().myTeamID?8===p.GameVars.getInstance().numMatch?(this.linesSem1.lineStyle(1,this.gray),this.linesSem1.beginFill(this.gray,1)):(this.linesSem1.lineStyle(1,this.green),this.linesSem1.beginFill(this.green,1)):(this.linesSem1.lineStyle(1,this.red),this.linesSem1.beginFill(this.red,1))),this.linesSem1.lineStyle(1,this.gray),this.linesSem1.beginFill(this.gray,1),this.linesSem1.drawRect(240,183,14,2),this.linesSem1.endFill(),this.add(this.linesSem1),7<p.GameVars.getInstance().numMatch&&p.GameVars.getInstance().semFinal[2]===p.GameVars.getInstance().final[1]?(p.GameVars.getInstance().semFinal[2]===p.GameVars.getInstance().myTeamID?(this.linesSem2.lineStyle(0,this.green),this.linesSem2.beginFill(this.green,0)):8===p.GameVars.getInstance().numMatch?(this.linesSem2.lineStyle(1,this.gray),this.linesSem2.beginFill(this.gray,1)):(this.linesSem2.lineStyle(1,this.red),this.linesSem2.beginFill(this.red,1)),this.linesSem2.drawRect(318,139,13,2),this.linesSem2.drawRect(318,139,2,98),this.linesSem2.lineStyle(1,this.gray),this.linesSem2.endFill(),this.linesSem2.beginFill(this.gray,1)):(this.linesSem2.beginFill(this.gray,1),this.linesSem2.drawRect(318,139,13,2),this.linesSem2.drawRect(318,139,2,98),this.linesSem2.endFill()),7<p.GameVars.getInstance().numMatch&&p.GameVars.getInstance().semFinal[3]===p.GameVars.getInstance().final[1]?(p.GameVars.getInstance().semFinal[3]===p.GameVars.getInstance().myTeamID?(this.linesSem2.lineStyle(0,this.green),this.linesSem2.beginFill(this.green,0)):8===p.GameVars.getInstance().numMatch?(this.linesSem2.lineStyle(1,this.gray),this.linesSem2.beginFill(this.gray,1)):(this.linesSem2.lineStyle(1,this.red),this.linesSem2.beginFill(this.red,1)),this.linesSem2.drawRect(318,281,13,2),this.linesSem2.drawRect(318,238,2,45),this.linesSem2.lineStyle(1,this.gray),this.linesSem2.endFill(),this.linesSem2.beginFill(this.gray,1)):(this.linesSem2.beginFill(this.gray,1),this.linesSem2.drawRect(318,281,13,2),this.linesSem2.drawRect(318,238,2,45),this.linesSem2.endFill()),7<p.GameVars.getInstance().numMatch?p.GameVars.getInstance().semFinal[2]===p.GameVars.getInstance().myTeamID||p.GameVars.getInstance().semFinal[3]===p.GameVars.getInstance().myTeamID?(this.linesSem2.lineStyle(0,this.green),this.linesSem2.beginFill(this.green,0)):8===p.GameVars.getInstance().numMatch?(this.linesSem2.lineStyle(1,this.gray),this.linesSem2.beginFill(this.gray,1)):(this.linesSem2.lineStyle(1,this.red),this.linesSem2.beginFill(this.red,1)):(this.linesSem2.lineStyle(1,this.gray),this.linesSem2.beginFill(this.gray,1)),this.linesSem2.drawRect(306,238,14,2),this.linesSem2.endFill(),this.add(this.linesSem2);for(var t=0;t<2;t++){var e="flag_"+p.GameVars.getInstance().semFinal[t]+".png",a=void 0;p.GameVars.getInstance().semFinal[t]===p.GameVars.getInstance().myTeamID&&7===p.GameVars.getInstance().numMatch?(a=new Phaser.Sprite(this.game,208,140+142*t,"texture_atlas_1","flag_0.png")).alpha=this.flagsAlpha:a=new Phaser.Sprite(this.game,208,140+142*t,"texture_atlas_1",e),a.anchor.set(.5),a.scale.set(.5),7!==p.GameVars.getInstance().numMatch?7<p.GameVars.getInstance().numMatch?a.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-7):a.alpha=this.flagsAlpha:p.GameVars.getInstance().semFinal[t]===p.GameVars.getInstance().myTeamID&&7!==p.GameVars.getInstance().numMatch&&a.scale.set(.65),this.tournamentTeamsSem1.push(a)}for(t=0;t<2;t++)this.add(this.tournamentTeamsSem1[t]);for(t=0;t<2;t++){e="flag_"+p.GameVars.getInstance().semFinal[t+2]+".png";(a=new Phaser.Sprite(this.game,350,140+142*t,"texture_atlas_1",e)).anchor.set(.5),a.scale.set(.5),7!==p.GameVars.getInstance().numMatch?7<p.GameVars.getInstance().numMatch?a.alpha=this.flagsAlpha-.15*(p.GameVars.getInstance().numMatch-7):a.alpha=this.flagsAlpha:p.GameVars.getInstance().semFinal[t+2]===p.GameVars.getInstance().myTeamID&&a.scale.set(.65),this.tournamentTeamsSem2.push(a)}for(t=0;t<2;t++)this.add(this.tournamentTeamsSem2[t])},t.prototype.drawFinal=function(){this.tournamentTeamsFinal=new Array;var t,e="flag_"+p.GameVars.getInstance().final[0]+".png";p.GameVars.getInstance().final[0]===p.GameVars.getInstance().myTeamID&&8===p.GameVars.getInstance().numMatch?(t=new Phaser.Sprite(this.game,280,183,"texture_atlas_1","flag_0.png")).alpha=this.flagsAlpha:t=new Phaser.Sprite(this.game,280,183,"texture_atlas_1",e),t.anchor.set(.5),t.scale.set(.65),8!==p.GameVars.getInstance().numMatch&&(t.alpha=this.flagsAlpha),this.tournamentTeamsFinal.push(t),e="flag_"+p.GameVars.getInstance().final[1]+".png";var a=new Phaser.Sprite(this.game,280,237,"texture_atlas_1","flag_0.png");a.alpha=this.flagsAlpha,a.anchor.set(.5),a.scale.set(.65),8!==p.GameVars.getInstance().numMatch&&(a.alpha=this.flagsAlpha),this.tournamentTeamsFinal.push(a);for(var n=0;n<2;n++)this.add(this.tournamentTeamsFinal[n])},t.prototype.animateLineOct=function(){var t,e,a,n;(t=new Phaser.Graphics(this.game,95,84)).lineStyle(1,this.green),t.pivot.set(0,.5),t.scale.set(0,1),t.beginFill(this.green,1),t.drawRect(0,0,13,2),t.endFill(),(e=new Phaser.Graphics(this.game,108,84)).lineStyle(1,this.green),e.pivot.set(.5,1),e.scale.set(1,0),e.beginFill(this.green,1),e.drawRect(0,0,2,15),e.endFill(),(a=new Phaser.Graphics(this.game,108,99)).lineStyle(1,this.green),a.pivot.set(0,.5),a.scale.set(0,1),a.beginFill(this.green,1),a.drawRect(0,0,12,2),a.endFill();var s="flag_"+p.GameVars.getInstance().myTeamID+".png";(n=new Phaser.Sprite(this.game,140,103,"texture_atlas_1",s)).anchor.set(.5),n.scale.set(0);var i=new Phaser.Sprite(this.game,140,103,"texture_atlas_2","frame_player.png");i.anchor.set(.5),i.scale.set(0);var o=this.game.add.tween(t.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None,!0,500),r=this.game.add.tween(e.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None),h=this.game.add.tween(a.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None),c=this.game.add.tween(n.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out);this.game.add.tween(i.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out,!0,1300),this.game.time.events.add(2500,function(){this.playVisible()},this),o.chain(r),r.chain(h),h.chain(c),this.add(t),this.add(e),this.add(a),this.add(n),this.add(i)},t.prototype.animateLineCuart=function(){var t,e,a,n;(t=new Phaser.Graphics(this.game,159,102)).lineStyle(1,this.green),t.pivot.set(0,.5),t.scale.set(0,1),t.beginFill(this.green,1),t.drawRect(0,0,13,2),t.endFill(),(e=new Phaser.Graphics(this.game,171,102)).lineStyle(1,this.green),e.pivot.set(.5,1),e.scale.set(1,0),e.beginFill(this.green,1),e.drawRect(0,0,2,37),e.endFill(),(a=new Phaser.Graphics(this.game,171,138)).lineStyle(1,this.green),a.pivot.set(0,.5),a.scale.set(0,1),a.beginFill(this.green,1),a.drawRect(0,0,16,2),a.endFill();var s="flag_"+p.GameVars.getInstance().myTeamID+".png";(n=new Phaser.Sprite(this.game,208,140,"texture_atlas_1",s)).anchor.set(.5),n.scale.set(0);var i=new Phaser.Sprite(this.game,208,140,"texture_atlas_2","frame_player.png");i.anchor.set(.5),i.scale.set(0);var o=this.game.add.tween(t.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None,!0,500),r=this.game.add.tween(e.scale).to({x:1,y:1},500,Phaser.Easing.Linear.None),h=this.game.add.tween(a.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None),c=this.game.add.tween(n.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out);this.game.add.tween(i.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out,!0,1600),this.game.time.events.add(2500,function(){this.playVisible()},this),o.chain(r),r.chain(h),h.chain(c),this.add(t),this.add(e),this.add(a),this.add(n),this.add(i)},t.prototype.animateLineSem=function(){var t,e,a,s,i,o,n,r,h="flag_"+p.GameVars.getInstance().myTeamID+".png";(n=new Phaser.Sprite(this.game,280,183,"texture_atlas_1",h)).anchor.set(.5),n.scale.set(0);var c=new Phaser.Sprite(this.game,280,183,"texture_atlas_2","frame_player.png");c.anchor.set(.5),c.scale.set(0);var l="flag_"+p.GameVars.getInstance().final[1]+".png";(r=new Phaser.Sprite(this.game,280,237,"texture_atlas_1",l)).anchor.set(.5),r.scale.set(0),(t=new Phaser.Graphics(this.game,227,139)).lineStyle(1,this.green),t.pivot.set(0,.5),t.scale.set(0,1),t.beginFill(this.green,1),t.drawRect(0,0,13,2),t.endFill(),(e=new Phaser.Graphics(this.game,240,139)).lineStyle(1,this.green),e.pivot.set(.5,1),e.scale.set(1,0),e.beginFill(this.green,1),e.drawRect(0,0,2,45),e.endFill(),(a=new Phaser.Graphics(this.game,240,183)).lineStyle(1,this.green),a.pivot.set(0,.5),a.scale.set(0,1),a.beginFill(this.green,1),a.drawRect(0,0,14,2),a.endFill(),p.GameVars.getInstance().final[1]===p.GameVars.getInstance().semFinal[3]?((s=new Phaser.Graphics(this.game,331,281)).lineStyle(1,this.red),s.pivot.set(0,.5),s.scale.set(0,1),s.beginFill(this.red,1),s.drawRect(0,0,13,2),s.endFill(),(i=new Phaser.Graphics(this.game,318,283)).lineStyle(1,this.red),i.pivot.set(.5,1),i.scale.set(1,0),i.beginFill(this.red,1),i.drawRect(0,0,2,45)):((s=new Phaser.Graphics(this.game,331,139)).lineStyle(1,this.red),s.pivot.set(0,.5),s.scale.set(0,1),s.beginFill(this.red,1),s.drawRect(0,0,13,2),s.endFill(),(i=new Phaser.Graphics(this.game,318,140)).lineStyle(1,this.red),i.pivot.set(.5,1),i.scale.set(1,0),i.beginFill(this.red,1),i.drawRect(0,0,2,99)),i.endFill(),(o=new Phaser.Graphics(this.game,320,238)).lineStyle(1,this.red),o.pivot.set(0,.5),o.scale.set(0,1),o.beginFill(this.red,1),o.drawRect(0,0,14,2),o.endFill();var u=this.game.add.tween(t.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None,!0,500),m=this.game.add.tween(e.scale).to({x:1,y:1},750,Phaser.Easing.Linear.None),g=this.game.add.tween(a.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None),d=this.game.add.tween(n.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out);this.game.add.tween(c.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out,!0,1850),u.chain(m),m.chain(g),g.chain(d),this.game.time.events.add(2500,function(){var t,e=this.game.add.tween(s.scale).to({x:-1,y:1},250,Phaser.Easing.Linear.None,!0);t=p.GameVars.getInstance().final[1]===p.GameVars.getInstance().semFinal[3]?this.game.add.tween(i.scale).to({x:1,y:-1},750,Phaser.Easing.Linear.None):this.game.add.tween(i.scale).to({x:1,y:1},750,Phaser.Easing.Linear.None);var a=this.game.add.tween(o.scale).to({x:-1,y:1},250,Phaser.Easing.Linear.None),n=this.game.add.tween(r.scale).to({x:.65,y:.65},800,Phaser.Easing.Elastic.Out);e.chain(t),t.chain(a),a.chain(n),this.game.time.events.add(2500,function(){this.game.add.tween(this.vsText.scale).to({x:1,y:1},400,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(this.rays.scale).to({x:1,y:1},400,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.playVisible()},this)},this)},this),this.add(t),this.add(e),this.add(a),this.add(n),this.add(c),this.add(s),this.add(i),this.add(o),this.add(r)},t}(Phaser.Group);p.TournamentLayer=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(h){function t(t,e,a){var n=h.call(this,t,null,"credits-background",!1)||this;n.x=e,n.y=a;var s=t.add.bitmapData(20,20);s.ctx.beginPath(),s.ctx.arc(0,0,20,0,Math.PI),s.ctx.fillStyle="#ffffff",s.ctx.fill();var i,o,r=t.add.bitmapData(100,100);return r.ctx.beginPath(),r.ctx.rect(0,0,100,100),r.ctx.fillStyle="#ffffff",r.ctx.fill(),(i=new Phaser.Sprite(t,50,50,s)).tint=16777215,i.alpha=.8,i.angle=180,n.addChild(i),(i=new Phaser.Sprite(t,545,50,s)).tint=16777215,i.alpha=.8,i.angle=270,n.addChild(i),(o=new Phaser.Sprite(t,50,30,r)).scale.setTo(4.95,.2),o.tint=16777215,o.alpha=.8,n.add(o),(o=new Phaser.Sprite(t,30,50,r)).scale.setTo(5.35,2.8),o.tint=16777215,o.alpha=.8,n.add(o),(i=new Phaser.Sprite(t,50,330,s)).tint=16777215,i.alpha=.8,i.angle=90,n.addChild(i),(i=new Phaser.Sprite(t,545,330,s)).tint=16777215,i.alpha=.8,i.angle=0,n.addChild(i),(o=new Phaser.Sprite(t,50,330,r)).scale.setTo(4.95,.2),o.tint=16777215,o.alpha=.8,n.add(o),n}return __extends(t,h),t}(Phaser.Group);t.CreditsBackground=e}(BasketChamps||(BasketChamps={})),function(i){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){e.currentInstance=this},e.prototype.shutdown=function(){e.currentInstance=null,t.prototype.shutdown.call(this)},e.prototype.create=function(){this.leavingScene=!1,this.add.image(0,0,"bg"),this.add.image(0,0,"texture_atlas_2","seats.png"),this.add.image(0,0,"texture_atlas_2","seats_2.png"),this.add.image(0,0,"texture_atlas_2","seats_1.png"),this.add.image(0,0,"texture_atlas_1","post.png"),this.add.image(0,0,"texture_atlas_1","backboard.png"),this.add.image(0,0,"texture_atlas_1","hoop.png"),this.add.image(0,0,"texture_atlas_1","front.png"),this.add.image(50,135,"texture_atlas_1","net0001.png"),this.add.image(0,0,"texture_atlas_1","frontHoop.png"),this.add.bitmapText(250,7,"digital-display","5",110),this.add.bitmapText(355,7,"digital-display","0",110);var t,e=new i.CreditsBackground(this.game,0,0);this.add.existing(e),t=new Phaser.Text(this.game,100,40,"A GAME BY ",{font:"60px Jomhuria",fill:"#152c32"}),this.add.existing(t),this.add.image(270,43,"texture_atlas_1","ravalmatic_horizontal.png"),t=new Phaser.Text(this.game,100,90,"PROGRAMMER:  DAVID ESCRICHE ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,120,"LEAD PROGRAMMER:  ENRIQUETO ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t);var a=new Phaser.Image(this.game,430,135,"texture_atlas_1","banana.png");a.anchor.set(.5),a.scale.set(.6),a.angle=5,this.add.existing(a);var n=this.game.add.tween(a.scale);n.to({x:.63,y:.57},300,Phaser.Easing.Linear.None,!1),n.delay(250),n.to({x:.57,y:.63},700,Phaser.Easing.Elastic.Out),n.loop(),n.start(),t=new Phaser.Text(this.game,100,150,"ART & UX:  JAVI SANZ ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,180,"FLAG DESIGN:  MUHARREM SENYIL ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,210,"SOUND FX:  WILFORD MCPERTIGAN ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,240,"SOUNDTRACK:  BOOMOPERA ",{font:"40px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,280,"PHYSICS ENGINE:  BOX2D ",{font:"30px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,300,"GAME FRAMEWORK:  PHASER ",{font:"30px Jomhuria",fill:"#152c32"}),this.add.existing(t),t=new Phaser.Text(this.game,100,320,"BASED ON:  WORLD BASKETBALL CHAMPIONSHIP ",{font:"30px Jomhuria",fill:"#152c32"}),this.add.existing(t),this.backButton=new Phaser.Button(this.game,35,35,"texture_atlas_1",this.onBackClicked,this),this.backButton.setFrames("button-exit-on.png","button-exit-off.png","button-exit-on.png"),this.backButton.anchor.set(.5),this.add.existing(this.backButton);var s=this.add.text(525,40,"v"+i.GameConstants.VERSION,{font:"25px  Jomhuria",fill:"#152c32"});this.add.existing(s),i.AudioManager.getInstance().stopSound("splash",!0)},e.prototype.onBackClicked=function(){this.leavingScene||(this.leavingScene=!0,this.game.add.tween(this.backButton.scale).to({x:0,y:0},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){this.game.camera.fade(0,i.GameConstants.TIME_FADE,!0),this.game.camera.onFadeComplete.add(function(){i.AudioManager.getInstance().playSound("splash",!0),this.game.state.start("SplashState",!0,!1)},this)},this))},e}(Phaser.State);i.CreditsState=t}(BasketChamps||(BasketChamps={})),function(i){var t=function(n){function s(t){var e=n.call(this,t,null,"background-manager")||this;e.create(0,0,e.game.cache.getBitmapData("white_square")).scale.set(i.GameConstants.GAME_WIDTH/16,i.GameConstants.GAME_HEIGHT/16);var a=e.create(i.GameConstants.GAME_WIDTH/2,i.GameConstants.GAME_HEIGHT/2,"texture_atlas_addicting_games_stinger");return a.anchor.set(.5),a.scale.set(.25),a.animations.add("logo",Phaser.Animation.generateFrameNames("AddictingGamesStinger",1,132,"",4)),a.animations.play("logo",24,!1).onComplete.add(function(){this.game.add.tween(this).to({alpha:0},350,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){s.animationFinished=!0,i.PreLoader.currentInstance.assetsLoaded&&i.PreLoader.currentInstance.starGame(),this.destroy()},this)},e),e.game.sound.play("addicting_games_stinger"),e}return __extends(s,n),s}(Phaser.Group);t.animationFinished=!1,i.AddictingGamesStinger=t}(BasketChamps||(BasketChamps={})),function(s){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){(e.currentInstance=this).assetsLoaded=!1,this.addictingGamesStinger=null},e.prototype.preload=function(){s.GameConstants.SPONSOR===s.GameConstants.POKI&&PokiSDK.gameLoadingStart(),this.generateBitmapData(),this.composeScene(),this.load.atlasJSONArray("texture_atlas_1","/texture_atlas_1.png","/texture_atlas_1.json"),this.load.atlasJSONArray("texture_atlas_2","/texture_atlas_2.png","/texture_atlas_2.json"),this.load.image("bg","/bg.jpg"),this.load.image("bg-splash","/bg-splash.jpg"),this.load.audiosprite("audio-sprite",["/audio/audiosprite.mp3","/audio/audiosprite.ogg"],"/audio/audiosprite.json"),this.load.bitmapFont("digital-display","/fonts/digital-display.png","/fonts/digital-display.xml"),this.load.json("tournament-data","/config/tournament-data.json"),s.GameConstants.SPONSOR===s.GameConstants.LAGGED&&this.load.image("logo-lagged","/sponsors/lagged-3.png"),this.load.onFileComplete.add(this.updateLoadedPercentage,this)},e.prototype.shutdown=function(){e.currentInstance=null,t.prototype.shutdown.call(this)},e.prototype.create=function(){this.assetsLoaded=!0,s.GameConstants.SPONSOR===s.GameConstants.LAGGED&&LaggedAPI.init("basket_champs_init","lagdevaF3001"),s.GameConstants.SPONSOR===s.GameConstants.POKI&&PokiSDK.gameLoadingFinished(),this.load.onFileComplete.remove(this.updateLoadedPercentage,this),s.GameConstants.SPONSOR===s.GameConstants.ADDICTING_GAMES?s.AddictingGamesStinger.animationFinished&&this.starGame():this.starGame()},e.prototype.starGame=function(){s.TournamentManager.getInstance().processJSONData(),s.AudioManager.getInstance().init(this.game),s.GameConstants.SPONSOR===s.GameConstants.GAMEPIX?GamePix.game.gameLoaded(function(){this.preloadBar&&this.preloadBar.destroy(),s.Game.currentInstance.state.start("SplashState",!0,!1)}):this.game.time.events.add(750,function(){this.game.state.start("SplashState",!0,!1)},this)},e.prototype.updateLoadedPercentage=function(){this.preloadBar.scale.x=this.load.progress/100*14.45,s.GameConstants.SPONSOR===s.GameConstants.GAMEPIX&&GamePix.game.gameLoading(this.load.progress),s.GameConstants.SPONSOR===s.GameConstants.POKI&&PokiSDK.gameLoadingProgress({percentageDone:this.load.progress})},e.prototype.generateBitmapData=function(){var t=this.game.add.bitmapData(16,128,"gradient_preloader",!0),e=t.ctx.createLinearGradient(0,0,0,128);e.addColorStop(0,"#70a1a5"),e.addColorStop(1,"#50475b"),t.ctx.fillStyle=e,t.ctx.fillRect(0,0,16,128),(e=(t=this.game.add.bitmapData(16,128,"sky_gradient_background",!0)).ctx.createLinearGradient(0,0,0,128)).addColorStop(0,"#7ec0ee"),e.addColorStop(1,"#ffffff"),t.ctx.fillStyle=e,t.ctx.fillRect(0,0,16,128),(t=this.game.add.bitmapData(16,16,"green_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#2a8d1f",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"green2_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#6fd987",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"yellow_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#ffff00",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"black_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#15212E",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"white_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#ffffff",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"blue_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#0000FF",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"blue2_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#b9ecfe",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"blue3_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#d8f4fe",t.ctx.fill(),t=this.game.add.bitmapData(16,128,"dark_gradient",!0);for(var a=0;a<16;a++)for(var n=0;n<128;n++)t.setPixel32(a,n,53,44,59,n<30?255:255*(127-n)/97);t=this.game.add.bitmapData(16,128,"bright_gradient",!0);for(a=0;a<16;a++)for(n=0;n<128;n++)t.setPixel32(a,n,27,168,213,n<30?255:255*(127-n)/97);(t=this.game.add.bitmapData(16,16,"sky_blue_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#1BA8D5",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"purple_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#551a8b",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"dark-square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#00495C",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"preload-bar",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#fc8e00",t.ctx.fill()},e.prototype.composeScene=function(){var t=this.add.text(0,0,"abcdefg",{font:"20px Mirza"});t.alpha=0,(t=this.add.text(0,0,"abcdefg",{font:"20px Jomhuria"})).alpha=0;var e=this.add.sprite(s.GameConstants.GAME_WIDTH/2+2,202,this.game.cache.getBitmapData("black_square"));e.scale.set(14.65,.85),e.anchor.set(.5),e.alpha=.45;var a=this.add.sprite(s.GameConstants.GAME_WIDTH/2,200,this.game.cache.getBitmapData("white_square"));if(a.scale.setTo(14.65,.85),a.anchor.set(.5),this.preloadBar=this.add.sprite(s.GameConstants.GAME_WIDTH/2-116,200,this.game.cache.getBitmapData("preload-bar")),this.preloadBar.scale.setTo(0,.6),this.preloadBar.anchor.set(0,.5),s.GameConstants.SPONSOR===s.GameConstants.MINIJUEGOS){var n=new s.MinijuegosMoreGamesButton(this.game,s.GameConstants.GAME_WIDTH/2,300);this.add.existing(n)}s.GameConstants.SPONSOR===s.GameConstants.ADDICTING_GAMES&&(this.addictingGamesStinger=new s.AddictingGamesStinger(this.game),this.add.existing(this.addictingGamesStinger))},e}(Phaser.State);s.PreLoader=t}(BasketChamps||(BasketChamps={})),function(a){var t=function(){function e(t){(e.currentInstance=this).game=t,this.game.device.desktop||a.GameConstants.SPONSOR===a.GameConstants.GAMEPIX||this.game.scale.isFullScreen||this.game.input.onDown.add(this.goFull,this)}return e.prototype.goFull=function(){this.game.scale.startFullScreen(!0),this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.EXACT_FIT},e}();a.SplashController=t}(BasketChamps||(BasketChamps={})),function(n){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){e.currentInstance=this},e.prototype.shutdown=function(){e.currentInstance=null,t.prototype.shutdown.call(this)},e.prototype.create=function(){if(this.splashController=new n.SplashController(this.game),this.leavingScene=!1,this.add.image(0,0,"bg-splash"),this.labelsContainer=this.add.group(),!(this.labelsContainer.visible=!1)===n.GameVars.getInstance().resetTournament&&n.TournamentManager.getInstance().backToGroupFase(),0===n.GameVars.getInstance().myTeamID)this.playButton=this.add.button(n.GameConstants.GAME_WIDTH/2,340,"texture_atlas_1",this.onPlayClicked,this),this.playButton.setFrames("btn_play_over.png","btn_play.png","btn_play_over.png"),this.continueButton=null;else{this.playButton=this.add.button(258,350,"texture_atlas_1",this.onPlayClicked,this),this.playButton.setFrames("button-new-on.png","button-new-off.png","button-new-on.png");var t=this.add.text(280,342,"RESET",{font:"25px Jomhuria"});t.addColor("#504048",0),t.anchor.set(0,.5),this.labelsContainer.add(t);var e=this.add.text(280,358,"TOURNAMENT",{font:"25px Jomhuria"});e.addColor("#504048",0),e.anchor.set(0,.5),this.labelsContainer.add(e),this.continueButton=this.add.button(n.GameConstants.GAME_WIDTH/2,295,"texture_atlas_1",this.onContinueClicked,this),this.continueButton.setFrames("btn_continue_over.png","btn_continue.png","btn_continue_over.png"),this.continueButton.anchor.set(.5),this.continueButton.scale.set(0)}if(this.playButton.anchor.set(.5),this.playButton.scale.set(0),this.audioButton=new Phaser.Button(this.game,n.GameConstants.GAME_WIDTH-32,-35,"texture_atlas_1",this.onAudioClicked,this),n.AudioManager.getInstance().isMuted?this.audioButton.setFrames("music_off_button_on.png","music_off_button_off.png","music_off_button_on.png"):this.audioButton.setFrames("music_on_button_on.png","music_on_button_off.png","music_on_button_on.png"),this.audioButton.anchor.set(.5),this.add.existing(this.audioButton),this.creditButton=new Phaser.Button(this.game,35,-35,"texture_atlas_1",this.onCreditsClicked,this),this.creditButton.setFrames("btn_info_over.png","btn_info.png","btn_info_over.png"),this.creditButton.anchor.set(.5),this.add.existing(this.creditButton),this.champsTitle=new Phaser.Image(this.game,650,35,"texture_atlas_1","title_champs.png"),this.champsTitle.anchor.set(.5),this.add.existing(this.champsTitle),this.basketTitle=new Phaser.Image(this.game,-50,35,"texture_atlas_1","title_basket.png"),this.basketTitle.anchor.set(.5),this.add.existing(this.basketTitle),this.add.image(0,0,"texture_atlas_1","patch_splash.png"),n.GameConstants.SPONSOR!==n.GameConstants.POKI){var a=this.add.text(18,n.GameConstants.GAME_HEIGHT-14,"made by RavalMatic, licensed to "+n.GameConstants.SPONSOR,{font:"10px  Arial",fill:"#eeeeee"});a.alpha=.75,this.labelsContainer.add(a)}n.GameConstants.SPONSOR===n.GameConstants.LAGGED?(this.sponsorLogo=this.add.image(20,335,"logo-lagged"),this.sponsorLogo.visible=!1):n.GameConstants.SPONSOR===n.GameConstants.MINIJUEGOS?(this.sponsorLogo=this.add.button(66,330,"texture_atlas_minijuegos",this.onLogoClicked,this),this.sponsorLogo.setFrames("button-logo-minijuegos-on.png","button-logo-minijuegos-off.png","button-logo-minijuegos-on.png"),this.sponsorLogo.visible=!1,this.sponsorLogo.anchor.set(.5),this.sponsorLogo.inputEnabled=!0,this.sponsorLogo.events.onInputDown.add(this.onLogoClicked,this)):n.GameConstants.SPONSOR===n.GameConstants.ADDICTING_GAMES?(this.sponsorLogo=this.add.button(15,280,"texture_atlas_1",this.onLogoClicked,this),this.sponsorLogo.setFrames("button_addictinggames_logo_on.png","button_addictinggames_logo_off.png","button_addictinggames_logo_on.png"),this.sponsorLogo.visible=!1):this.sponsorLogo=null,this.game.add.tween(this.basketTitle).to({x:n.GameConstants.GAME_WIDTH/2},650,Phaser.Easing.Elastic.Out,!0,1e3).onComplete.add(function(){this.game.add.tween(this.champsTitle).to({x:n.GameConstants.GAME_WIDTH/2},650,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.showButtons,this)},this),this.game.camera.flash(0,n.GameConstants.TIME_FADE,!1),n.GameConstants.SPONSOR===n.GameConstants.FUNO&&(this.game.sound.mute=!0,this.game.input.onDown.addOnce(function(){this.game.sound.mute=!1},this)),n.AudioManager.getInstance().playSound("splash",!0)},e.prototype.showButtons=function(){0===n.GameVars.getInstance().myTeamID?this.game.add.tween(this.playButton.scale).to({x:1,y:1},650,Phaser.Easing.Elastic.Out,!0,300).onComplete.add(function(){var t=this.game.add.tween(this.playButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start(),this.labelsContainer.visible=!0,this.sponsorLogo&&(this.sponsorLogo.visible=!0),this.moreGamesButtons&&(this.moreGamesButtons.visible=!0)},this):(this.game.add.tween(this.playButton.scale).to({x:.7,y:.7},650,Phaser.Easing.Elastic.Out,!0,300),this.game.add.tween(this.continueButton.scale).to({x:1,y:1},650,Phaser.Easing.Elastic.Out,!0,300).onComplete.add(function(){var t=this.game.add.tween(this.continueButton.scale);t.to({x:1.05,y:.95},400,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05},800,Phaser.Easing.Elastic.Out),t.loop(),t.start(),this.labelsContainer.visible=!0,this.sponsorLogo&&(this.sponsorLogo.visible=!0),this.moreGamesButtons&&(this.moreGamesButtons.visible=!0)},this)),this.game.add.tween(this.audioButton).to({y:35},650,Phaser.Easing.Cubic.Out,!0,1e3),this.game.add.tween(this.creditButton).to({y:35},650,Phaser.Easing.Cubic.Out,!0,1e3),n.GameConstants.SPONSOR===n.GameConstants.FUNO&&(this.creditButton.visible=!1)},e.prototype.onPlayClicked=function(){var t=this;n.GameConstants.SPONSOR===n.GameConstants.POKI?(n.Game.currentInstance.paused=!0,PokiSDK.commercialBreak().then(function(){n.Game.currentInstance.paused=!1,0===n.GameVars.getInstance().myTeamID?e.currentInstance.newTournament():(e.currentInstance.playButton.visible=!1,e.currentInstance.continueButton.visible=!1,e.currentInstance.audioButton.visible=!1,e.currentInstance.labelsContainer.visible=!1,e.currentInstance.creditButton.visible=!1,e.currentInstance.confirmationMenu=new n.ConfirmationMenu(t.game),e.currentInstance.add.existing(t.confirmationMenu)),n.AudioManager.getInstance().playSound("click"),n.AudioManager.getInstance().stopSound("splash")})):(0===n.GameVars.getInstance().myTeamID?this.newTournament():(this.playButton.visible=!1,this.continueButton.visible=!1,this.audioButton.visible=!1,this.labelsContainer.visible=!1,this.creditButton.visible=!1,this.confirmationMenu=new n.ConfirmationMenu(this.game),this.add.existing(this.confirmationMenu)),n.AudioManager.getInstance().playSound("click"),n.AudioManager.getInstance().stopSound("splash"))},e.prototype.removeConfirmationMenu=function(){this.playButton.visible=!0,this.continueButton.visible=!0,this.audioButton.visible=!0,this.labelsContainer.visible=!0,this.creditButton.visible=!0,this.confirmationMenu.destroy()},e.prototype.onContinueClicked=function(){this.leavingScene||(this.leavingScene=!0,n.GameConstants.SPONSOR===n.GameConstants.POKI?(n.Game.currentInstance.paused=!0,PokiSDK.commercialBreak().then(function(){n.Game.currentInstance.paused=!1,e.currentInstance.continueButton.bringToTop(),e.currentInstance.game.add.tween(e.currentInstance.continueButton.scale).to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),e.currentInstance.game.add.tween(e.currentInstance.continueButton.scale).to({x:0},500,Phaser.Easing.Cubic.Out,!0,100),e.currentInstance.game.add.tween(e.currentInstance.continueButton).to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100).onComplete.add(e.currentInstance.goToBasketballCourt,e.currentInstance),n.AudioManager.getInstance().playSound("click")})):(this.continueButton.bringToTop(),this.game.add.tween(this.continueButton.scale).to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),this.game.add.tween(this.continueButton.scale).to({x:0},500,Phaser.Easing.Cubic.Out,!0,100),this.game.add.tween(this.continueButton).to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100).onComplete.add(this.goToBasketballCourt,this),n.AudioManager.getInstance().playSound("click")))},e.prototype.newTournament=function(){this.leavingScene||(this.leavingScene=!0,this.playButton.bringToTop(),n.TournamentManager.getInstance().deleteLocalStorage(),this.playButton.visible?(this.game.add.tween(this.playButton.scale).to({y:0},500,Phaser.Easing.Cubic.Out,!0,100),this.game.add.tween(this.playButton.scale).to({x:0},500,Phaser.Easing.Cubic.Out,!0,100),this.game.add.tween(this.playButton).to({angle:360},500,Phaser.Easing.Cubic.Out,!0,100).onComplete.add(this.goToBasketballCourt,this)):this.goToBasketballCourt())},e.prototype.goToBasketballCourt=function(){this.playButton.visible=!1,this.continueButton&&(this.continueButton.visible=!1),this.game.camera.fade(0,n.GameConstants.TIME_FADE,!0),this.game.camera.onFadeComplete.add(function(){this.game.state.start("BasketballCourtState",!0,!1)},this)},e.prototype.onCreditsClicked=function(){this.leavingScene||(this.leavingScene=!0,this.game.add.tween(this.creditButton.scale).to({x:0,y:0},500,Phaser.Easing.Back.In,!0).onComplete.add(function(){this.game.camera.fade(0,n.GameConstants.TIME_FADE,!0),this.game.camera.onFadeComplete.add(function(){this.game.state.start("CreditsState",!0,!1)},this)},this))},e.prototype.onAudioClicked=function(){n.AudioManager.getInstance().isMuted?(n.AudioManager.getInstance().unmute(),this.audioButton.setFrames("music_on_button_on.png","music_on_button_off.png","music_on_button_on.png")):(n.AudioManager.getInstance().mute(),this.audioButton.setFrames("music_off_button_on.png","music_off_button_off.png","music_off_button_on.png"))},e.prototype.onLogoClicked=function(){n.GameConstants.SPONSOR===n.GameConstants.MINIJUEGOS?window.open(n.GameConstants.LINK_MINIJUEGOS,"_blank").focus():n.GameConstants.SPONSOR===n.GameConstants.ADDICTING_GAMES&&window.open(n.GameConstants.LINK_ADDICTINGGAMES,"_blank").focus()},e}(Phaser.State);n.SplashState=t}(BasketChamps||(BasketChamps={})),function(t){var e,a;e=t.Plugins||(t.Plugins={}),a=function(n){function t(t,e){var a=n.call(this,t,e)||this;return a.patchLoader(),a}return __extends(t,n),t.prototype.patchLoader=function(){Object.defineProperty(Phaser.Loader,"cacheBuster",{value:null}),Phaser.Loader.prototype.transformUrl=function(t,e){return t?(null!==this.cacheBuster&&null===t.match(/^(data:)/)&&(t+="?v="+this.cacheBuster),t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t):""}},t}(Phaser.Plugin),e.CacheBuster=a}(Fabrique||(Fabrique={})),function(e){var t=function(s){function t(t,e,a){var n=s.call(this,t,e,a,"texture_atlas_minijuegos")||this;return n.anchor.set(.5),n.animations.add("spin",Phaser.Animation.generateFrameNames("btn_more_games",13,1,".png",4)),n.play("spin",20,!0),n.inputEnabled=!0,n.input.pixelPerfectOver=!0,n.input.pixelPerfectClick=!0,n.events.onInputDown.add(n.onClickBall,n),n.events.onInputOver.add(n.onOverBall,n),n.events.onInputOut.add(n.onOutBall,n),n}return __extends(t,s),t.prototype.onClickBall=function(){window.open(e.GameConstants.LINK_MINIJUEGOS_MORE_BASKET_GAMES,"_blank").focus()},t.prototype.onOverBall=function(){this.scale.set(1.1)},t.prototype.onOutBall=function(){this.scale.set(1)},t}(Phaser.Sprite);e.MinijuegosMoreGamesButton=t}(BasketChamps||(BasketChamps={})),function(t){var e=function(I){function f(t,e,a,n,s,i,o,r,h,c){var l=I.call(this,t,null,"rectangle_with_radius",!1)||this;void 0===h&&(h=f.NORMAL_CONFIGURATION),void 0===c&&(c=0),void 0===r&&(r=1);var u=0;h===f.BOTTOM_CONFIGURATION&&(u=-i);var m=t.add.bitmapData(100,100);m.ctx.beginPath(),m.ctx.rect(0,0,100,100),m.ctx.fillStyle=o,m.ctx.fill();var g=new Phaser.Sprite(t,e+i,a+i+u,m);g.scale.setTo((n-2*i)/100,(s-2*i)/100),g.alpha=r,g.blendMode=c,l.add(g),h!==f.NORMAL_CONFIGURATION&&h!==f.TOP_CONFIGURATION||((g=new Phaser.Sprite(t,e+i,a,m)).scale.setTo((n-2*i)/100,i/100+u),g.alpha=r,g.blendMode=c,l.add(g)),(g=new Phaser.Sprite(t,e+n-i,a+i+u,m)).scale.setTo(i/100,(s-2*i)/100),g.alpha=r,g.blendMode=c,l.add(g),h!==f.NORMAL_CONFIGURATION&&h!==f.BOTTOM_CONFIGURATION||((g=new Phaser.Sprite(t,e+i,a+s-i+u,m)).scale.setTo((n-2*i)/100,i/100),g.alpha=r,g.blendMode=c,l.add(g)),(g=new Phaser.Sprite(t,e,a+i+u,m)).scale.setTo(i/100,(s-2*i)/100),g.alpha=r,g.blendMode=c,l.add(g);var d,p=t.add.bitmapData(i,i);return p.ctx.beginPath(),p.ctx.arc(0,0,i,0,Math.PI),p.ctx.fillStyle=o,p.ctx.fill(),h!==f.NORMAL_CONFIGURATION&&h!==f.TOP_CONFIGURATION||((d=new Phaser.Sprite(t,e+i,a+i+u,p)).alpha=r,d.angle=180,d.blendMode=c,l.add(d),(d=new Phaser.Sprite(t,e+n-i,a+i+u,p)).alpha=r,d.angle=270,d.blendMode=c,l.add(d)),h!==f.NORMAL_CONFIGURATION&&h!==f.BOTTOM_CONFIGURATION||((d=new Phaser.Sprite(t,e+i,a+s-i+u,p)).alpha=r,d.angle=90,d.blendMode=c,l.add(d),(d=new Phaser.Sprite(t,e+n-i,a+s-i+u,p)).alpha=r,d.angle=0,d.blendMode=c,l.add(d)),l}return __extends(f,I),f}(Phaser.Group);e.TOP_CONFIGURATION="top",e.BOTTOM_CONFIGURATION="botton",e.NORMAL_CONFIGURATION="normal",t.RectangleWithRadius=e}(Utils||(Utils={}));