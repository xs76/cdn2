!function(p){"use strict";function i(){return os.__string_rec(this,"")}var l,e={},T=T||{};function t(t,e){var i=Object.create(t);for(var s in e)i[s]=e[s];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}function g(t,e){this.r=new RegExp(t,e.split("u").join(""))}(e.EReg=g).__name__="EReg",g.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw Li.thrown("EReg::matched")},split:function(t){var e="#__delim__#";return t.replace(this.r,e).split(e)},__class__:g};function U(){}(e.HxOverrides=U).__name__="HxOverrides",U.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:e=t.split("-");return new Date(e[0],e[1]-1,e[2],0,0,0);case 19:var s=(e=t.split(" "))[0].split("-"),n=e[1].split(":");return new Date(s[0],s[1]-1,s[2],n[0],n[1],n[2]);default:throw Li.thrown("Invalid date format : "+t)}},U.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},U.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},U.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},U.now=function(){return Date.now()};function f(){}(e.Lambda=f).__name__="Lambda",f.has=function(t,e){for(var i=As(t);i.hasNext();){if(i.next()==e)return!0}return!1},f.exists=function(t,e){for(var i=As(t);i.hasNext();){if(e(i.next()))return!0}return!1},Math.__name__="Math";function b(){}(e.Reflect=b).__name__="Reflect",b.field=function(t,e){try{return t[e]}catch(t){return null}},b.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e},b.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},b.compareMethods=function(t,e){return t==e||!(!b.isFunction(t)||!b.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},b.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};function I(){}(e.Std=I).__name__="Std",I.string=function(t){return os.__string_rec(t,"")},I.parseInt=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var s=e++,n=t.charCodeAt(s);if(n<=8||14<=n&&32!=n&&45!=n){var _=t.charCodeAt(1+s),r=parseInt(t,120==_||88==_?16:10);return isNaN(r)?null:r}}return null},I.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};function P(){this.b=""}(e.StringBuf=P).__name__="StringBuf",P.prototype={__class__:P};function u(){}(e.StringTools=u).__name__="StringTools",u.htmlEscape=function(t,e){for(var i="",s=0,n=t;s<n.length;){var _=s++,r=(t=n).charCodeAt(_);55296<=r&&r<=56319&&(r=r-55232<<10|1023&t.charCodeAt(1+_)),65536<=r&&++s;var a=r;switch(a){case 34:i+=e?"&quot;":String.fromCodePoint(a);break;case 38:i+="&amp;";break;case 39:i+=e?"&#039;":String.fromCodePoint(a);break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=String.fromCodePoint(a)}}return i},u.isSpace=function(t,e){var i=U.cca(t,e);return 8<i&&i<14||32==i},u.ltrim=function(t){for(var e=t.length,i=0;i<e&&u.isSpace(t,i);)++i;return 0<i?U.substr(t,i,e-i):t},u.rtrim=function(t){for(var e=t.length,i=0;i<e&&u.isSpace(t,e-i-1);)++i;return 0<i?U.substr(t,0,e-i):t},u.trim=function(t){return u.ltrim(u.rtrim(t))},u.replace=function(t,e,i){return t.split(e).join(i)},u.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};function A(){}var s=T.ValueType={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:i},TInt:{_hx_index:1,__enum__:"ValueType",toString:i},TFloat:{_hx_index:2,__enum__:"ValueType",toString:i},TBool:{_hx_index:3,__enum__:"ValueType",toString:i},TObject:{_hx_index:4,__enum__:"ValueType",toString:i},TFunction:{_hx_index:5,__enum__:"ValueType",toString:i},TClass:((l=function(t){return{_hx_index:6,c:t,__enum__:"ValueType",toString:i}}).__params__=["c"],l),TEnum:((l=function(t){return{_hx_index:7,e:t,__enum__:"ValueType",toString:i}}).__params__=["e"],l),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:i}};(e.Type=A).__name__="Type",A.getEnum=function(t){return null==t?null:T[t.__enum__]},A.createEnum=function(t,e,i){var s=b.field(t,e);if(null==s)throw Li.thrown("No such constructor "+e);if(b.isFunction(s)){if(null==i)throw Li.thrown("Constructor "+e+" need parameters");return s.apply(t,i)}if(null!=i&&0!=i.length)throw Li.thrown("Constructor "+e+" does not need parameters");return s},A.createEnumIndex=function(t,e,i){var s=t.__constructs__[e];if(null==s)throw Li.thrown(e+" is not a valid enum constructor index");return A.createEnum(t,s,i)},A.typeof=function(t){switch(typeof t){case"boolean":return s.TBool;case"function":return t.__name__||t.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(t)==t%2147483648?s.TInt:s.TFloat;case"object":if(null==t)return s.TNull;var e=t.__enum__;if(null!=e)return s.TEnum(T[e]);var i=os.getClass(t);return null!=i?s.TClass(i):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}},A.enumEq=function(t,e){if(t==e)return!0;try{var i=t.__enum__;if(null==i||i!=e.__enum__)return!1;if(t._hx_index!=e._hx_index)return!1;for(var s=T[i],n=s[s.__constructs__[t._hx_index]].__params__,_=0;_<n.length;){var r=n[_];if(++_,!A.enumEq(t[r],e[r]))return!1}}catch(_){return!1}return!0},A.enumParameters=function(t){var e=T[t.__enum__],i=e[e.__constructs__[t._hx_index]].__params__;if(null==i)return[];for(var s=[],n=0;n<i.length;){var _=i[n];++n,s.push(t[_])}return s};function R(t){this.nodeType=t,this.children=[],this.attributeMap=new ts}var N={toString:function(t){switch(t){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}};(e.Xml=R).__name__="Xml",R.parse=function(t){return rs.parse(t)},R.createElement=function(t){var e=new R(R.Element);if(e.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeName=t,e},R.createPCData=function(t){var e=new R(R.PCData);if(e.nodeType==R.Document||e.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},R.createCData=function(t){var e=new R(R.CData);if(e.nodeType==R.Document||e.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},R.createComment=function(t){var e=new R(R.Comment);if(e.nodeType==R.Document||e.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},R.createDocType=function(t){var e=new R(R.DocType);if(e.nodeType==R.Document||e.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},R.createProcessingInstruction=function(t){var e=new R(R.ProcessingInstruction);if(e.nodeType==R.Document||e.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},R.createDocument=function(){return new R(R.Document)},R.prototype={get:function(t){if(this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return this.attributeMap.h[t]},set:function(t,e){if(this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));this.attributeMap.h[t]=e},exists:function(t){if(this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,t)},attributes:function(){if(this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return ts.keysIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=R.Document&&this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));for(var t=[],e=0,i=this.children;e<i.length;){var s=i[e];++e,s.nodeType==R.Element&&t.push(s)}return new ns(t)},firstElement:function(){if(this.nodeType!=R.Document&&this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));for(var t=0,e=this.children;t<e.length;){var i=e[t];if(++t,i.nodeType==R.Element)return i}return null},addChild:function(t){if(this.nodeType!=R.Document&&this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=R.Document&&this.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return!!U.remove(this.children,t)&&!(t.parent=null)},toString:function(){return as.print(this)},__class__:R};function n(){}(e["awe6.interfaces.IPauseable"]=n).__name__="awe6.interfaces.IPauseable",n.__isInterface__=!0,n.prototype={__class__:n};function _(){}(e["awe6.interfaces.IDisposable"]=_).__name__="awe6.interfaces.IDisposable",_.__isInterface__=!0,_.prototype={__class__:_};function r(){}(e["awe6.interfaces.IUpdateable"]=r).__name__="awe6.interfaces.IUpdateable",r.__isInterface__=!0,r.prototype={__class__:r};function a(){}(e["awe6.interfaces.IProcess"]=a).__name__="awe6.interfaces.IProcess",a.__isInterface__=!0,a.__interfaces__=[n,_,r];function o(t){this._kernel=t,this._tools=this._kernel.tools,this._isEntity=os.__implements(this,m),this._init()}(e["awe6.core.Process"]=o).__name__="awe6.core.Process",o.__interfaces__=[a],o.prototype={_init:function(){this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this.isDisposed=!1,this._age=0,this._updates=0},dispose:function(){this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())},_disposer:function(){},getAge:function(t){return null==t&&(t=!0),t?this._age:this._updates},update:function(t){null==t&&(t=0),this.isActive&&!this.isDisposed&&(this._age+=t,this._updates++,this._updater(t))},_updater:function(t){null==t&&(t=0)},set_isActive:function(t){return this.isDisposed?this.isActive=!1:(t!=this.isActive&&(this._isIsActiveSetterBypassed?this.isActive=t:t?this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0)):this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))),this._isIsActiveSetterBypassed=!1,this.isActive)},pause:function(){this.isActive&&!this.isDisposed&&(this._pauser(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!1),this._isEntity&&this._kernel.messenger.sendMessage(ee.PAUSE,this,!0,!0,!0))},_pauser:function(){},resume:function(){this.isActive||this.isDisposed||(this._resumer(),this._isIsActiveSetterBypassed=!0,this.set_isActive(!0),this._isEntity&&this._kernel.messenger.sendMessage(ee.RESUME,this,!0,!0,!0))},_resumer:function(){},__class__:o};function h(){}(e["awe6.interfaces.IAgendaManager"]=h).__name__="awe6.interfaces.IAgendaManager",h.__isInterface__=!0,h.prototype={__class__:h};function c(){}(e["awe6.interfaces.IEntityCollection"]=c).__name__="awe6.interfaces.IEntityCollection",c.__isInterface__=!0,c.__interfaces__=[h],c.prototype={__class__:c};function d(){}(e["awe6.interfaces.IViewable"]=d).__name__="awe6.interfaces.IViewable",d.__isInterface__=!0,d.prototype={__class__:d};var m=function(){};(e["awe6.interfaces.IEntity"]=m).__name__="awe6.interfaces.IEntity",m.__isInterface__=!0,m.__interfaces__=[c,d,a],m.prototype={__class__:m};function y(t,e,i){null==this.get_view()&&(this.view=new Jt(t,i,0,this)),this.set_id(null==e?t.tools.createGuid():e),o.call(this,t)}(e["awe6.core.Entity"]=y).__name__="awe6.core.Entity",y.__interfaces__=[m],y.__super__=o,y.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.agenda=Qt.ALWAYS,this._entityAgendaPairs=new Qi,this._isAgendaDirty=!0,this._cachedEntities=[]},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t),this._isAgendaDirty&&(this._cachedEntities=this._getEntities(this.get_agenda()),A.enumEq(this.get_agenda(),Qt.ALWAYS)||(this._cachedEntities=this._cachedEntities.concat(this._getEntities(Qt.ALWAYS))),this._isAgendaDirty=!1);for(var e=0,i=this._cachedEntities;e<i.length;){var s=i[e];++e,s.update(t)}},_disposer:function(){this.remove(),this._kernel.messenger.removeSubscribers(this),this._kernel.messenger.removeSubscribers(null,null,null,this,null);var t=this._getEntities();t.reverse();for(var e=0;e<t.length;){var i=t[e];++e,i.dispose()}for(i=this._entityAgendaPairs.iterator();i.hasNext();){var s=i.next();this._entityAgendaPairs.remove(s)}this.get_view().dispose(),o.prototype._disposer.call(this)},addEntity:function(t,e,i,s){if(null==s&&(s=0),null==i&&(i=!1),this.isDisposed||null==t)return null;null==e&&(e=Qt.ALWAYS);for(var n=this._entityAgendaPairs.iterator();n.hasNext();){var _=n.next();if(_.entity==t&&A.enumEq(_.agenda,e))return t}this._isAgendaDirty=!0,t.get_parent()!=this&&(t.remove(i),t instanceof y&&t._setParent(this));var r=new C(t,e),a=this._entityAgendaPairs;return a.head=new Wi(r,a.head),i&&(A.enumEq(e,this.get_agenda())||e==Qt.ALWAYS?this.get_view().addChild(t.get_view(),s):(t.get_view().set_priority(s),r.isAddedToView=!0)),t},removeEntity:function(t,e,i){if(null==i&&(i=!1),!this.isDisposed&&null!=t){for(var s=!1,n=this._entityAgendaPairs.iterator();n.hasNext();){var _=n.next();_.entity!=t||null!=e&&!A.enumEq(_.agenda,e)||(this._entityAgendaPairs.remove(_),s=!0)}s&&(this._isAgendaDirty=!0,t instanceof y&&t._setParent(null),i&&t.get_view().remove())}},remove:function(t){null==t&&(t=!1),null!=this.get_parent()&&this.get_parent().removeEntity(this,null,t)},getEntities:function(t){return this._getEntities(t)},_getEntities:function(t){if(!this._isAgendaDirty&&(null==t||A.enumEq(t,this.get_agenda())))return this._cachedEntities;for(var e=[],i=this._entityAgendaPairs.iterator();i.hasNext();){var s=i.next();null!=t&&!A.enumEq(t,s.agenda)||e.push(s.entity)}return e.reverse(),e},getEntitiesByClass:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),n&&null!=this._kernel.scenes.get_scene())return this._kernel.scenes.get_scene().getEntitiesByClass(t,e,!0);for(var _=[],r=this._getEntities(e),a=0;a<r.length;){var o=r[a];++a,os.__instanceof(o,t)&&_.push(o),i&&(_=_.concat(o.getEntitiesByClass(t,e,!0)))}return s&&null!=this.get_parent()&&(_=_.concat(this.get_parent().getEntitiesByClass(t,e,!1,!0))),_},setAgenda:function(t){if(null==t&&(t=Qt.ALWAYS),A.enumEq(this.get_agenda(),t))return!1;this._isAgendaDirty=!0;for(var e=this._entityAgendaPairs.iterator();e.hasNext();){var i=e.next(),s=A.enumEq(this.get_agenda(),i.agenda)&&i.entity.get_view().get_parent()==this.get_view();s&&i.entity.get_view().remove(),i.isAddedToView=i.isAddedToView||s}this.agenda=t;for(e=this._entityAgendaPairs.iterator();e.hasNext();){(i=e.next()).isAddedToView&&(A.enumEq(Qt.ALWAYS,i.agenda)||A.enumEq(this.get_agenda(),i.agenda))&&this.get_view().addChild(i.entity.get_view())}return!0},_setParent:function(t){this.parent=t},set_id:function(t){return this.id=t,this.id},get_agenda:function(){return this.agenda},get_parent:function(){return this.parent},get_view:function(){return this.view},__class__:y});function w(){}(e["awe6.interfaces.IPositionable"]=w).__name__="awe6.interfaces.IPositionable",w.__isInterface__=!0,w.prototype={__class__:w};function v(t,e,i,s,n,_,r,a,o,h,l){null==r&&(r=0),null==_&&(_=0),null==n&&(n=20),null==s&&(s=100),this._stateUp=new E(t,e),this._stateOver=new E(t,i),this.x=_,this.y=r,this.set_width(s),this.set_height(n),this._keyType=a,this.onClickCallback=o,this.onRollOverCallback=h,this.onRollOutCallback=l,y.call(this,t)}(e["awe6.core.BasicButton"]=v).__name__="awe6.core.BasicButton",v.__interfaces__=[w],v.__super__=y,v.prototype=t(y.prototype,{_init:function(){y.prototype._init.call(this),this.get_view().set_x(this.x),this.get_view().set_y(this.y),this.isOver=!1,this.addEntity(this._stateUp,Qt.SUB_TYPE(x.UP),!0),this.addEntity(this._stateOver,Qt.SUB_TYPE(x.OVER),!0),this.setAgenda(Qt.SUB_TYPE(x.UP))},_updater:function(t){null==t&&(t=0),y.prototype._updater.call(this,t);var e=this._kernel.inputs.mouse,i=this._isPointInsideRectangle(e.x+this.get_view().x-this.get_view().globalX,e.y+this.get_view().y-this.get_view().globalY,this.x,this.y,this.width,this.height);i&&e.set_cursorType(se.BUTTON),i&&!this.isOver&&this.onRollOver(),!i&&this.isOver&&(e.set_cursorType(se.AUTO),this.onRollOut()),this.isOver=i,this.isOver&&e.getIsButtonDown()&&this.setAgenda(Qt.SUB_TYPE(x.OVER)),this.isOver&&e.getIsButtonRelease()&&this.onClick(),null!=this._keyType&&this._kernel.inputs.keyboard.getIsKeyRelease(this._keyType)&&this.onClick()},_isPointInsideRectangle:function(t,e,i,s,n,_){return!(t<i)&&(!(e<s)&&(!(i+n<t)&&!(s+_<e)))},onClick:function(){this.setAgenda(Qt.SUB_TYPE(x.UP)),null!=this.onClickCallback&&this.onClickCallback()},onRollOver:function(){this.setAgenda(Qt.SUB_TYPE(x.OVER)),null!=this.onRollOverCallback&&this.onRollOverCallback()},onRollOut:function(){this.setAgenda(Qt.SUB_TYPE(x.UP)),null!=this.onRollOutCallback&&this.onRollOutCallback()},setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,null!=this.get_view()&&this.get_view().set_x(this.x),this.x},set_y:function(t){return this.y=t,null!=this.get_view()&&this.get_view().set_y(this.y),this.y},set_width:function(t){return this.width=t,this.width},set_height:function(t){return this.height=t,this.height},__class__:v});var E=function(t,e){y.call(this,t),this.view=e};(e["awe6.core._BasicButton._HelperState"]=E).__name__="awe6.core._BasicButton._HelperState",E.__super__=y,E.prototype=t(y.prototype,{__class__:E});function S(){}var x=T["awe6.core._BasicButton._HelperEState"]={__ename__:"awe6.core._BasicButton._HelperEState",__constructs__:["UP","OVER"],UP:{_hx_index:0,__enum__:"awe6.core._BasicButton._HelperEState",toString:i},OVER:{_hx_index:1,__enum__:"awe6.core._BasicButton._HelperEState",toString:i}};(e["awe6.interfaces.IEncrypter"]=S).__name__="awe6.interfaces.IEncrypter",S.__isInterface__=!0,S.prototype={__class__:S};function k(t){this._defaultSecret=t}(e["awe6.core.Encrypter"]=k).__name__="awe6.core.Encrypter",k.__interfaces__=[S],k.prototype={decrypt:function(t,e){null==e&&(e="");var i=""!=e?e:this._defaultSecret;return this._xor(t,i)},_xor:function(t,e){for(var i=new ji(new ArrayBuffer(t.length)),s=0,n=0,_=i.length;n<_;){var r=n++;i.b[r]=t.b[r]^U.cca(e,s),++s>=e.length&&(s=0)}return i},__class__:k};var C=function(t,e){this.entity=t,this.agenda=e,this.isAddedToView=!1};(e["awe6.core._Entity._HelperEntityAgendaPair"]=C).__name__="awe6.core._Entity._HelperEntityAgendaPair",C.prototype={__class__:C};function D(){}(e["awe6.interfaces.IInputJoypad"]=D).__name__="awe6.interfaces.IInputJoypad",D.__isInterface__=!0,D.prototype={__class__:D};function M(t,e,i,s,n,_,r,a,o,h,l,u,c,d){this._kernel=t,this._keyUp=null!=e?e:te.UP,this._keyRight=null!=i?i:te.RIGHT,this._keyDown=null!=s?s:te.DOWN,this._keyLeft=null!=n?n:te.LEFT,this._keyPrimary=null!=_?_:te.SPACE,this._keySecondary=null!=r?r:te.Z,this._keyUpAlt=null!=a?a:te.W,this._keyRightAlt=null!=o?o:te.D,this._keyDownAlt=null!=h?h:te.S,this._keyLeftAlt=null!=l?l:te.A,this._keyPrimaryAlt=null!=u?u:te.Q,this._keySecondaryAlt=null!=c?c:te.E,this._joypadTouchType=null!=d?d:this._kernel.factory.joypadTouchType,this._isTouchEnabled=this._kernel.factory.joypadTouchType!=$t.DISABLED,this._joypadStateCache={age:0,isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:!1,isPrevUp:!1,isPrevRight:!1,isPrevDown:!1,isPrevLeft:!1}}(e["awe6.core.InputJoypad"]=M).__name__="awe6.core.InputJoypad",M.__interfaces__=[D],M.prototype={_checkKeyboard:function(t,e){switch(t._hx_index){case 0:return!!this._checkKeyboard(qt.PRIMARY,e)||this._checkKeyboard(qt.SECONDARY,e);case 1:return!!e(this._keyUp)||e(this._keyUpAlt);case 2:return!!e(this._keyRight)||e(this._keyRightAlt);case 3:return!!e(this._keyDown)||e(this._keyDownAlt);case 4:return!!e(this._keyLeft)||e(this._keyLeftAlt);case 5:return!!e(this._keyPrimary)||e(this._keyPrimaryAlt);case 6:return!!e(this._keySecondary)||e(this._keySecondaryAlt)}},getIsButtonDown:function(t){return!!this._checkKeyboard(t,ks(l=this._kernel.inputs.keyboard,l.getIsKeyDown))||!!this._isTouchEnabled&&this._checkTouchIsDown(t)},getIsButtonPress:function(t){return!!this._checkKeyboard(t,ks(l=this._kernel.inputs.keyboard,l.getIsKeyPress))||!!this._isTouchEnabled&&this._checkTouchIsPress(t)},getIsButtonRelease:function(t){return!!this._checkKeyboard(t,ks(l=this._kernel.inputs.keyboard,l.getIsKeyRelease))||!!this._isTouchEnabled&&this._checkTouchIsRelease(t)},_getTouchButtonPosition:function(t){switch(t._hx_index){case 1:return{x:.5*this._kernel.factory.width,y:.25*this._kernel.factory.height};case 2:return{x:.75*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 3:return{x:.5*this._kernel.factory.width,y:.75*this._kernel.factory.height};case 4:return{x:.25*this._kernel.factory.width,y:.5*this._kernel.factory.height};case 0:case 5:case 6:return{x:.5*this._kernel.factory.width,y:.5*this._kernel.factory.height}}},_getClosestTouchButton:function(t,e){null==t&&(t=this._mouse.x),null==e&&(e=this._mouse.y);var i=99999999,s=qt.FIRE,n=qt.FIRE,_=this._getTouchButtonPosition(n),r=this._kernel.tools.distance(t,e,_.x,_.y,!0);r<i&&(i=r,s=n);n=qt.UP,_=this._getTouchButtonPosition(n);(r=this._kernel.tools.distance(t,e,_.x,_.y,!0))<i&&(i=r,s=n);n=qt.RIGHT,_=this._getTouchButtonPosition(n);(r=this._kernel.tools.distance(t,e,_.x,_.y,!0))<i&&(i=r,s=n);n=qt.DOWN,_=this._getTouchButtonPosition(n);(r=this._kernel.tools.distance(t,e,_.x,_.y,!0))<i&&(i=r,s=n);n=qt.LEFT,_=this._getTouchButtonPosition(n);(r=this._kernel.tools.distance(t,e,_.x,_.y,!0))<i&&(i=r,s=n);n=qt.PRIMARY,_=this._getTouchButtonPosition(n);return(r=this._kernel.tools.distance(t,e,_.x,_.y,!0))<i&&(i=r,s=n),s},_getTouchState:function(){var t=null!=this._mouse||this._kernel.inputs.mouse instanceof Mt&&(this._mouse=os.__cast(this._kernel.inputs.mouse,Mt),!0);if(!t||this._mouse.getAge()==this._joypadStateCache.age)return this._joypadStateCache;var e={age:this._mouse.getAge(),isFire:!1,isUp:!1,isRight:!1,isDown:!1,isLeft:!1,isPrevFire:this._joypadStateCache.isFire,isPrevUp:this._joypadStateCache.isUp,isPrevRight:this._joypadStateCache.isRight,isPrevDown:this._joypadStateCache.isDown,isPrevLeft:this._joypadStateCache.isLeft},i=this._joypadTouchType;switch(i._hx_index){case 1:var s=this._getClosestTouchButton();e.isFire=s==qt.FIRE&&this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._mouse.getIsButtonDown()&&(e.isUp=s==qt.UP,e.isRight=s==qt.RIGHT,e.isDown=s==qt.DOWN,e.isLeft=s==qt.LEFT);break;case 2:var n=i.distance;null==n&&(n=20),e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,e.isUp=this._mouse.getButtonDragHeight()<-n,e.isRight=this._mouse.getButtonDragWidth()>n,e.isDown=this._mouse.getButtonDragHeight()>n,e.isLeft=this._mouse.getButtonDragWidth()<-n;break;case 3:var _,r,a=i.speed;e.isFire=this._mouse.getIsButtonRelease()&&this._mouse.getButtonDownDuration(null,!0,!0)<200,this._kernel.inputs.mouse.getIsButtonDown()&&(null==a&&(a=100),_=this._mouse.getDeltaX(),r=this._mouse.getDeltaY(),e.isUp=r<-a,e.isRight=a<_,e.isDown=a<r,e.isLeft=_<-a)}return this._joypadStateCache=e,this._joypadStateCache},_checkTouchIsDown:function(t){var e=this._getTouchState();switch(t._hx_index){case 1:return e.isUp;case 2:return e.isRight;case 3:return e.isDown;case 4:return e.isLeft;case 0:case 5:case 6:return e.isFire}},_checkTouchIsPress:function(t){var e=this._getTouchState();switch(t._hx_index){case 1:return!!e.isUp&&!e.isPrevUp;case 2:return!!e.isRight&&!e.isPrevRight;case 3:return!!e.isDown&&!e.isPrevDown;case 4:return!!e.isLeft&&!e.isPrevLeft;case 0:case 5:case 6:return!!e.isFire&&!e.isPrevFire}},_checkTouchIsRelease:function(t){var e=this._getTouchState();switch(t._hx_index){case 1:return!e.isUp&&e.isPrevUp;case 2:return!e.isRight&&e.isPrevRight;case 3:return!e.isDown&&e.isPrevDown;case 4:return!e.isLeft&&e.isPrevLeft;case 0:case 5:case 6:return!e.isFire&&e.isPrevFire}},__class__:M};function L(){}(e["awe6.interfaces.IResettable"]=L).__name__="awe6.interfaces.IResettable",L.__isInterface__=!0,L.prototype={__class__:L};function B(){}(e["awe6.interfaces.IInputManager"]=B).__name__="awe6.interfaces.IInputManager",B.__isInterface__=!0,B.__interfaces__=[L],B.prototype={__class__:B};function F(t){o.call(this,t)}(e["awe6.core.InputManager"]=F).__name__="awe6.core.InputManager",F.__interfaces__=[B],F.__super__=o,F.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.joypad=this.createJoypad(),this.keyboard=this._inputKeyboard=new Dt(this._kernel),this.mouse=this._inputMouse=new Mt(this._kernel)},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t);var e=this._inputKeyboard,i=t;null==i&&(i=0),e.isActive&&!e.isDisposed&&(e._age+=i,e._updates++,e._updater(i)),null==(i=t)&&(i=0),(e=this._inputMouse).isActive&&!e.isDisposed&&(e._age+=i,e._updates++,e._updater(i))},_disposer:function(){var t=this._inputKeyboard;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),(t=this._inputMouse).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),o.prototype._disposer.call(this)},createJoypad:function(t,e,i,s,n,_,r,a,o,h,l,u,c){return new M(this._kernel,t,e,i,s,n,_,r,a,o,h,l,u,c)},reset:function(){var t=this._inputKeyboard;return t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),(t=this._inputMouse).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._init(),!0},__class__:F});function O(){}(e["awe6.interfaces.IMessageManager"]=O).__name__="awe6.interfaces.IMessageManager",O.__isInterface__=!0,O.__interfaces__=[L],O.prototype={__class__:O};function G(t){o.call(this,t)}(e["awe6.core.MessageManager"]=G).__name__="awe6.core.MessageManager",G.__interfaces__=[O],G.__super__=o,G.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this._isVerbose=!1,this._subscriptions=new Qi,this._messageQueue=new Zi},removeSubscribers:function(t,e,i,s,n){for(var _=this._getSubscriptions(t,e,i,s,n,!0).iterator();_.hasNext();){var r=_.next();this._subscriptions.remove(r),this._isVerbose&&Bi.trace("Removing "+I.string(r.sender)+":"+I.string(r.message),{fileName:"awe6/core/MessageManager.hx",lineNumber:80,className:"awe6.core.MessageManager",methodName:"removeSubscribers"})}},sendMessage:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),this._sendMessage(t,e,e,i,s,n)},reset:function(){return this.removeSubscribers(),this._messageQueue=new Zi,!0},_updater:function(t){if(null==t&&(t=0),o.prototype._updater.call(this,t),this._isOkToSendMessage())for(var e=this._messageQueue.h;null!=e;){var i=e.item,e=e.next,s=i;this._sendMessage(s.message,s.sender,s.target,s.isBubbleDown,s.isBubbleUp,s.isBubbleEverywhere),this._messageQueue.remove(s)}},_isOkToSendMessage:function(){return null!=this._kernel.scenes.get_scene()},_sendMessage:function(t,e,i,s,n,_){if(null==_&&(_=!1),null==n&&(n=!1),null==s&&(s=!1),this._isVerbose&&Bi.trace("Sending message: "+I.string(t)+" from "+e.id+"("+I.string(os.getClass(e))+") via "+i.id+" ("+I.string(os.getClass(i))+")",{fileName:"awe6/core/MessageManager.hx",lineNumber:119,className:"awe6.core.MessageManager",methodName:"_sendMessage"}),this._isOkToSendMessage()){if(_){var r=this._kernel.scenes.get_scene().getEntities()[0];if(null!=r&&null!=r.get_parent())return void this._sendMessage(t,e,this._kernel.scenes.get_scene().getEntities()[0].get_parent(),!0)}for(var a=this._getSubscriptions(i,t,null,e).iterator();a.hasNext();){var o=a.next();if(!this._send(o,t,e))return}if(s)for(var h=i.getEntities(),l=0;l<h.length;){var u=h[l];++l,this._sendMessage(t,e,u,!0)}n&&null!=i.get_parent()&&os.__implements(i.get_parent(),m)&&this._sendMessage(t,e,i.get_parent(),!1,!0)}else this._messageQueue.push(new V(t,e,i,s,n,_))},_send:function(t,e,i){var s=t.handler.apply(t.subscriber,[e,i]);return t.isRemovedAfterFirstSend&&this._subscriptions.remove(t),s},_getSubscriptions:function(t,e,i,s,n,_){null==_&&(_=!1);for(var r=new Qi,a=this._subscriptions.iterator();a.hasNext();){var o=a.next();if(null==t||t==o.subscriber||t==o.sender){if(null!=e&&!os.__instanceof(e,o.messageClass)){var h=A.typeof(e);if(7==h._hx_index){var l;h.e;if(A.getEnum(e)!=A.getEnum(o.message)||(l=o.message,T[e.__enum__].__constructs__[e._hx_index]!=T[l.__enum__].__constructs__[l._hx_index])||A.enumParameters(e).toString()!=A.enumParameters(o.message).toString())continue}else if(e!=o.message)continue}if(null==i||b.compareMethods(o.handler,i)){if(null!=s){if(_){if(null!=o.senderClassType)continue;if(null==o.sender)continue}if(null!=o.senderClassType&&!os.__instanceof(s,o.senderClassType))continue;if(null!=o.sender&&o.sender!=s)continue}r.head=new Wi(o,r.head)}}}return r},__class__:G});function H(t,e,i,s,n,_){null==_&&(_=!1),this.subscriber=t,this.message=e,this.handler=i,this.sender=s,this.senderClassType=n,this.isRemovedAfterFirstSend=_,this.messageClass=os.getClass(e)}(e["awe6.core._MessageManager._HelperSubscription"]=H).__name__="awe6.core._MessageManager._HelperSubscription",H.prototype={__class__:H};var V=function(t,e,i,s,n,_){null==_&&(_=!1),null==n&&(n=!1),null==s&&(s=!1),this.message=t,this.sender=e,this.target=i,this.isBubbleDown=s,this.isBubbleUp=n,this.isBubbleEverywhere=_};(e["awe6.core._MessageManager._HelperMessage"]=V).__name__="awe6.core._MessageManager._HelperMessage",V.prototype={__class__:V};function J(){}(e["awe6.interfaces.IScene"]=J).__name__="awe6.interfaces.IScene",J.__isInterface__=!0,J.__interfaces__=[d,c,a],J.prototype={__class__:J};function j(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),this.type=e,this.isPauseable=i,this.isMuteable=s,this.isSessionSavedOnNext=n,o.call(this,t)}(e["awe6.core.Scene"]=j).__name__="awe6.core.Scene",j.__interfaces__=[J],j.__super__=o,j.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.isDisposable=!0,this._entity=new y(this._kernel),this.view=this._entity.get_view()},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t),this._entity.update(t)},_disposer:function(){this._entity.dispose(),this.get_view().dispose(),o.prototype._disposer.call(this)},addEntity:function(t,e,i,s){return null==s&&(s=0),null==i&&(i=!1),this._entity.addEntity(t,e,i,s)},removeEntity:function(t,e,i){null==i&&(i=!1),this._entity.removeEntity(t,e,i)},getEntities:function(t){return this._entity.getEntities(t)},getEntitiesByClass:function(t,e,i,s,n){return null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),this._entity.getEntitiesByClass(t,e,i,s,!1)},get_view:function(){return this.view},setAgenda:function(t){return this._entity.setAgenda(t)},__class__:j});function z(){}(e["awe6.interfaces.ISceneManager"]=z).__name__="awe6.interfaces.ISceneManager",z.__isInterface__=!0,z.prototype={__class__:z};function K(t){o.call(this,t)}(e["awe6.core.SceneManager"]=K).__name__="awe6.core.SceneManager",K.__interfaces__=[z],K.__super__=o,K.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.view=new Jt(this._kernel)},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t),null!=this.get_scene()&&this.get_scene().update(t),null!=this._sceneTransition&&this._sceneTransition.update(t)},_disposer:function(){null!=this.get_scene()&&this.get_scene().dispose(),null!=this._sceneTransition&&this._sceneTransition.dispose(),this.view.dispose(),o.prototype._disposer.call(this)},setScene:function(t){var e,i=null;null!=this.get_scene()&&(i=this.get_scene().type,e=this._kernel.factory.createSceneTransition(t,i),null!=this._sceneTransition&&this._sceneTransition.dispose(),this._sceneTransition=e,this._kernel.inputs.reset(),this.get_scene().isDisposable&&(this.get_scene().dispose(),this._kernel.messenger.reset()),this.scene=null),this._kernel.overlay.hideButtons(),this.scene=this._kernel.factory.createScene(t),this._kernel.overlay.showButton(ne.BACK,null!=this._kernel.factory.getBackSceneType(this.get_scene().type)),this._kernel.overlay.showButton(ne.MUTE,this.get_scene().isMuteable&&!this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.UNMUTE,this.get_scene().isMuteable&&this._kernel.audio.isMute),this._kernel.overlay.showButton(ne.PAUSE,this.get_scene().isPauseable&&this._kernel.isActive),this._kernel.overlay.showButton(ne.UNPAUSE,this.get_scene().isPauseable&&!this._kernel.isActive),this.view.addChild(this.get_scene().get_view()),null!=this._sceneTransition&&this.get_scene().get_view().addChild(this._sceneTransition.get_view(),this._tools.BIG_NUMBER+1)},back:function(){var t=this._kernel.factory.getBackSceneType(this.get_scene().type);null!=t&&this.setScene(t)},next:function(){this.get_scene().isSessionSavedOnNext&&null!=this._kernel.get_session()&&this._kernel.get_session().save();var t=this._kernel.factory.getNextSceneType(this.get_scene().type);null!=t&&this.setScene(t)},restart:function(){null==this.get_scene()?this.setScene(this._kernel.factory.startingSceneType):this.setScene(this.get_scene().type)},get_scene:function(){return this.scene},__class__:K});function X(){}(e["awe6.interfaces.ITextStyle"]=X).__name__="awe6.interfaces.ITextStyle",X.__isInterface__=!0,X.prototype={__class__:X};function W(t,e,i,s,n,_,r,a,o,h){null==o&&(o=0),null==n&&(n=!1),null==s&&(s=!1),this.font=null!=t?t:"_sans",this.size=null!=e?e:12,this.color=null!=i?i:0,this.isBold=s,this.isItalic=n,this.align=null!=_?_:re.LEFT,this.spacingHorizontal=null!=r?r:0,this.spacingVertical=null!=a?a:0,this.thickness=o,this.filters=h}(e["awe6.core.TextStyle"]=W).__name__="awe6.core.TextStyle",W.__interfaces__=[X],W.prototype={toString:function(){return I.string(this.font+","+this.size+","+this.color+","+I.string(this.isBold)+","+I.string(this.isItalic)+","+I.string(this.align)+","+this.spacingHorizontal+","+this.spacingVertical+","+this.thickness+","+I.string(this.filters))},clone:function(){return new W(this.font,this.size,this.color,this.isBold,this.isItalic,this.align,this.spacingHorizontal,this.spacingVertical,this.thickness,this.filters)},__class__:W};function Q(){}(e["awe6.interfaces.ITools"]=Q).__name__="awe6.interfaces.ITools",Q.__isInterface__=!0,Q.__interfaces__=[S],Q.prototype={__class__:Q};function Y(t){this._kernel=t,this.BIG_NUMBER=9999998,this._encrypter=this._kernel.factory.createEncrypter()}(e["awe6.core.Tools"]=Y).__name__="awe6.core.Tools",Y.__interfaces__=[Q],Y.prototype={createGuid:function(t,e){return null==e&&(e=""),null==t&&(t=!1),t?e+U.substr(this._randomCharacter()+this._randomCharacter()+this._randomCharacter(),0,10):e+(this._randomCharacter()+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+"-"+this._randomCharacter()+this._randomCharacter()+this._randomCharacter())},_randomCharacter:function(){return U.substr(u.hex(65536*(1+Math.random())|0,1),1,null)},sortByPriority:function(t,e){var i=t.get_priority(),s=e.get_priority();return i<s?-1:s<i?1:0},_isCamelCase:function(t){return t.toUpperCase()!=t&&(!(-1<t.indexOf(" "))&&!(-1<t.indexOf("_")))},_isConstCase:function(t){return t.toUpperCase()==t&&!(-1<t.indexOf(" "))},fromCamelCase:function(t){if(null==t||""==t)return"";for(var e="",i=t.split(""),s="",n=0;n<i.length;){var _=i[n];++n,_.toLowerCase()!=_&&(e+=s),e+=_,s=" "}return e},toConstCase:function(t){if(null==t||""==t)return"";if(this._isConstCase(t))return t;this._isCamelCase(t)&&(t=this.fromCamelCase(t));return t=u.replace(t,"     "," "),t=u.replace(t,"    "," "),t=u.replace(t,"   "," "),t=u.replace(t,"  "," "),(t=u.replace(t," ","_")).toUpperCase()},fromConstCase:function(t){if(null==t||""==t)return"";for(var e="",i=t.split("_"),s="",n=0;n<i.length;){var _=i[n];++n,e+=s+(_.charAt(0).toUpperCase()+U.substr(_,1,null).toLowerCase()),s=" "}return e},toWords:function(t){return this._isCamelCase(t)?this.fromCamelCase(t):this._isConstCase(t)?this.fromConstCase(t):t},limit:function(t,e,i){return i<t?i:t<e?e:t},distance:function(t,e,i,s,n){null==n&&(n=!1);var _=i-t,r=s-e,a=_*_+r*r;return n?a:Math.sqrt(a)},shuffle:function(t){for(var e=t.slice(),i=e.length;1<i;){var s=I.random(i),n=e[--i];e[i]=e[s],e[s]=n}return e},convertUpdatesToFormattedTime:function(t,e){var i=Math.round(1e3*t/this._kernel.factory.targetFramerate);return this.convertAgeToFormattedTime(i,e)},convertAgeToFormattedTime:function(t,e){if(null==e&&(e="'"),t<0)return"99"+e+"99"+e+"99";for(var i=t/1e3,s=Math.floor(i),n=I.string(Math.floor(100*(i-s))),_=0;59<s;)++_,s-=60;for(99<_&&(_=99);n.length<2;)n="0"+n;var r=null==s?"null":""+s;s<10&&(r="0"+r);var a=null==_?"null":""+_;return _<10&&(a="0"+a),0==s&&(r="00"),0==_&&(a="00"),I.string(a+e+r+e+n)},serialize:function(t){return Oi.run(t)},unserialize:function(t){return Vi.run(t)},decrypt:function(t,e){return null==e&&(e=""),this._encrypter.decrypt(t,e)},__class__:Y};function Z(){}(e["awe6.interfaces.IAssetManager"]=Z).__name__="awe6.interfaces.IAssetManager",Z.__isInterface__=!0,Z.prototype={__class__:Z};function q(){}(e["awe6.interfaces.IAssetManagerProcess"]=q).__name__="awe6.interfaces.IAssetManagerProcess",q.__isInterface__=!0,q.__interfaces__=[a,Z];function $(t){o.call(this,t)}(e["awe6.core.drivers.AAssetManager"]=$).__name__="awe6.core.drivers.AAssetManager",$.__interfaces__=[q],$.__super__=o,$.prototype=t(o.prototype,{_init:function(){this._packageId=this._kernel.getConfig("settings.assets.packages.default"),null==this._packageId&&(this._packageId="assets"),o.prototype._init.call(this)},getAsset:function(t,e,i){return null==e&&(e=this._packageId),this._driverGetAsset(t,e,i)},_driverGetAsset:function(t,e,i){return null},__class__:$});function tt(){}(e["awe6.interfaces.IAudioManager"]=tt).__name__="awe6.interfaces.IAudioManager",tt.__isInterface__=!0,tt.prototype={__class__:tt};function et(t){o.call(this,t)}(e["awe6.core.drivers.AAudioManager"]=et).__name__="awe6.core.drivers.AAudioManager",et.__interfaces__=[tt],et.__super__=o,et.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this._sounds=[],this._packageId=this._kernel.getConfig("settings.assets.packages.audio"),null==this._packageId&&(this._packageId=this._kernel.getConfig("settings.assets.packages.default")),null==this._packageId&&(this._packageId="assets.audio"),this.set_isMute(!1)},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t);for(var e=0,i=this._sounds;e<i.length;){var s=i[e];++e,s.isDisposed&&U.remove(this._sounds,s)}},_disposer:function(){for(var t=0,e=this._sounds;t<e.length;){var i=e[t];++t,i.dispose()}this.set_isMute(!1),o.prototype._disposer.call(this)},start:function(t,e,i,s,n,_,r,a){if((null==r&&(r=!1),null==_&&(_=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),null==e&&(e=Yt.DEFAULT),r)&&0!=this._getSounds(t,e).length)return;this._sounds.push(this._driverSoundFactory(t,e,i,s,n,_,a))},_driverSoundFactory:function(t,e,i,s,n,_,r){return null==_&&(_=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),new it(this._kernel,t,this._packageId,e,i,s,n,_,r)},stop:function(t,e){for(var i=this._getSounds(t,e),s=0;s<i.length;){var n=i[s];++s,n.stop()}},transform:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=1);for(var _=this._getSounds(t,e),r=0;r<_.length;){var a=_[r];++r,a.transform(i,s,n)}},set_isMute:function(t){return this.isMute=t,this._driverSetIsMute(t),this.isMute},_driverSetIsMute:function(t){},_getSounds:function(t,e){var i=[];if(null==t&&null==e)i=this._sounds.slice();else if(null==e)for(var s=0,n=this._sounds;s<n.length;){var _=n[s];++s,_.id==t&&i.push(_)}else if(null==t)for(s=0,n=this._sounds;s<n.length;){_=n[s];++s,A.enumEq(_.audioChannelType,e)&&i.push(_)}else for(s=0,n=this._sounds;s<n.length;){_=n[s];++s,_.id==t&&A.enumEq(_.audioChannelType,e)&&i.push(_)}return i},__class__:et});var it=function(t,e,i,s,n,_,r,a,o){null==a&&(a=0),null==r&&(r=1),null==_&&(_=0),null==n&&(n=1),this._kernel=t,this.isDisposed=!1,this.id=e,this._packageId=i,this.audioChannelType=null!=s?s:Yt.DEFAULT,-1==n&&(n=this._kernel.tools.BIG_NUMBER),this._loops=n,this._startTime=_,this._volume=r,this._pan=a,this._onCompleteCallback=o,this._init()};(e["awe6.core.drivers._AHelperSound"]=it).__name__="awe6.core.drivers._AHelperSound",it.__interfaces__=[_],it.prototype={_init:function(){this._driverInit()},_driverInit:function(){},transform:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),null==t&&(t=1),this.isDisposed||(i?(this._volume=t,this._pan=e):(this._volume=this._kernel.tools.limit(t,0,1),this._pan=this._kernel.tools.limit(e,-1,1)),this._driverTransform(i))},_driverTransform:function(t){null==t&&(t=!1)},stop:function(){this._driverStop(),this.dispose()},_driverStop:function(){},dispose:function(){this.isDisposed||(this.isDisposed=!0,this._driverStop())},__class__:it};function st(){}(e["awe6.interfaces.IFactory"]=st).__name__="awe6.interfaces.IFactory",st.__isInterface__=!0,st.prototype={__class__:st};function nt(t,e,i){null==e&&(e=!1),this._context=t,this.isDebug=e,this._config=i,this.config=new ts;var s=!0;null==s&&(s=!1),s&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=$t.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=_e.GAME,this.keyPause=te.P,this.keyMute=te.M,this.keyNext=te.SPACE,this.keyBack=te.ESCAPE,this.keySpecial=te.CONTROL),this._configurer(s),this._driverInit()}(e["awe6.core.drivers.AFactory"]=nt).__name__="awe6.core.drivers.AFactory",nt.__interfaces__=[_,st],nt.prototype={_driverInit:function(){null!=this._config&&"<?xml"==U.substr(this._config,0,5)&&this._traverseElements(R.parse(this._config).firstElement().elements(),""),this._launchKernel()},_traverseElements:function(t,e){0!=e.length&&(e+=".");for(var i=t;i.hasNext();){var s=i.next();if(s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));var n,_=e+s.nodeName;if(s.elements().hasNext()&&this._traverseElements(s.elements(),_),s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(null!=s.children[0]){if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));n="<![CDATA["==U.substr(as.print(s.children[0]),0,9)}else n=!1;if(n){if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));var r=s.children[0];if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));var a=as.print(s.children[0]).split("<![CDATA[").join("").split("]]>").join("");if(r.nodeType==R.Document||r.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==r.nodeType?"null":N.toString(r.nodeType)));r.nodeValue=a}if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(null==s.children[0])this.config.h[_]="";else{if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));var o=s.children[0].nodeType;if(o!=R.Element&&o!=R.Document){var h,l=this.config;if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(null==s.children[0])h="";else{if(s.nodeType!=R.Document&&s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));var u=s.children[0];if(u.nodeType==R.Document||u.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==u.nodeType?"null":N.toString(u.nodeType)));h=u.nodeValue}l.h[_]=h}else this.config.h[_]=""}for(var c=s.attributes();c.hasNext();){var d=c.next(),p=_+"."+d,g=this.config,f=s.get(d);g.h[p]=f}}},_configurer:function(t){null==t&&(t=!1)},_launchKernel:function(){var t;null==this._concreteKernel&&(null==(t=!1)&&(t=!1),t&&(this.id="awe6",this.version="0.0.1",this.author="unknown",this.isDecached=!1,this.isEyeCandyOptionEnabled=!0,this.isFullScreenOptionEnabled=!0,this.isResetSessionsOptionEnabled=!0,this.width=600,this.height=400,this.bgColor=16711680,this.fullScreenType=Zt.SCALE_ASPECT_RATIO_PRESERVE,this.joypadTouchType=$t.DISABLED,this.secret="YouMustOverrideThis",this.targetFramerate=25,this.isFixedUpdates=!0,this.startingSceneType=_e.GAME,this.keyPause=te.P,this.keyMute=te.M,this.keyNext=te.SPACE,this.keyBack=te.ESCAPE,this.keySpecial=te.CONTROL),this._configurer(t),this._concreteKernel=new Lt(this,this._context))},_getAssetUrls:function(){for(var t=[],e=0;e<1e3;){var i="settings.assets.url"+e++;Object.prototype.hasOwnProperty.call(this.config.h,i)&&t.push(I.string(this.config.h[i]))}return t},onInitComplete:function(t){null==this._kernel&&null!=t&&(this._kernel=t,this._tools=this._kernel.tools,this.id=U.substr(this._tools.toConstCase(u.trim(this.id)),0,16),this.version=U.substr(u.trim(this.version),0,16),this.author=U.substr(u.trim(this.author),0,16))},createAssetManager:function(){return os.__implements(this._kernel.assets,q)?os.__cast(this._kernel.assets,q):new It(this._kernel)},createEncrypter:function(){return new k(this.secret)},createLogger:function(){return null},createOverlay:function(){return new Bt(this._kernel)},createPreloader:function(){return new Ft(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){return null==t&&(t=this.startingSceneType),new j(this._kernel,t)},createSceneTransition:function(t,e){return new Gt(this._kernel)},createSession:function(t){return new At(this._kernel,t)},createTextStyle:function(t){return new W},getBackSceneType:function(t){return null},getNextSceneType:function(t){return null},dispose:function(){var t;this.isDisposed||null==this._concreteKernel||(this.isDisposed=!0,this._driverDisposer(),(t=this._concreteKernel).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),this._concreteKernel=null,this._kernel=null,this.config=null)},_driverDisposer:function(){},__class__:nt};function _t(){}(e["awe6.interfaces.IInputKeyboard"]=_t).__name__="awe6.interfaces.IInputKeyboard",_t.__isInterface__=!0,_t.prototype={__class__:_t};function rt(t){o.call(this,t)}(e["awe6.core.drivers.AInputKeyboard"]=rt).__name__="awe6.core.drivers.AInputKeyboard",rt.__interfaces__=[_t],rt.__super__=o,rt.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this._driverInit(),this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t);for(var e=Object.create(null),i=[],s=0,n=this._buffer;s<n.length;){var _=n[s];++s;var r=null==_.keyCode?"null":""+_.keyCode;Object.prototype.hasOwnProperty.call(e,r)?i.push(_):_.isDown?this._keys[_.keyCode].isDown||(this._onDown(_.keyCode),e[r]=!0):this._keys[_.keyCode].isDown&&(this._onUp(_.keyCode),e[r]=!0)}this._buffer=i.slice();for(s=0,n=this._keys;s<n.length;){_=n[s];++s,_.isDown?_.updatesDown++:_.updatesUp++,_.isDown?_.timeDown+=t:_.timeUp+=t}},_disposer:function(){this._keys=null,o.prototype._disposer.call(this)},_addEvent:function(t,e){this._buffer.push(new ot(t,e))},_onDown:function(t){var e=this._keys[t];e.isUsed=!0,e.isDown=!0,e.timeUpPrevious=e.timeUp,e.updatesUpPrevious=e.updatesUp,e.updatesUp=0,e.timeUp=0},_onUp:function(t){var e=this._keys[t];e.isDown=!1,e.timeDownPrevious=e.timeDown,e.updatesDownPrevious=e.updatesDown,e.updatesDown=0,e.timeDown=0},_reset:function(t){this._buffer=[],this._keys=[];for(var e=0;e<256;){var i=e++;this._keys[i]=new at(this._kernel)}},getIsKeyDown:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return this._keys[e].isDown},getIsKeyPress:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return 1==this._keys[e].updatesDown},getIsKeyRelease:function(t){if(null==t)return!1;var e=this.getKeyCode(t);return!!this._keys[e].isUsed&&1==this._keys[e].updatesUp},getKeyCode:function(t){switch(t._hx_index){case 0:return 144;case 1:return 12;case 2:return 47;case 3:return 18;case 4:return 8;case 5:return 20;case 6:return 17;case 7:return 46;case 8:return 40;case 9:return 35;case 10:return 13;case 11:return 27;case 12:return 112;case 13:return 121;case 14:return 122;case 15:return 123;case 16:return 124;case 17:return 125;case 18:return 126;case 19:return 113;case 20:return 114;case 21:return 115;case 22:return 116;case 23:return 117;case 24:return 118;case 25:return 119;case 26:return 120;case 27:return 36;case 28:return 45;case 29:return 37;case 30:return 96;case 31:return 97;case 32:return 98;case 33:return 99;case 34:return 100;case 35:return 101;case 36:return 102;case 37:return 103;case 38:return 104;case 39:return 105;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 108;case 44:return 106;case 45:return 109;case 46:return 34;case 47:return 33;case 48:return 39;case 49:return 16;case 50:return 32;case 51:return 9;case 52:return 38;case 53:return 65;case 54:return 66;case 55:return 67;case 56:return 68;case 57:return 69;case 58:return 70;case 59:return 71;case 60:return 72;case 61:return 73;case 62:return 74;case 63:return 75;case 64:return 76;case 65:return 77;case 66:return 78;case 67:return 79;case 68:return 80;case 69:return 81;case 70:return 82;case 71:return 83;case 72:return 84;case 73:return 85;case 74:return 86;case 75:return 87;case 76:return 88;case 77:return 89;case 78:return 90;case 79:return 48;case 80:return 49;case 81:return 50;case 82:return 51;case 83:return 52;case 84:return 53;case 85:return 54;case 86:return 55;case 87:return 56;case 88:return 57;case 89:return 186;case 90:return 187;case 91:return 189;case 92:return 191;case 93:return 222;case 94:return 219;case 95:return 221;case 96:return 220;case 97:return 192;case 98:return 223;case 99:return 0|t.value}},getKey:function(t){var e=te.__constructs__.slice();e.pop();for(var i=0;i<e.length;){var s=e[i];++i;var n=A.createEnum(te,s);if(this.getKeyCode(n)==t)return n}return te.SUB_TYPE(t)},__class__:rt});var at=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(e["awe6.core.drivers._AInputKeyboard._HelperKey"]=at).__name__="awe6.core.drivers._AInputKeyboard._HelperKey",at.prototype={__class__:at};var ot=function(t,e){this.keyCode=t,this.isDown=e};(e["awe6.core.drivers._AInputKeyboard._HelperKeyEvent"]=ot).__name__="awe6.core.drivers._AInputKeyboard._HelperKeyEvent",ot.prototype={__class__:ot};function ht(){}(e["awe6.interfaces.IInputMouse"]=ht).__name__="awe6.interfaces.IInputMouse",ht.__isInterface__=!0,ht.prototype={__class__:ht};function lt(t){o.call(this,t)}(e["awe6.core.drivers.AInputMouse"]=lt).__name__="awe6.core.drivers.AInputMouse",lt.__interfaces__=[ht],lt.__super__=o,lt.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this._driverInit(),this.x=this.y=this._xPrev=this._yPrev=this._deltaX=this._deltaY=this.scroll=this._deltaScroll=0,this.relativeX=this.relativeY=this.relativeCentralisedX=this.relativeCentralisedY=0,this.isMoving=!1,this._buffer=[],this._getPosition(),this.isMoving=!1,this.set_isVisible(!0),this.scroll=0,this.set_cursorType(se.AUTO),this._scrollPrev=0,this._stillUpdates=0,this._stillDuration=0,this._reset()},_driverInit:function(){},_updater:function(t){null==t&&(t=0),this._deltaTimePrev=t,o.prototype._updater.call(this,t),this._xPrev=this.x,this._yPrev=this.y,this._getPosition(),this._handleButton(ie.LEFT,0<this._buffer.length?this._buffer.shift():this._buttonLeft.isDown,t),this._handleButton(ie.MIDDLE,this._isMiddleDown(),t),this._handleButton(ie.RIGHT,this._isRightDown(),t),this._deltaScroll=this.scroll-this._scrollPrev,this._scrollPrev=this.scroll,this._deltaX=this.x-this._xPrev,this._deltaY=this.y-this._yPrev,this.isMoving=this.x!=this._xPrev||this.y!=this._yPrev,this.isMoving?this._stillUpdates=this._stillDuration=0:(this._stillUpdates++,this._stillDuration+=t),this.relativeX=this.x/this._kernel.factory.width,this.relativeY=this.y/this._kernel.factory.height,this.relativeCentralisedX=2*(this.relativeX-.5),this.relativeCentralisedY=2*(this.relativeY-.5),this.isWithinBounds=this._isWithinBounds()},_isMiddleDown:function(){return!1},_isRightDown:function(){return!1},_isWithinBounds:function(){return!0},_getPosition:function(){this.x=0,this.y=0},_handleButton:function(t,e,i){null==i&&(i=0);var s=this._getButton(t);e?(s.isDown||(s.timeUpPrevious=s.timeUp,s.updatesUpPrevious=s.updatesUp,s.timeUp=s.updatesUp=0,s.clickX=this.x,s.clickY=this.y),s.timeDown+=i,s.updatesDown++,s.isDown=!0):(s.isDown&&(s.timeDownPrevious=s.timeDown,s.updatesDownPrevious=s.updatesDown,s.timeDown=s.updatesDown=0),s.timeUp+=i,s.updatesUp++,s.isDown=!1)},_disposer:function(){o.prototype._disposer.call(this)},_reset:function(t){this._buffer=[],this._buttonLeft=new ut(this._kernel),this._buttonMiddle=new ut(this._kernel),this._buttonRight=new ut(this._kernel)},_getButton:function(t){switch(null==t&&(t=ie.LEFT),t._hx_index){case 0:return this._buttonLeft;case 1:return this._buttonMiddle;case 2:return this._buttonRight}},getDeltaX:function(t){null==t&&(t=!0);var e=this._deltaX;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getDeltaY:function(t){null==t&&(t=!0);var e=this._deltaY;return t&&(e*=1e3/this._deltaTimePrev),Math.round(e)},getIsButtonDown:function(t){return this._getButton(t).isDown},getIsButtonPress:function(t){return 1==this._getButton(t).updatesDown},getIsButtonRelease:function(t){return 1==this._getButton(t).updatesUp},getButtonDownDuration:function(t,e,i){null==i&&(i=!1),null==e&&(e=!0);var s=this._getButton(t);return i?e?s.timeDownPrevious:s.updatesDownPrevious:e?s.timeDown:s.updatesDown},getButtonDragWidth:function(t){var e=this._getButton(t);return e.isDown?this.x-e.clickX:0},getButtonDragHeight:function(t){var e=this._getButton(t);return e.isDown?this.y-e.clickY:0},set_isVisible:function(t){return this.isVisible=t,this.isVisible},set_cursorType:function(t){return this.cursorType=t,this.cursorType},__class__:lt});var ut=function(t){this.isDown=!1,this.updatesDown=0,this.updatesUp=t.tools.BIG_NUMBER,this.timeDown=0,this.timeUp=t.tools.BIG_NUMBER,this.updatesDownPrevious=0,this.updatesUpPrevious=t.tools.BIG_NUMBER,this.timeDownPrevious=0,this.timeUpPrevious=t.tools.BIG_NUMBER};(e["awe6.core.drivers._AInputMouse._HelperButton"]=ut).__name__="awe6.core.drivers._AInputMouse._HelperButton",ut.prototype={__class__:ut};function ct(){}(e["awe6.interfaces.ILogger"]=ct).__name__="awe6.interfaces.ILogger",ct.__isInterface__=!0,ct.prototype={__class__:ct};function dt(){}(e["awe6.interfaces.IKernel"]=dt).__name__="awe6.interfaces.IKernel",dt.__isInterface__=!0,dt.__interfaces__=[ct,n],dt.prototype={__class__:dt};function pt(t,e){this.factory=t,this._context=e,this.tools=this._tools=new Y(this),o.call(this,this)}(e["awe6.core.drivers.AKernel"]=pt).__name__="awe6.core.drivers.AKernel",pt.__interfaces__=[dt],pt.__super__=o,pt.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this._view=new Jt(this,this._context,0,this),this._processes=new Zi,this._helperFramerate=new gt(this.factory.targetFramerate),this._isPreloaded=!1,this.isDebug=this.factory.isDebug,this.isLocal=this._driverGetIsLocal(),this._driverInit(),this.assets=this._assetManagerProcess=new It(this._kernel),this.audio=this._audioManager=new Pt(this._kernel),this.inputs=this._inputManager=new F(this._kernel),this.scenes=this._sceneManager=new K(this._kernel),this.messenger=this._messageManager=new G(this._kernel),this._view.addChild(this._sceneManager.view,1),this._addProcess(this._assetManagerProcess),this._addProcess(this._inputManager),this._addProcess(this._sceneManager),this._addProcess(this._messageManager),this._addProcess(this._audioManager),this.set_isEyeCandy(!0),this.set_isFullScreen(!1),this.factory.onInitComplete(this),this.set_session(this.factory.createSession()),this.get_session().reset(),this._preloader=this.factory.createPreloader(),this._addProcess(this._preloader),this._view.addChild(this._preloader.get_view(),2)},_driverGetIsLocal:function(){return!1},_driverInit:function(){},_driverDisposer:function(){},onPreloaderComplete:function(t){this._isPreloaded=!0,this._removeProcess(this._preloader),this._preloader=null,this._logger=this.factory.createLogger();var e=this.factory.createAssetManager();e!=this._assetManagerProcess&&(this._removeProcess(this._assetManagerProcess),this.assets=this._assetManagerProcess=e,this._addProcess(this._assetManagerProcess,!1)),this.overlay=this._overlayProcess=this.factory.createOverlay(),this._addProcess(this._overlayProcess,!0),this._view.addChild(this._overlayProcess.get_view(),3),this.isDebug&&(this._addProcess(this._profiler=new Ot(this)),this._view.addChild(this._profiler.get_view(),this._tools.BIG_NUMBER)),this.scenes.setScene(this.factory.startingSceneType),this.overlay.flash()},_updater:function(t){null==t&&(t=0),this._helperFramerate.update();var e=this.factory.isFixedUpdates?1e3/this.factory.targetFramerate|0:this._helperFramerate.timeInterval;o.prototype._updater.call(this,e);for(var i=this._processes.h;null!=i;){var s=i.item,i=i.next;s.update(e)}var n=this._view;null==(t=e)&&(t=0),n.isActive&&!n.isDisposed&&(n._age+=t,n._updates++,n._updater(t))},_disposer:function(){for(var t=this._processes.h;null!=t;){var e=t.item,t=t.next;this._removeProcess(e)}os.__implements(this.factory,_)&&os.__cast(this.factory,_).dispose(),this.factory=null;var i=this._view;i.isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer()),this._view=null,this._driverDisposer(),this.assets=this._assetManagerProcess=null,this.audio=this._audioManager=null,this.inputs=this._inputManager=null,this.scenes=this._sceneManager=null,this.messenger=this._messageManager=null,this.overlay=this._overlayProcess=null,this.tools=this._tools=null,this._logger=null,this._preloader=null,this.set_session(null),o.prototype._disposer.call(this)},getConfig:function(t){return Object.prototype.hasOwnProperty.call(this.factory.config.h,t)?this.factory.config.h[t]:null},log:function(t){null!=this._logger?this._logger.log(t):this.isDebug&&Bi.trace("LOG: "+I.string(t),{fileName:"awe6/core/drivers/AKernel.hx",lineNumber:248,className:"awe6.core.drivers.AKernel",methodName:"log"})},getFramerate:function(t){return null==t&&(t=!0),t?this._helperFramerate.framerate:this.factory.targetFramerate},_addProcess:function(t,e){null==e&&(e=!0),null!=t&&(e?this._processes.add(t):this._processes.push(t))},_removeProcess:function(t){return null!=t&&(t.dispose(),this._processes.remove(t))},set_isEyeCandy:function(t){return this.factory.isEyeCandyOptionEnabled?(this.isEyeCandy=t,this._driverSetIsEyeCandy(t)):this.isEyeCandy=!0,this.isEyeCandy},_driverSetIsEyeCandy:function(t){},set_isFullScreen:function(t){return!this.factory.isFullScreenOptionEnabled||A.enumEq(this.factory.fullScreenType,Zt.DISABLED)?this.isFullScreen=!1:(this.isFullScreen=t,this._driverSetIsFullScreen(t)),this.isFullScreen},_driverSetIsFullScreen:function(t){},_pauser:function(){o.prototype._pauser.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().pause()},_resumer:function(){o.prototype._resumer.call(this),null!=this.scenes.get_scene()&&this.scenes.get_scene().resume()},get_session:function(){return this.session},set_session:function(t){return this.session=t,this.get_session()},__class__:pt});var gt=function(t){this.framerate=t,this._timeAtLastUpdate=U.now()/1e3*1e3|0};(e["awe6.core.drivers._AKernel._HelperFramerate"]=gt).__name__="awe6.core.drivers._AKernel._HelperFramerate",gt.prototype={update:function(){this.timeInterval=(U.now()/1e3*1e3|0)-this._timeAtLastUpdate,this.framerate=1e3/this.timeInterval,this._timeAtLastUpdate=U.now()/1e3*1e3|0},__class__:gt};function ft(){}(e["awe6.interfaces.IOverlay"]=ft).__name__="awe6.interfaces.IOverlay",ft.__isInterface__=!0,ft.prototype={__class__:ft};function mt(){}(e["awe6.interfaces.IOverlayProcess"]=mt).__name__="awe6.interfaces.IOverlayProcess",mt.__isInterface__=!0,mt.__interfaces__=[d,a,ft];function yt(t,e,i,s,n,_,r,a,o,h,l,u,c,d,p,g,f){null==f&&(f=.35),null==g&&(g=0),null==p&&(p=8),null==i&&(i=30),null==e&&(e=30),null==s&&(s=new Jt(t)),null==n&&(n=new Jt(t)),null==_&&(_=new Jt(t)),null==r&&(r=new Jt(t)),null==a&&(a=new Jt(t)),null==o&&(o=new Jt(t)),null==h&&(h=new Jt(t)),null==l&&(l=new Jt(t)),null==u&&(u=new Jt(t)),null==c&&(c=new Jt(t)),null==d&&(d=new Jt(t)),this._borderView=s,this._buttonBack=new v(t,n,_,e,i),this._buttonMute=new v(t,r,a,e,i),this._buttonUnmute=new v(t,o,h,e,i),this._buttonPause=new v(t,l,u,e,i),this._buttonUnpause=new v(t,c,d,e,i),this._pauseBlur=p,this._pauseColor=g,this._pauseAlpha=f,this._context=new createjs.Container,y.call(this,t,null,this._context)}(e["awe6.core.drivers.AOverlay"]=yt).__name__="awe6.core.drivers.AOverlay",yt.__interfaces__=[mt],yt.__super__=y,yt.prototype=t(y.prototype,{_init:function(){y.prototype._init.call(this),this.get_view().addChild(this._borderView,4),this._wasMute=this._kernel.audio.isMute,this._driverInit(),this._progressView=new Jt(this._kernel,this._progressContext),this._progressView.set_isVisible(!1),this._pauseView=new Jt(this._kernel,this._pauseContext),this._pauseView.set_isVisible(!1),this._flashView=new Jt(this._kernel,this._flashContext),this._flashView.set_isVisible(!1),this._flashStartingAlpha=1,this._flashAsTime=!0,this._flashDuration=this._flashStartingDuration=100;var t=ks(this,this.activateButton),e=ne.BACK,i=function(){t(e)};this._buttonBack.onClickCallback=i;var s=ks(this,this.activateButton),n=ne.MUTE,i=function(){s(n)};this._buttonMute.onClickCallback=i;var _=ks(this,this.activateButton),r=ne.PAUSE,i=function(){_(r)};this._buttonPause.onClickCallback=i;var a=ks(this,this.activateButton),o=ne.UNMUTE,i=function(){a(o)};this._buttonUnmute.onClickCallback=i;var h=ks(this,this.activateButton),l=ne.UNPAUSE,i=function(){h(l)};this._buttonUnpause.onClickCallback=i,this.get_view().addChild(this._flashView,1),this.get_view().addChild(this._pauseView,2),this.get_view().addChild(this._progressView,3),this.addEntity(this._buttonBack,null,!0,21),this.addEntity(this._buttonUnmute,null,!0,22),this.addEntity(this._buttonMute,null,!0,23),this.addEntity(this._buttonUnpause,null,!0,24),this.addEntity(this._buttonPause,null,!0,25);var u=this._buttonBack.height,c=this._buttonBack.width,d=this._kernel.factory.width-4*c,p=u;this.positionButton(ne.BACK,d,p),this.positionButton(ne.MUTE,d+=c,p),this.positionButton(ne.UNMUTE,d,p),this.positionButton(ne.PAUSE,d+=c,p),this.positionButton(ne.UNPAUSE,d,p)},_driverInit:function(){this._progressContext=new createjs.Container,this._pauseContext=new createjs.Container,this._flashContext=new createjs.Container},_updater:function(t){var e;null==t&&(t=0),y.prototype._updater.call(this,t),0<this._flashDuration&&(this._flashDuration-=this._flashAsTime?t:1,e=this._flashStartingAlpha*(this._flashDuration/this._flashStartingDuration),this._flashAlpha=1<e?1:e<0?0:e),this._flashView.set_isVisible(0<this._flashAlpha),null!=this._kernel.factory.keyBack&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyBack)&&this.activateButton(this._kernel.isActive?ne.BACK:ne.UNPAUSE),null!=this._kernel.factory.keyPause&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyPause)&&this.activateButton(this._kernel.isActive?ne.PAUSE:ne.UNPAUSE),null!=this._kernel.factory.keyMute&&this._kernel.inputs.keyboard.getIsKeyPress(this._kernel.factory.keyMute)&&this.activateButton(this._kernel.audio.isMute?ne.UNMUTE:ne.MUTE),null==this.get_pauseEntity()||this._kernel.isActive||(this.get_pauseEntity().update(t),this._pauseView.update(t))},_disposer:function(){null!=this.get_pauseEntity()&&this.get_pauseEntity().dispose(),this.get_view().dispose(),y.prototype._disposer.call(this)},_getButton:function(t){switch(t._hx_index){case 0:return this._buttonBack;case 1:return this._buttonMute;case 2:return this._buttonUnmute;case 3:return this._buttonPause;case 4:return this._buttonUnpause;case 5:t.value;return null}},showButton:function(t,e){null==e&&(e=!0);var i=this._getButton(t);null!=i&&(e?this.addEntity(i,null,!0):this.removeEntity(i,null,!0))},positionButton:function(t,e,i,s,n){var _=this._getButton(t);null!=_&&(_.set_x(e),_.set_y(i),null!=s&&_.set_width(s),null!=n&&_.set_height(n))},hideButtons:function(){this.showButton(ne.BACK,!1),this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!1),this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!1)},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),null==t&&(t=e?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},activateButton:function(t){switch(t._hx_index){case 0:this._buttonBack.get_view().get_isInViewStack()&&(this._kernel.isActive||this.activateButton(ne.UNPAUSE),this._drawPause(!1),this._kernel.resume(),this._kernel.scenes.back());break;case 1:this._buttonMute.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!1),this.showButton(ne.UNMUTE,!0),this._kernel.audio.set_isMute(!0));break;case 2:this._buttonUnmute.get_view().get_isInViewStack()&&!this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.MUTE,!0),this.showButton(ne.UNMUTE,!1),this._kernel.audio.set_isMute(!1));break;case 3:this._buttonPause.get_view().get_isInViewStack()&&(this._kernel.pause(),this._drawPause(!0),this._wasMute=this._kernel.audio.isMute,this.showButton(ne.PAUSE,!1),this.showButton(ne.UNPAUSE,!0),this.activateButton(ne.MUTE));break;case 4:this._buttonUnpause.get_view().get_isInViewStack()&&(this.showButton(ne.PAUSE,!0),this.showButton(ne.UNPAUSE,!1),this.activateButton(this._wasMute?ne.MUTE:ne.UNMUTE),this._kernel.resume(),this._drawPause(!1));break;case 5:t.value}},_drawPause:function(t){null==t&&(t=!0),this._pauseView.set_isVisible(t)},get_pauseEntity:function(){return this.pauseEntity},set_pauseEntity:function(t){return null!=this.get_pauseEntity()&&this.get_pauseEntity().get_view().remove(),this.pauseEntity=t,this._pauseView.addChild(this.get_pauseEntity().get_view()),this.get_pauseEntity()},__class__:yt});function wt(){}(e["awe6.interfaces.IProgress"]=wt).__name__="awe6.interfaces.IProgress",wt.__isInterface__=!0;function vt(){}(e["awe6.interfaces.IPreloader"]=vt).__name__="awe6.interfaces.IPreloader",vt.__isInterface__=!0,vt.__interfaces__=[wt,d,a];function Et(t,e,i){null==i&&(i=!1),this._assets=e,this._isDecached=i,o.call(this,t)}(e["awe6.core.drivers.APreloader"]=Et).__name__="awe6.core.drivers.APreloader",Et.__interfaces__=[vt],Et.__super__=o,Et.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.progress=0,null==this.get_view()&&(this.view=new Jt(this._kernel)),this._encrypter=this._tools,this._currentProgress=0,this._currentAsset=0,this._isComplete=!1,0<this._assets.length&&this._next()},_next:function(){if(this._currentAsset++,this._currentAsset>this._assets.length){if(!this._isComplete){try{var t=ks(l=this._kernel,l.onPreloaderComplete),e=this;Gi.delay(function(){t(e)},100)}catch(t){}this._isComplete=!0}}else this._driverLoad(this._assets[this._currentAsset-1]),this._currentProgress=0},_driverLoad:function(t){},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t),0==this._assets.length&&this._kernel.onPreloaderComplete(this),this.get_view().set_isVisible(100<this._age)},_disposer:function(){this.get_view().dispose(),this._driverDisposer(),o.prototype._disposer.call(this)},_driverDisposer:function(){},get_view:function(){return this.view},__class__:Et});function St(t){this._context=new createjs.Container,y.call(this,t,null,this._context)}(e["awe6.core.drivers.AProfiler"]=St).__name__="awe6.core.drivers.AProfiler",St.__super__=y,St.prototype=t(y.prototype,{_init:function(){y.prototype._init.call(this),this._marginHeight=25,this._marginColor=128,this._backgroundColor=-2147483520,this._fpsColor=16777215,this._memoryColor=16744448,this._fpsLabel="FPS",this._memoryLabel="MBs",this._width=60,this._height=50,this._agePrev=0},_updater:function(t){null==t&&(t=0),y.prototype._updater.call(this,t),this._age<this._agePrev+250||(this._agePrev=this._age,this._driverUpdate())},_driverUpdate:function(){},__class__:St});function xt(){}(e["awe6.interfaces.ISceneTransition"]=xt).__name__="awe6.interfaces.ISceneTransition",xt.__isInterface__=!0,xt.__interfaces__=[d,wt,a];function Tt(t,e){null==e&&(e=500),this._duration=e,this._context=new createjs.Container,y.call(this,t,null,this._context)}(e["awe6.core.drivers.ASceneTransition"]=Tt).__name__="awe6.core.drivers.ASceneTransition",Tt.__interfaces__=[xt],Tt.__super__=y,Tt.prototype=t(y.prototype,{_init:function(){y.prototype._init.call(this)},_updater:function(t){null==t&&(t=0),y.prototype._updater.call(this,t),this._age>this._duration&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},get_progress:function(){var t=this._age/this._duration;return 1<t?1:t<0?0:t},__class__:Tt});function bt(){}(e["awe6.interfaces.ISession"]=bt).__name__="awe6.interfaces.ISession",bt.__isInterface__=!0,bt.prototype={__class__:bt};var At=function(t,e){null==e&&(e=""),this._kernel=t,""==e&&(e="DEBUG_AWE6"),this.id=e,this._tools=this._kernel.tools,this._version=1,this._init()};(e["awe6.core.drivers.ASession"]=At).__name__="awe6.core.drivers.ASession",At.__interfaces__=[bt],At.prototype={_init:function(){this._driverLoad(),b.field(this._savedData,"_____VERSION")!=this._version&&this._driverReset();var t=null!=b.field(this._savedData,this.id);this._data={},this._resetter(),this._setter(),t&&(this._data=b.field(this._savedData,this.id),this._getter(),this.loadCount++)},_driverLoad:function(){this._savedData={}},_driverSave:function(){},_driverReset:function(){this._savedData={}},_getter:function(){this.loadCount=this._data.loadCount,this.saveCount=this._data.saveCount},_setter:function(){this._data.loadCount=this.loadCount,this._data.saveCount=this.saveCount},_resetter:function(){this.loadCount=0,this.saveCount=0},reset:function(t){null==t&&(t=!1),this._data={},this._resetter(),this._setter(),t&&(this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave())},save:function(){this.saveCount++,this._setter(),this._savedData._____VERSION=this._version,this._savedData[this.id]=this._data,this._driverSave()},__class__:At};function kt(){}(e["awe6.interfaces.IPriority"]=kt).__name__="awe6.interfaces.IPriority",kt.__isInterface__=!0,kt.prototype={__class__:kt};function Ct(){}(e["awe6.interfaces.IView"]=Ct).__name__="awe6.interfaces.IView",Ct.__isInterface__=!0,Ct.__interfaces__=[r,_,w,kt],Ct.prototype={__class__:Ct};function Ut(t,e,i,s){null==i&&(i=0),this.context=e,this.set_priority(i),this.owner=s,o.call(this,t)}(e["awe6.core.drivers.AView"]=Ut).__name__="awe6.core.drivers.AView",Ut.__interfaces__=[Ct],Ut.__super__=o,Ut.prototype=t(o.prototype,{_init:function(){o.prototype._init.call(this),this.globalX=0,this.globalY=0,this.set_x(0),this.set_y(0),this.set_isVisible(!0),this._isDirty=!0,this._children=[]},addChild:function(t,e){return null==e&&(e=0),this.isDisposed||null==t?null:(t.get_parent()!=this&&(t.remove(),t instanceof Ut&&(i=t,this._children.push(i),i._setParent(this))),0!=e&&t.set_priority(e),this._isDirty=!0,t);var i},removeChild:function(t){if(!this.isDisposed&&null!=t){if(t instanceof Ut){var e=t;if(e.get_parent()!=this)return;U.remove(this._children,e),e._setParent(null)}this._isDirty=!0}},remove:function(){null!=this.get_parent()&&this.get_parent().removeChild(this)},clear:function(){for(var t=0,e=this._children;t<e.length;){var i=e[t];++t,this.removeChild(i)}},_updater:function(t){null==t&&(t=0),o.prototype._updater.call(this,t);for(var e=0,i=this._children;e<i.length;){var s=i[e];++e;var n=t;null==n&&(n=0),s.isActive&&!s.isDisposed&&(s._age+=n,s._updates++,s._updater(n))}this._isDirty&&this._draw(),this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY},_disposer:function(){this.remove(),this._driverDisposer(),this.clear(),o.prototype._disposer.call(this)},_driverDisposer:function(){},_draw:function(){this.isDisposed||(this._children.sort(ks(l=this._tools,l.sortByPriority)),this._driverDraw(),this._isDirty=!1)},_driverDraw:function(){},_setParent:function(t){this.parent=t},get_priority:function(){return this.priority},set_priority:function(t){return t==this.get_priority()||(this.priority=t,this.get_parent()instanceof Ut&&(null!=(e=this.get_parent())&&(e._isDirty=!0))),this.get_priority();var e},set_isVisible:function(t){return t==this.isVisible||(this.isVisible=t,this.get_parent()instanceof Ut&&(null!=(e=this.get_parent())&&e._draw())),this.isVisible;var e},get_parent:function(){return this.parent},get_isInViewStack:function(){return!!this.isVisible&&(this.owner==this._kernel||null!=this.get_parent()&&this.get_parent().get_isInViewStack())},set_x:function(t){return this.x=t,this.globalX=null==this.get_parent()?this.x:this.x+this.get_parent().globalX,this.x},set_y:function(t){return this.y=t,this.globalY=null==this.get_parent()?this.y:this.y+this.get_parent().globalY,this.y},__class__:Ut});var It=function(t){$.call(this,t)};(e["awe6.core.drivers.createjs.AssetManager"]=It).__name__="awe6.core.drivers.createjs.AssetManager",It.__super__=$,It.prototype=t($.prototype,{_driverGetAsset:function(t,e,i){var s=null;return null!=It.loadQueue&&(s=It.loadQueue.getResult(t)),s},__class__:It});var Pt=function(t){et.call(this,t)};(e["awe6.core.drivers.createjs.AudioManager"]=Pt).__name__="awe6.core.drivers.createjs.AudioManager",Pt.__super__=et,Pt.prototype=t(et.prototype,{_init:function(){et.prototype._init.call(this),this._visibilityWasMute=this.isMute,window.document.addEventListener("visibilitychange",ks(this,this._onVisibilityChange))},_disposer:function(){window.document.removeEventListener("visibilitychange",ks(this,this._onVisibilityChange)),et.prototype._disposer.call(this)},_driverSoundFactory:function(t,e,i,s,n,_,r){return null==_&&(_=0),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),new Rt(this._kernel,t,this._packageId,e,i,s,n,_,r)},_driverSetIsMute:function(t){try{createjs.Sound.muted=t}catch(t){}try{createjs.Sound.setMute(t)}catch(t){}},_onVisibilityChange:function(t){this._getVisibilityPropery()?(this._visibilityWasMute=this.isMute,this.set_isMute(!0)):this.set_isMute(this._visibilityWasMute)},_getVisibilityPropery:function(){for(var t=["hidden","mozHidden","msHidden","oHidden","webkitHidden"],e=0;e<t.length;){var i=t[e];++e;var s=window.document;if(Object.prototype.hasOwnProperty.call(s,i))return b.field(window.document,i)}return window.document.hidden},__class__:Pt});var Rt=function(t,e,i,s,n,_,r,a,o){null==a&&(a=0),null==r&&(r=1),null==_&&(_=0),null==n&&(n=1),it.call(this,t,e,i,s,1==n?0:n,_,r,a,o)};(e["awe6.core.drivers.createjs._HelperSound"]=Rt).__name__="awe6.core.drivers.createjs._HelperSound",Rt.__super__=it,Rt.prototype=t(it.prototype,{_driverInit:function(){try{this._sound=createjs.Sound.play("assets.audio."+this.id,null,0,this._startTime,this._loops,this._volume,this._pan),createjs.WebAudioPlugin.context&&"suspended"==createjs.WebAudioPlugin.context.state&&createjs.WebAudioPlugin.context.resume()}catch(t){}null!=this._sound?(this._sound.addEventListener("complete",ks(this,this._onSoundComplete)),this._driverTransform()):this.dispose()},_driverTransform:function(t){null==t&&(t=!1),null!=this._sound&&(t&&(this._volume*=this._sound.volume,this._pan*=this._sound.pan),this._sound.volume=this._volume,this._sound.pan=this._pan)},_driverStop:function(){if(null!=this._sound)try{this._sound.stop()}catch(t){}},_onSoundComplete:function(t){null!=this._onCompleteCallback&&this._onCompleteCallback.apply(this,[]),this.dispose()},__class__:Rt});function Nt(t,e,i){nt.call(this,t,e,i)}(e["awe6.core.drivers.createjs.Factory"]=Nt).__name__="awe6.core.drivers.createjs.Factory",Nt.__super__=nt,Nt.prototype=t(nt.prototype,{_driverInit:function(){this.isDebug||(Bi.trace=function(t,e){window.console.log(t)});var t,e,i=new createjs.Container;this._context.addChild(i),this._context=i,this._countConfigsLoaded=0,this._countConfigsToLoad=0,""!=this._config?(t=null!=this._config?this._config:"assets/__Config.xml",null!=(e=this._context.getStage().canvas.getAttribute("config"))&&""!=e&&(t=e),this._loadConfig(t)):this._launchKernel()},_launchKernel:function(){this._displayCredits();var t=!0;Object.prototype.hasOwnProperty.call(this.config.h,"settings.nativeExperience")&&(t="true"==this.config.h["settings.nativeExperience"]);var e=this._context.getStage().canvas.getAttribute("nativeExperience");null!=e&&""!=e&&(t="true"==e),this.isNativeExperience=t,nt.prototype._launchKernel.call(this);var i=this._concreteKernel.system.isDesktop,s="default";Object.prototype.hasOwnProperty.call(this.config.h,"settings.fullScreen")&&(s=this.config.h["settings.fullScreen"]);var n=this._context.getStage().canvas.getAttribute("fullScreen");null!=n&&""!=n&&(s=n),this._kernel.set_isFullScreen(i&&("desktop"==s||"all"==s)||!i&&("mobile"==s||"all"==s||"default"==s)),this._kernel.isFullScreen&&this.isNativeExperience&&!i&&(this._concreteKernel.system.requestFullScreen(),this._concreteKernel.system.requestLockScreen())},_displayCredits:function(){Bi.trace(Object.prototype.hasOwnProperty.call(this.config.h,"settings.asciiArt")?this.config.h["settings.asciiArt"]:"",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:127,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Bi.trace(this.id+" v"+this.version+" by "+this.author,{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:128,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Bi.trace("Powered by awe6 (http://awe6.org)",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:129,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),this.isDecached&&Bi.trace("Note: decaching is currently enabled",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:132,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"}),Bi.trace("",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:134,className:"awe6.core.drivers.createjs.Factory",methodName:"_displayCredits"})},_loadConfig:function(t){if("<?xml"==U.substr(t,0,5))this._parseXml(t);else{this.isDecached&&(t+="?dc="+I.random(99999));try{var e=new is(t);e.onError=ks(this,this._onIOError),e.onData=ks(this,this._onComplete),e.request()}catch(t){var i=Li.caught(t).unwrap();return void this._onIOError(I.string(i))}this._countConfigsToLoad++}},_parseXml:function(t){if(this._traverseElements(R.parse(t).firstElement().elements(),""),Object.prototype.hasOwnProperty.call(this.config.h,"settings.joinXml")&&this._countConfigsLoaded<100){var e=this.config.h["settings.joinXml"],i=this.config;Object.prototype.hasOwnProperty.call(i.h,"settings.joinXml")&&delete i.h["settings.joinXml"];for(var s=e.split(","),n=0;n<s.length;){var _=s[n];++n,this._loadConfig(_)}}this._countConfigsLoaded==this._countConfigsToLoad&&this._launchKernel()},_onIOError:function(t){Bi.trace("IO Errors Occurred During Config Loading:"+t,{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:188,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),Bi.trace("Double check your Config path.  Cross domain (or local) file loading of Config is a security risk and is, therefore, disabled on this browser.",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:189,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),null!=this._config&&"<?xml"==U.substr(this._config,0,5)?(Bi.trace("Embedded Config detected, using that to continue ...",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:192,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),this._countConfigsLoaded=this._countConfigsToLoad,this._parseXml(this._config)):(Bi.trace("Use a web server (or local server) to run over http and serve all files from the same domain.  Or embed the Config directlty in the code (e.g. as a Resource).",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:198,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}),Bi.trace("Unable to continue without Config.",{fileName:"awe6/core/drivers/createjs/Factory.hx",lineNumber:199,className:"awe6.core.drivers.createjs.Factory",methodName:"_onIOError"}))},_onComplete:function(t){var e;this._countConfigsLoaded++,""!=t?("<?xml"!=U.substr(e=t,0,5)&&(e=this.createEncrypter().decrypt(ji.ofString(e)).toString()),this._parseXml(e)):this._onIOError(t)},_getAssetUrls:function(){for(var t=["bin/assets/audio/Applause.m4a","bin/assets/audio/Applause.ogg","bin/assets/audio/ButtonOver.m4a","bin/assets/audio/ButtonOver.ogg","bin/assets/audio/Coin.m4a","bin/assets/audio/Coin.ogg","bin/assets/audio/GameOver.m4a","bin/assets/audio/GameOver.ogg","bin/assets/audio/GameStart.m4a","bin/assets/audio/GameStart.ogg","bin/assets/audio/Jump1.m4a","bin/assets/audio/Jump1.ogg","bin/assets/audio/Jump2.m4a","bin/assets/audio/Jump2.ogg","bin/assets/audio/Jump3.m4a","bin/assets/audio/Jump3.ogg","bin/assets/audio/JumpImpact.m4a","bin/assets/audio/JumpImpact.ogg","bin/assets/audio/Medal1.m4a","bin/assets/audio/Medal1.ogg","bin/assets/audio/Medal2.m4a","bin/assets/audio/Medal2.ogg","bin/assets/audio/Medal3.m4a","bin/assets/audio/Medal3.ogg","bin/assets/audio/MusicMenu.m4a","bin/assets/audio/MusicMenu.ogg","bin/assets/audio/Silence.m4a","bin/assets/audio/Silence.ogg","bin/assets/audio/SkillPenalty.m4a","bin/assets/audio/SkillPenalty.ogg","bin/assets/audio/SkillPerfect.m4a","bin/assets/audio/SkillPerfect.ogg","bin/assets/audio/SkillStart.m4a","bin/assets/audio/SkillStart.ogg","bin/assets/audio/SprintGo.m4a","bin/assets/audio/SprintGo.ogg","bin/assets/audio/SprintGun.m4a","bin/assets/audio/SprintGun.ogg","bin/assets/audio/SprintMarks.m4a","bin/assets/audio/SprintMarks.ogg","bin/assets/audio/SprintSet.m4a","bin/assets/audio/SprintSet.ogg","bin/assets/audio/ThrowImpact.m4a","bin/assets/audio/ThrowImpact.ogg","bin/assets/audio/ThrowLaunch.m4a","bin/assets/audio/ThrowLaunch.ogg","bin/assets/audio/Transition.m4a","bin/assets/audio/Transition.ogg","bin/assets/Blank.png","bin/assets/fonts/__Exo2-extrabolditalic-webfont.eot","bin/assets/fonts/__Exo2-extrabolditalic-webfont.svg","bin/assets/fonts/__Exo2-extrabolditalic-webfont.ttf","bin/assets/fonts/__Exo2-extrabolditalic-webfont.woff","bin/assets/game/Coin.png","bin/assets/game/Javelin.png","bin/assets/game/LocationCrowd.png","bin/assets/game/LocationGroundJump1.jpg","bin/assets/game/LocationGroundJump2.jpg","bin/assets/game/LocationGroundSprint1.jpg","bin/assets/game/LocationGroundSprint2.jpg","bin/assets/game/LocationGroundThrow1.jpg","bin/assets/game/LocationGroundThrow2.jpg","bin/assets/game/LocationRays.png","bin/assets/game/LocationSky.jpg","bin/assets/game/Scenery.json","bin/assets/game/Scenery.png","bin/assets/game/UnitA.json","bin/assets/game/UnitA.png","bin/assets/game/UnitB.json","bin/assets/game/UnitB.png","bin/assets/gui/Action.png","bin/assets/gui/AvatarUnitA.png","bin/assets/gui/AvatarUnitB.png","bin/assets/gui/BgAbstract1.png","bin/assets/gui/BgAbstract2.png","bin/assets/gui/BgAbstract3.png","bin/assets/gui/BgAbstract4.png","bin/assets/gui/BgDetail.jpg","bin/assets/gui/BgGradient1.png","bin/assets/gui/BgGradient2.png","bin/assets/gui/BgGradient3.png","bin/assets/gui/Burst.jpg","bin/assets/gui/Buttons.png","bin/assets/gui/HeroMedals.png","bin/assets/gui/HeroUnitA.png","bin/assets/gui/HeroUnitB.png","bin/assets/gui/Hud.png","bin/assets/gui/InstructionsA.png","bin/assets/gui/InstructionsB.png","bin/assets/gui/PanelBigBg.png","bin/assets/gui/PanelBigFg.png","bin/assets/gui/PanelLevel.png","bin/assets/gui/PanelLevelBg.png","bin/assets/gui/PanelResult.png","bin/assets/gui/PanelShop.png","bin/assets/gui/PanelSmallBg.png","bin/assets/gui/PanelSmallFg.png","bin/assets/gui/PanelUnit.png","bin/assets/gui/PauseBg.png","bin/assets/gui/SceneFgFooter1.png","bin/assets/gui/SceneFgFooter2.png","bin/assets/gui/SceneFgHeader1.png","bin/assets/gui/SceneFgHeader2.png","bin/assets/gui/Vignette.png","bin/assets/__Config.xml","bin/assets/__Icon128.png","bin/assets/__Icon196.png","bin/assets/__Icon256.png","bin/assets/__PreloaderBg.png"],e=[],i=0,s=t.length;i<s;){t[n=i++]=U.substr(t[n],4,null),("__"==U.substr(t[n],0,2)||-1<t[n].indexOf("/__"))&&e.push(t[n])}for(i=0;i<e.length;){var n=e[i];++i,U.remove(t,n)}return t},_driverDisposer:function(){null!=this._context.parent&&this._context.parent.removeChild(this._context)},preventDefaultForKeys:function(t){this._kernel.inputs.keyboard.preventDefaultForKeys(t)},allowDefaultForKeys:function(t){this._kernel.inputs.keyboard.allowDefaultForKeys(t)},__class__:Nt});var Dt=function(t){rt.call(this,t)};(e["awe6.core.drivers.createjs.InputKeyboard"]=Dt).__name__="awe6.core.drivers.createjs.InputKeyboard",Dt.__super__=rt,Dt.prototype=t(rt.prototype,{_driverInit:function(){this._document=window.document,this._preventDefaultKeyCodes=[],this._document.addEventListener("keydown",ks(this,this._onKeyDown)),this._document.addEventListener("keyup",ks(this,this._onKeyUp))},_disposer:function(){this._document.removeEventListener("keydown",ks(this,this._onKeyDown)),this._document.removeEventListener("keyup",ks(this,this._onKeyUp)),rt.prototype._disposer.call(this)},_onKeyDown:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!0))},_onKeyUp:function(t){this.isActive&&(-1!=this._preventDefaultKeyCodes.indexOf(t.keyCode)&&t.preventDefault(),this._addEvent(t.keyCode,!1))},preventDefaultForKeys:function(t){if(null!=t)for(var e=0;e<t.length;){var i=t[e];++e;var s=this.getKeyCode(i);f.has(this._preventDefaultKeyCodes,s)||this._preventDefaultKeyCodes.push(s)}},allowDefaultForKeys:function(t){if(null!=t)for(var e=0;e<this._preventDefaultKeyCodes.length;){var i=this.getKey(this._preventDefaultKeyCodes[e]);f.has(t,i)?this._preventDefaultKeyCodes.splice(e,1):++e}},__class__:Dt});var Mt=function(t){lt.call(this,t)};(e["awe6.core.drivers.createjs.InputMouse"]=Mt).__name__="awe6.core.drivers.createjs.InputMouse",Mt.__super__=lt,Mt.prototype=t(lt.prototype,{_driverInit:function(){this._stage=this._kernel._stage,this._isTouch=createjs.Touch.isSupported()&&!this._kernel.system.isDesktop,this._isTouch?(createjs.Touch.enable(this._stage,!0),this._touchX=this._touchY=0,this._stage.canvas.addEventListener("touchstart",ks(this,this._onTouchStart)),this._stage.canvas.addEventListener("touchmove",ks(this,this._onTouch)),this._stage.canvas.addEventListener("touchend",ks(this,this._onTouchEnd))):(this._stage.addEventListener("stagemousedown",ks(this,this._onMouseDown)),this._stage.addEventListener("stagemouseup",ks(this,this._onMouseUp))),window.focus()},_disposer:function(){this._isTouch?(createjs.Touch.disable(this._stage),this._stage.canvas.removeEventListener("touchstart",ks(this,this._onTouchStart)),this._stage.canvas.removeEventListener("touchmove",ks(this,this._onTouch)),this._stage.canvas.removeEventListener("touchend",ks(this,this._onTouchEnd))):(this._stage.removeEventListener("stagemousedown",ks(this,this._onMouseDown)),this._stage.removeEventListener("stagemouseup",ks(this,this._onMouseUp))),lt.prototype._disposer.call(this)},_isWithinBounds:function(){return this._stage.mouseInBounds},_getPosition:function(){var t,e;this._isTouch?(this.x=this._touchX,this.y=this._touchY):(t=this._stage.mouseX/this._stage.scaleX,e=this._kernel.factory.width,this.x=0|(e<t?e:t<0?0:t),t=this._stage.mouseY/this._stage.scaleY,e=this._kernel.factory.height,this.y=0|(e<t?e:t<0?0:t)),this.x=this.x==this._kernel.factory.width?this._xPrev:this.x,this.y=this.y==this._kernel.factory.height?this._yPrev:this.y},_onTouchStart:function(t){this._onMouseDown(t),this._onTouch(t),this.x=this._touchX,this.y=this._touchY},_onTouchEnd:function(t){this._onMouseUp(t),this._onTouch(t),Mt._isSoundTriggered||(this._kernel.audio.start("Silence"),Mt._isSoundTriggered=!0,this._kernel.isFullScreen&&this._kernel.factory.isNativeExperience&&(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()))},_onTouch:function(t){try{var e=(t.targetTouches[0].pageX-(0|this._stage.canvas.offsetLeft))/this._kernel._scaleX,i=this._kernel.factory.width;this._touchX=0|(i<e?i:e<0?0:e);e=(t.targetTouches[0].pageY-(0|this._stage.canvas.offsetTop))/this._kernel._scaleY,i=this._kernel.factory.height;this._touchY=0|(i<e?i:e<0?0:e)}catch(t){}this._stage.mouseInBounds&&t.preventDefault()},_onMouseDown:function(t){window.focus(),this.isActive&&(!this._isTouch&&2==t.nativeEvent.button||this._buffer.push(!0))},_onMouseUp:function(t){this.isActive&&(!this._isTouch&&2==t.nativeEvent.button||this._buffer.push(!1))},set_isVisible:function(t){return this._stage.cursor=t?"none":"auto",lt.prototype.set_isVisible.call(this,t)},set_cursorType:function(t){switch(t._hx_index){case 0:e="crosshair";break;case 1:e="auto";break;case 2:case 3:e="pointer";break;case 4:e="text";break;case 5:var e=t.value}return this._stage.canvas.style.cursor=e,lt.prototype.set_cursorType.call(this,t)},__class__:Mt});var Lt=function(t,e){pt.call(this,t,e)};(e["awe6.core.drivers.createjs.Kernel"]=Lt).__name__="awe6.core.drivers.createjs.Kernel",Lt.__super__=pt,Lt.prototype=t(pt.prototype,{_driverGetIsLocal:function(){var t;switch(window.location.protocol){case"http:":case"https:":t=!1;break;default:t=!0}return t},_driverInit:function(){this.system=new Vt(this),this._scaleX=this._scaleY=1,this._stage=this._stageDynamic=this._context.getStage(),this._stage.canvas.style.setProperty("-ms-touch-action","none",""),this._stage.canvas.style.setProperty("image-rendering","-o-crisp-edges",""),this._stage.canvas.style.setProperty("image-rendering","optimize-contrast",""),this._stage.canvas.style.setProperty("-ms-interpolation-mode","nearest-neighbor",""),this._stage.canvas.style.setProperty("-webkit-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("-moz-tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("tap-highlight-color","rgba(0,0,0,0)",""),this._stage.canvas.style.setProperty("user-select","none",""),this._stage.canvas.style.setProperty("-webkit-touch-callout","none",""),this._stage.canvas.style.setProperty("-webkit-user-select","none",""),this._stage.canvas.style.setProperty("-moz-user-select","none",""),this._stage.canvas.style.setProperty("-ms-user-select","none",""),this._stage.tickOnUpdate=!1,this._stage.mouseEnabled=!1,this._stage.canvas.width=this.factory.width,this._stage.canvas.height=this.factory.height;var t=new createjs.Shape;t.graphics.beginFill("#"+U.substr(u.hex(this.factory.bgColor,8),2,6)),t.graphics.drawRect(0,0,this.factory.width,this.factory.height),t.graphics.endFill(),this._stage.addChildAt(t,0),createjs.Ticker.setFPS(this.factory.targetFramerate),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",ks(this,this._onEnterFrame)),this._stage.canvas.addEventListener("contextmenu",ks(this,this._onContextMenu),!1),window.addEventListener("unload",ks(this,this._onUnload))},_onUnload:function(t){window.removeEventListener("unload",ks(this,this._onUnload)),this.get_session().save()},_onContextMenu:function(t){var e,i;t.preventDefault(),t.stopImmediatePropagation(),null!=this.overlay&&(e=ks(l=this.overlay,l.activateButton),i=ne.PAUSE,Gi.delay(function(){e(i)},100))},_driverDisposer:function(){this._stage.canvas.removeEventListener("contextmenu",ks(this,this._onContextMenu))},_onEnterFrame:function(t){null!=t.paused&&1==t.paused?this._stage.tickOnUpdate=!1:(this._updates++,this._updater(0),this._stage.tickOnUpdate=this.isActive,this._stageDynamic.update(t));var e=I.string(window.innerWidth)+":"+I.string(window.innerHeight);this._prevWindowSize!=e&&this._driverSetIsFullScreen(this.isFullScreen)},_driverSetIsEyeCandy:function(t){},_driverSetIsFullScreen:function(t){this._prevWindowSize=I.string(window.innerWidth)+":"+I.string(window.innerHeight),this._scaleX=this._scaleY=1;var e=this.factory.width,i=this.factory.height,s=window.innerWidth,n=window.innerHeight,_=e<i,r=s<n;this.system.isRotated=!this.system.isDesktop&&_!=r;var a=0,o=0;if(t){var h=Math.min(s/e,n/i),l=this.factory.fullScreenType;switch(l._hx_index){case 0:case 1:break;case 2:this._scaleX=s/e,this._scaleY=n/i;break;case 3:this._scaleX=this._scaleY=h;break;case 4:h=h<.5?.25:h<1?.5:Math.floor(h),this._scaleX=this._scaleY=h;break;case 5:var u,c,d,p=l.value;null!=p.bleedWidth&&null!=p.bleedHeight&&(u=e-2*I.parseInt(I.string(p.bleedWidth)+""),c=i-2*I.parseInt(I.string(p.bleedHeight)+""),d=Math.min(s/u,n/c),this._scaleX=this._scaleY=d)}a=Math.round((s-e*this._scaleX)/2),o=Math.round((n-i*this._scaleY)/2)}this._stage.canvas.style.setProperty("width",Math.round(e*this._scaleX)+"px",""),this._stage.canvas.style.setProperty("height",Math.round(i*this._scaleY)+"px",""),this._stage.canvas.style.setProperty("margin-left",a+"px",""),this._stage.canvas.style.setProperty("margin-top",o+"px","")},__class__:Lt});var Bt=function(t,e,i,s,n,_,r,a,o,h,l,u,c,d,p,g,f){yt.call(this,t,e,i,s,n,_,r,a,o,h,l,u,c,d,p,g,f)};(e["awe6.core.drivers.createjs.Overlay"]=Bt).__name__="awe6.core.drivers.createjs.Overlay",Bt.__super__=yt,Bt.prototype=t(yt.prototype,{_driverInit:function(){os.__cast(this._borderView,Jt).context.mouseEnabled=!1,this._context.mouseEnabled=!1,this._pauseContext=new createjs.Container,this._pauseContext.mouseEnabled=!1;var t=new createjs.Shape;t.graphics.beginFill("#"+u.hex(this._pauseColor,6)),t.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),t.alpha=this._pauseAlpha,this._pauseContext.addChild(t),this._flashContext=new createjs.Container,this._flashContext.mouseEnabled=!1},_updater:function(t){null==t&&(t=0),yt.prototype._updater.call(this,t),this._flashContext.alpha=this._flashAlpha,this._flashContext.visible=0!=this._flashAlpha},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),this._flashContext.removeAllChildren();var n=new createjs.Shape;n.graphics.beginFill("#"+u.hex(s,6)),n.graphics.drawRect(0,0,this._kernel.factory.width,this._kernel.factory.height),this._flashContext.addChild(n),null==t&&(t=e?500:.5*this._kernel.factory.targetFramerate),this._flashDuration=this._flashStartingDuration=t,this._flashAsTime=e,this._flashAlpha=this._flashStartingAlpha=1<i?1:i<0?0:i},__class__:Bt});var Ft=function(t,e,i){Et.call(this,t,e,i)};(e["awe6.core.drivers.createjs.Preloader"]=Ft).__name__="awe6.core.drivers.createjs.Preloader",Ft.__super__=Et,Ft.prototype=t(Et.prototype,{_init:function(){this._context=new createjs.Container,this.view=new Jt(this._kernel,this._context),Et.prototype._init.call(this),this._system=this._kernel.system,this._isDesktop=this._system.isDesktop,this._audioHoldDelay=0,this._completedDelay=0;var t=this._isDecached?"?dc="+I.random(999999):"",e=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];null!=this._proprietaryAudioFormat&&""!=this._proprietaryAudioFormat&&f.has(e,this._proprietaryAudioFormat)||(this._proprietaryAudioFormat="mp3");var i=[];if(this._manifest=[],createjs.Sound.initializeDefaultPlugins()){this._audioHoldDelay=this._getAudioHoldDelay();var s=this._isSoundDisabled||this._system.isAndroid&&this._getIsStockAndroidBrowser();this._validSoundFormat=createjs.Sound.getCapability("ogg")?"ogg":createjs.Sound.getCapability(this._proprietaryAudioFormat)?this._proprietaryAudioFormat:"noValidFormat",this._activePlugin=createjs.Sound.activePlugin;for(var n=0,_=this._assets;n<_.length;){var r=_[n];++n;var a,o=U.substr(r,-3,null);f.has(e,o)&&(i.push(r),s||o!=this._validSoundFormat||(a="assets.audio."+U.substr(r.split("/").pop(),0,-4),this._isFastTestMode||this._manifest.push({src:r+t,id:a})))}}for(n=0;n<i.length;){r=i[n];++n,U.remove(this._assets,r)}for(n=0,_=this._assets;n<_.length;){r=_[n];++n,this._manifest.push({src:r+t,id:r})}this._loadQueue=new createjs.LoadQueue(!this._kernel.isLocal&&!this._isFastTestMode,""),this._loadQueue.setMaxConnections(10),this._loadQueue.installPlugin(createjs.Sound),this._manifest=this._tools.shuffle(this._manifest),this._loadQueue.addEventListener("complete",ks(this,this._onComplete)),this._loadQueue.addEventListener("fileerror",ks(this,this._onError)),this._loadQueue.addEventListener("error",ks(this,this._onError));var n=ks(l=this._loadQueue,l.loadManifest),h=this._manifest;Gi.delay(function(){n(h)},200)},_next:function(){},get_progress:function(){return this._loadQueue.progress},_onComplete:function(t){this._isComplete||(this._isComplete=!0,It.loadQueue=this._loadQueue,this._completedDelay=this._audioHoldDelay,this._loadQueue.removeEventListener("complete",ks(this,this._onComplete)),this._loadQueue.removeEventListener("fileerror",ks(this,this._onError)),this._loadQueue.removeEventListener("error",ks(this,this._onError)),0!=this._audioHoldDelay&&this._showAudioHoldMessage())},_onError:function(t){Bi.trace([t,t.title,t.message,t.data],{fileName:"awe6/core/drivers/createjs/Preloader.hx",lineNumber:148,className:"awe6.core.drivers.createjs.Preloader",methodName:"_onError"})},_showAudioHoldMessage:function(){},_updater:function(t){null==t&&(t=0),Et.prototype._updater.call(this,t),this._isComplete&&(this._completedDelay-=t,(0<=this._audioHoldDelay&&this._completedDelay<=0||this._kernel.inputs.keyboard.getIsKeyRelease(this._kernel.factory.keyNext)||this._kernel.inputs.mouse.getIsButtonRelease())&&(this._assets=[]))},_getIsStockAndroidBrowser:function(){var t=-1<this._system.userAgent.indexOf("Android")&&-1<this._system.userAgent.indexOf("Mozilla/5.0")&&-1<this._system.userAgent.indexOf("AppleWebKit"),e=new g("AppleWebKit/([\\d.]+)",""),i=e.match(this._system.userAgent),s=i?parseFloat(e.matched(1)):0,n=new g("Chrome/([\\d.]+)",""),_=n.match(this._system.userAgent),r=_?parseFloat(n.matched(1)):0;return t&&(!!(i&&s<537)||!!_&&r<37)},_getAudioHoldDelay:function(){if(this._isSoundDisabled)return 0;try{if("[WebAudioPlugin]"!=createjs.Sound.activePlugin||"suspended"!=createjs.Sound.activePlugin.context.state)return 0}catch(t){}var t=-1;Object.prototype.hasOwnProperty.call(this._kernel.factory.config.h,"settings.audioHoldDelay")&&(t=I.parseInt(this._kernel.factory.config.h["settings.audioHoldDelay"]));try{var e=this._kernel.factory._context.getStage().canvas.getAttribute("audioHoldDelay");null!=e&&""!=e&&(t=I.parseInt(e))}catch(t){}return t},__class__:Ft});var Ot=function(t){St.call(this,t)};(e["awe6.core.drivers.createjs.Profiler"]=Ot).__name__="awe6.core.drivers.createjs.Profiler",Ot.__super__=St,Ot.prototype=t(St.prototype,{_init:function(){St.prototype._init.call(this),this._isMemoryEnabled=null!=window.performance&&null!=window.performance.memory,this._width=75,this._height=24,this._marginHeight=12;var t=new createjs.Shape;this._context.addChild(t),t.alpha=.25,this._isMemoryEnabled&&(t.graphics.beginFill("#"+u.hex(this._backgroundColor,6)),t.graphics.drawRect(0,0,this._width,this._height),t.graphics.endFill()),t.graphics.beginFill("#"+u.hex(this._marginColor,6)),t.graphics.drawRect(0,0,this._width,this._marginHeight),t.graphics.endFill(),t.cache(0,0,this._width,this._height),this._fpsTextField=new createjs.Text("","","#"+u.hex(this._fpsColor,6)),this._context.addChild(this._fpsTextField),this._isMemoryEnabled&&(this._memoryTextField=new createjs.Text("","","#"+u.hex(this._memoryColor,6)),this._memoryTextField.y=12,this._context.addChild(this._memoryTextField))},_driverUpdate:function(){var t,e,i=0|this._kernel.getFramerate(!0);Math.min(this._height,this._height/this._kernel.factory.targetFramerate*i);this._fpsTextField.text=this._fpsLabel+": "+i+" / "+this._kernel.factory.targetFramerate,this._isMemoryEnabled&&this._updates%this._kernel.factory.targetFramerate==0&&(t=Math.round(window.performance.memory.usedJSHeapSize/1024/1024),e=Math.round(window.performance.memory.jsHeapSizeLimit/1024/1024),this._memoryTextField.text=this._memoryLabel+": "+t+" / "+e)},__class__:Ot});var Gt=function(t,e){Tt.call(this,t,e)};(e["awe6.core.drivers.createjs.SceneTransition"]=Gt).__name__="awe6.core.drivers.createjs.SceneTransition",Gt.__super__=Tt,Gt.prototype=t(Tt.prototype,{_init:function(){Tt.prototype._init.call(this),this._kernel.scenes.get_scene().get_view().context.cache(0,0,this._kernel.factory.width,this._kernel.factory.height);var t=new createjs.Bitmap(this._kernel.scenes.get_scene().get_view().context.cacheCanvas);this._kernel.scenes.get_scene().get_view().context.uncache(),this._context.mouseEnabled=!1,this._context.addChild(t)},_updater:function(t){var e;null==t&&(t=0),Tt.prototype._updater.call(this,t),this.isDisposed||(e=this.get_progress(),this._context.alpha=1-e)},__class__:Gt});function Ht(t,e){At.call(this,t,e)}(e["awe6.core.drivers.createjs.Session"]=Ht).__name__="awe6.core.drivers.createjs.Session",Ht.__super__=At,Ht.prototype=t(At.prototype,{_init:function(){var t=!0;null!=this._kernel.getConfig("settings.sessionSaved")&&(t="false"!=this._kernel.getConfig("settings.sessionSaved")),this._storage=t?hs.getLocalStorage():hs.getSessionStorage(),At.prototype._init.call(this)},_driverLoad:function(){if(this._savedData={},null!=window.document.cookie&&ls.exists(this._kernel.factory.id)&&(this._savedData=this._tools.unserialize(ls.get(this._kernel.factory.id)),this._driverSave(),ls.remove(this._kernel.factory.id)),null!=this._storage)try{var t=this._storage.getItem(this._kernel.factory.id);null!=t&&(this._savedData=this._tools.unserialize(t))}catch(t){}},_driverReset:function(){if(null!=this._storage)try{this._storage.removeItem(this._kernel.factory.id)}catch(t){}this._savedData={}},_driverSave:function(){if(null!=this._storage)try{this._storage.setItem(this._kernel.factory.id,this._tools.serialize(this._savedData))}catch(t){}},__class__:Ht});var Vt=function(t){this._kernel=t,this.isRotated=!1,this.isAndroid=this.isChromeOs=this.isIos=this.isLinux=this.isMacOs=this.isSilk=this.isWindows=this.isWindowsPhone=this.isDesktop=!1,this.userAgent=p.navigator.userAgent,this.isSilk=new g("Silk","").match(this.userAgent),this.isKaiOs=new g("KAIOS","").match(this.userAgent),this.isCrosswalk=new g("Crosswalk","").match(this.userAgent),this.isCordova=null!=window.cordova,new g("Android","").match(this.userAgent)?this.isAndroid=!0:new g("CrOS","").match(this.userAgent)?this.isChromeOs=!0:new g("iP[ao]d|iPhone","i").match(this.userAgent)?this.isIos=!0:new g("Linux","").match(this.userAgent)?this.isLinux=!0:new g("Mac OS","").match(this.userAgent)?this.isMacOs=!0:new g("Windows","").match(this.userAgent)&&(this.isWindows=!0,new g("Windows Phone","i").match(this.userAgent)&&(this.isWindowsPhone=!0)),(this.isWindows||this.isMacOs||this.isLinux&&!this.isSilk)&&(this.isDesktop=!0),this.isWindowsPhone&&(this.isDesktop=!1)};(e["awe6.core.drivers.createjs.System"]=Vt).__name__="awe6.core.drivers.createjs.System",Vt.prototype={get_isWebGL:function(){return!1},get_isFullScreenSupported:function(){try{var t=window.document.documentElement;if(null!=t.requestFullscreen)return!0;if(null!=t.msRequestFullscreen)return!0;if(null!=t.mozRequestFullScreen)return!0;if(null!=t.webkitRequestFullscreen)return!0}catch(t){}return!1},requestFullScreen:function(){try{var t=window.document.documentElement;null!=t.requestFullscreen?t.requestFullscreen():null!=t.msRequestFullscreen?t.msRequestFullscreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}catch(t){}},requestExitFullScreen:function(){try{var t=window.document;null!=t.exitFullscreen?t.exitFullscreen():null!=t.msExitFullscreen?t.msExitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():null!=t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){}},requestLockScreen:function(){if(!this.isDesktop)try{var t=this._kernel.factory.width<this._kernel.factory.height?"portrait-primary":"landscape-primary",e=window.screen;null!=e.orientation?null!=e.orientation.lock?e.orientation.lock(t):null!=e.orientation.lockOrientation&&e.orientation.lockOrientation(t):null!=e.mozOrientation?e.mozLockOrientation(t):null!=e.msOrientation&&e.msLockOrientation(t)}catch(t){}},requestDeviceOrientation:function(){if(!this.isDesktop)try{null!=window.DeviceMotionEvent&&null!=window.DeviceMotionEvent.requestPermission&&window.DeviceMotionEvent.requestPermission()}catch(t){}},__class__:Vt};var Jt=function(t,e,i,s){Ut.call(this,t,e,i,s)};(e["awe6.core.drivers.createjs.View"]=Jt).__name__="awe6.core.drivers.createjs.View",Jt.__super__=Ut,Jt.prototype=t(Ut.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),Ut.prototype._init.call(this)},_driverDisposer:function(){if(null!=this.context&&null!=this.context.parent)try{this.context.parent.removeChild(this.context)}catch(t){}},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var i=t[e];++e,i.isVisible&&this._container.addChild(i.context)}},set_x:function(t){return this.context.x=t,Ut.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,Ut.prototype.set_y.call(this,t)},__class__:Jt});function jt(t,e,i,s){var n;null==s&&(s=!0),null==i&&(i=100),null==e&&(e=100),this.isFlippedX=!1,this.isFlippedY=!1,this.width=e,this.height=i,this._context=new createjs.Container,this.setPosition(0,0),s&&((n=new createjs.Shape).graphics.beginFill("#FF0000"),n.graphics.drawRect(0,0,this.width,this.height),n.graphics.endFill(),n.visible=!1,this._context.addChild(n),this._context.mask=n),y.call(this,t,null,this._context)}(e["awe6.core.drivers.createjs.extras.gui.GuiEntity"]=jt).__name__="awe6.core.drivers.createjs.extras.gui.GuiEntity",jt.__interfaces__=[w],jt.__super__=y,jt.prototype=t(y.prototype,{setPosition:function(t,e){this.set_x(t),this.set_y(e)},set_x:function(t){return this.x=t,this._context.x=this.x,this.x},set_y:function(t){return this.y=t,this._context.y=this.y,this.y},set_isFlippedX:function(t){return t==this.isFlippedX||(this.isFlippedX=t,this._context.scaleX*=-1,this.isFlippedX?(e=this).set_x(e.x+this.width):(e=this).set_x(e.x-this.width)),this.isFlippedX;var e},__class__:jt});function zt(t,e,i,s,n,_,r){null==r&&(r=!1),null==_&&(_=!1),null==s&&(s=""),this.textStyle=n,this._isMultiline=_,this._isCached=r,jt.call(this,t,e,i,!1),this.set_text(s)}(e["awe6.core.drivers.createjs.extras.gui.Text"]=zt).__name__="awe6.core.drivers.createjs.extras.gui.Text",zt.__super__=jt,zt.prototype=t(jt.prototype,{_init:function(){jt.prototype._init.call(this),this._textField=new createjs.Text,this._textField.text=this.text,this._draw(),this._context.addChild(this._textField),this._isDirty=!1,this._prevTextStyle=this.textStyle.toString()},_updater:function(t){null==t&&(t=0),jt.prototype._updater.call(this,t),this._isDirty=this._isDirty||this._prevTextStyle!=this.textStyle.toString(),this._isDirty&&this._draw(),this._prevTextStyle=this.textStyle.toString()},_draw:function(){if(this._textField.lineWidth=this.width,this._prevTextStyle!=this.textStyle.toString()){switch(this.textStyle.align._hx_index){case 0:case 1:this._textField.textAlign="left";break;case 2:this._textField.textAlign="center",this._textField.x=.5*this.width;break;case 3:this._textField.textAlign="right",this._textField.x=this.width}var t,e,i=u.hex(this.textStyle.color,6);this._textField.color="#"+i,this._textField.font=(this.textStyle.isBold?"bold ":"")+(this.textStyle.isItalic?"italic ":"")+this.textStyle.size+"px '"+this.textStyle.font+"'",this._textField.lineHeight=this.textStyle.spacingVertical,null!=this.textStyle.filters&&((t=this._textField).shadow=null,e=this.textStyle.filters.slice(),null!=this._textFieldOutline&&null!=this._textFieldOutline.parent&&this._textFieldOutline.parent.removeChild(this._textFieldOutline),this._textFieldOutline=null,2!=e.length&&6!=e.length||(this._textFieldOutline=this._textField.clone(),i=u.hex(e.shift(),6),this._textFieldOutline.color="#"+i,i=e.shift(),this._textFieldOutline.outline=2*i,this._context.addChildAt(this._textFieldOutline,0),t=this._textFieldOutline),4==e.length&&(t.shadow=new createjs.Shadow("#"+u.hex(e[0],6),e[1],e[2],e[3])))}this._isCached&&this._context.cache(0,0,this.width,this.height),this._isDirty=!1},set_text:function(t){return null==t&&(t=""),this.text==t||(this.text=t,this._textField.text=this.text,null!=this._textFieldOutline&&(this._textFieldOutline.text=this.text),this._isDirty=!0),this.text},__class__:zt});function Kt(t,e,i,s){Ut.call(this,t,e,i,s)}(e["awe6.core.drivers.flash.View"]=Kt).__name__="awe6.core.drivers.flash.View",Kt.__super__=Ut,Kt.prototype=t(Ut.prototype,{_init:function(){null==this.context&&(this.context=new createjs.Container),Ut.prototype._init.call(this)},_driverDisposer:function(){null!=this.context.parent&&this.context.parent.removeChild(this.context)},_driverDraw:function(){null!=this._container&&null!=this._container.parent&&this._container.parent.removeChild(this._container),this._container=new createjs.Container,this._container.mouseEnabled=!1,this.context.addChild(this._container);for(var t=this._children,e=0;e<t.length;){var i=t[e];++e,i.isVisible&&this._container.addChild(i.context)}},set_x:function(t){return this.context.x=t,Ut.prototype.set_x.call(this,t)},set_y:function(t){return this.context.y=t,Ut.prototype.set_y.call(this,t)},__class__:Kt});function Xt(t,e,i){null==i&&(i=1e3),this._callbackFunction=e,this._duration=i,y.call(this,t)}(e["awe6.extras.Delay"]=Xt).__name__="awe6.extras.Delay",Xt.__super__=y,Xt.prototype=t(y.prototype,{_updater:function(t){null==t&&(t=0),y.prototype._updater.call(this,t),this._duration-=t,this._duration<=0&&(null!=this._callbackFunction&&this._callbackFunction(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:Xt});function Wt(t){this._context=new createjs.Container,this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,this._context.mouseChildren=!1,this._context.mouseEnabled=!1,y.call(this,t,null,this._context)}var Qt=T["awe6.interfaces.EAgenda"]={__ename__:"awe6.interfaces.EAgenda",__constructs__:["ALWAYS","BIRTH","DEATH","STANDARD","ATTACK","DEFEND","SUB_TYPE"],ALWAYS:{_hx_index:0,__enum__:"awe6.interfaces.EAgenda",toString:i},BIRTH:{_hx_index:1,__enum__:"awe6.interfaces.EAgenda",toString:i},DEATH:{_hx_index:2,__enum__:"awe6.interfaces.EAgenda",toString:i},STANDARD:{_hx_index:3,__enum__:"awe6.interfaces.EAgenda",toString:i},ATTACK:{_hx_index:4,__enum__:"awe6.interfaces.EAgenda",toString:i},DEFEND:{_hx_index:5,__enum__:"awe6.interfaces.EAgenda",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:6,value:t,__enum__:"awe6.interfaces.EAgenda",toString:i}}).__params__=["value"],l)},Yt=T["awe6.interfaces.EAudioChannel"]={__ename__:"awe6.interfaces.EAudioChannel",__constructs__:["DEFAULT","EFFECTS","INTERFACE","MUSIC","SUB_TYPE"],DEFAULT:{_hx_index:0,__enum__:"awe6.interfaces.EAudioChannel",toString:i},EFFECTS:{_hx_index:1,__enum__:"awe6.interfaces.EAudioChannel",toString:i},INTERFACE:{_hx_index:2,__enum__:"awe6.interfaces.EAudioChannel",toString:i},MUSIC:{_hx_index:3,__enum__:"awe6.interfaces.EAudioChannel",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:4,value:t,__enum__:"awe6.interfaces.EAudioChannel",toString:i}}).__params__=["value"],l)},Zt=T["awe6.interfaces.EFullScreen"]={__ename__:"awe6.interfaces.EFullScreen",__constructs__:["DISABLED","NO_SCALE","SCALE_ASPECT_RATIO_IGNORE","SCALE_ASPECT_RATIO_PRESERVE","SCALE_NEAREST_MULTIPLE","SUB_TYPE"],DISABLED:{_hx_index:0,__enum__:"awe6.interfaces.EFullScreen",toString:i},NO_SCALE:{_hx_index:1,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_IGNORE:{_hx_index:2,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_ASPECT_RATIO_PRESERVE:{_hx_index:3,__enum__:"awe6.interfaces.EFullScreen",toString:i},SCALE_NEAREST_MULTIPLE:{_hx_index:4,__enum__:"awe6.interfaces.EFullScreen",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EFullScreen",toString:i}}).__params__=["value"],l)},qt=T["awe6.interfaces.EJoypadButton"]={__ename__:"awe6.interfaces.EJoypadButton",__constructs__:["FIRE","UP","RIGHT","DOWN","LEFT","PRIMARY","SECONDARY"],FIRE:{_hx_index:0,__enum__:"awe6.interfaces.EJoypadButton",toString:i},UP:{_hx_index:1,__enum__:"awe6.interfaces.EJoypadButton",toString:i},RIGHT:{_hx_index:2,__enum__:"awe6.interfaces.EJoypadButton",toString:i},DOWN:{_hx_index:3,__enum__:"awe6.interfaces.EJoypadButton",toString:i},LEFT:{_hx_index:4,__enum__:"awe6.interfaces.EJoypadButton",toString:i},PRIMARY:{_hx_index:5,__enum__:"awe6.interfaces.EJoypadButton",toString:i},SECONDARY:{_hx_index:6,__enum__:"awe6.interfaces.EJoypadButton",toString:i}},$t=T["awe6.interfaces.EJoypadTouch"]={__ename__:"awe6.interfaces.EJoypadTouch",__constructs__:["DISABLED","DPAD","JOYSTICK","SWIPE"],DISABLED:{_hx_index:0,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},DPAD:{_hx_index:1,__enum__:"awe6.interfaces.EJoypadTouch",toString:i},JOYSTICK:((l=function(t){return{_hx_index:2,distance:t,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}}).__params__=["distance"],l),SWIPE:((l=function(t){return{_hx_index:3,speed:t,__enum__:"awe6.interfaces.EJoypadTouch",toString:i}}).__params__=["speed"],l)},te=T["awe6.interfaces.EKey"]={__ename__:"awe6.interfaces.EKey",__constructs__:["NUM_LOCK","CLEAR","HELP","ALT","BACKSPACE","CAPS_LOCK","CONTROL","DELETE","DOWN","END","ENTER","ESCAPE","F1","F10","F11","F12","F13","F14","F15","F2","F3","F4","F5","F6","F7","F8","F9","HOME","INSERT","LEFT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","RIGHT","SHIFT","SPACE","TAB","UP","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","NUMBER_9","COLON","EQUALS","HYPHEN","SLASH","TILDE","SQUARELEFT","SQUARERIGHT","BACKSLASH","APOSTROPHE","TOPLEFT","SUB_TYPE"],NUM_LOCK:{_hx_index:0,__enum__:"awe6.interfaces.EKey",toString:i},CLEAR:{_hx_index:1,__enum__:"awe6.interfaces.EKey",toString:i},HELP:{_hx_index:2,__enum__:"awe6.interfaces.EKey",toString:i},ALT:{_hx_index:3,__enum__:"awe6.interfaces.EKey",toString:i},BACKSPACE:{_hx_index:4,__enum__:"awe6.interfaces.EKey",toString:i},CAPS_LOCK:{_hx_index:5,__enum__:"awe6.interfaces.EKey",toString:i},CONTROL:{_hx_index:6,__enum__:"awe6.interfaces.EKey",toString:i},DELETE:{_hx_index:7,__enum__:"awe6.interfaces.EKey",toString:i},DOWN:{_hx_index:8,__enum__:"awe6.interfaces.EKey",toString:i},END:{_hx_index:9,__enum__:"awe6.interfaces.EKey",toString:i},ENTER:{_hx_index:10,__enum__:"awe6.interfaces.EKey",toString:i},ESCAPE:{_hx_index:11,__enum__:"awe6.interfaces.EKey",toString:i},F1:{_hx_index:12,__enum__:"awe6.interfaces.EKey",toString:i},F10:{_hx_index:13,__enum__:"awe6.interfaces.EKey",toString:i},F11:{_hx_index:14,__enum__:"awe6.interfaces.EKey",toString:i},F12:{_hx_index:15,__enum__:"awe6.interfaces.EKey",toString:i},F13:{_hx_index:16,__enum__:"awe6.interfaces.EKey",toString:i},F14:{_hx_index:17,__enum__:"awe6.interfaces.EKey",toString:i},F15:{_hx_index:18,__enum__:"awe6.interfaces.EKey",toString:i},F2:{_hx_index:19,__enum__:"awe6.interfaces.EKey",toString:i},F3:{_hx_index:20,__enum__:"awe6.interfaces.EKey",toString:i},F4:{_hx_index:21,__enum__:"awe6.interfaces.EKey",toString:i},F5:{_hx_index:22,__enum__:"awe6.interfaces.EKey",toString:i},F6:{_hx_index:23,__enum__:"awe6.interfaces.EKey",toString:i},F7:{_hx_index:24,__enum__:"awe6.interfaces.EKey",toString:i},F8:{_hx_index:25,__enum__:"awe6.interfaces.EKey",toString:i},F9:{_hx_index:26,__enum__:"awe6.interfaces.EKey",toString:i},HOME:{_hx_index:27,__enum__:"awe6.interfaces.EKey",toString:i},INSERT:{_hx_index:28,__enum__:"awe6.interfaces.EKey",toString:i},LEFT:{_hx_index:29,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_0:{_hx_index:30,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_1:{_hx_index:31,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_2:{_hx_index:32,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_3:{_hx_index:33,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_4:{_hx_index:34,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_5:{_hx_index:35,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_6:{_hx_index:36,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_7:{_hx_index:37,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_8:{_hx_index:38,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_9:{_hx_index:39,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ADD:{_hx_index:40,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DECIMAL:{_hx_index:41,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_DIVIDE:{_hx_index:42,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_ENTER:{_hx_index:43,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_MULTIPLY:{_hx_index:44,__enum__:"awe6.interfaces.EKey",toString:i},NUMPAD_SUBTRACT:{_hx_index:45,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_DOWN:{_hx_index:46,__enum__:"awe6.interfaces.EKey",toString:i},PAGE_UP:{_hx_index:47,__enum__:"awe6.interfaces.EKey",toString:i},RIGHT:{_hx_index:48,__enum__:"awe6.interfaces.EKey",toString:i},SHIFT:{_hx_index:49,__enum__:"awe6.interfaces.EKey",toString:i},SPACE:{_hx_index:50,__enum__:"awe6.interfaces.EKey",toString:i},TAB:{_hx_index:51,__enum__:"awe6.interfaces.EKey",toString:i},UP:{_hx_index:52,__enum__:"awe6.interfaces.EKey",toString:i},A:{_hx_index:53,__enum__:"awe6.interfaces.EKey",toString:i},B:{_hx_index:54,__enum__:"awe6.interfaces.EKey",toString:i},C:{_hx_index:55,__enum__:"awe6.interfaces.EKey",toString:i},D:{_hx_index:56,__enum__:"awe6.interfaces.EKey",toString:i},E:{_hx_index:57,__enum__:"awe6.interfaces.EKey",toString:i},F:{_hx_index:58,__enum__:"awe6.interfaces.EKey",toString:i},G:{_hx_index:59,__enum__:"awe6.interfaces.EKey",toString:i},H:{_hx_index:60,__enum__:"awe6.interfaces.EKey",toString:i},I:{_hx_index:61,__enum__:"awe6.interfaces.EKey",toString:i},J:{_hx_index:62,__enum__:"awe6.interfaces.EKey",toString:i},K:{_hx_index:63,__enum__:"awe6.interfaces.EKey",toString:i},L:{_hx_index:64,__enum__:"awe6.interfaces.EKey",toString:i},M:{_hx_index:65,__enum__:"awe6.interfaces.EKey",toString:i},N:{_hx_index:66,__enum__:"awe6.interfaces.EKey",toString:i},O:{_hx_index:67,__enum__:"awe6.interfaces.EKey",toString:i},P:{_hx_index:68,__enum__:"awe6.interfaces.EKey",toString:i},Q:{_hx_index:69,__enum__:"awe6.interfaces.EKey",toString:i},R:{_hx_index:70,__enum__:"awe6.interfaces.EKey",toString:i},S:{_hx_index:71,__enum__:"awe6.interfaces.EKey",toString:i},T:{_hx_index:72,__enum__:"awe6.interfaces.EKey",toString:i},U:{_hx_index:73,__enum__:"awe6.interfaces.EKey",toString:i},V:{_hx_index:74,__enum__:"awe6.interfaces.EKey",toString:i},W:{_hx_index:75,__enum__:"awe6.interfaces.EKey",toString:i},X:{_hx_index:76,__enum__:"awe6.interfaces.EKey",toString:i},Y:{_hx_index:77,__enum__:"awe6.interfaces.EKey",toString:i},Z:{_hx_index:78,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_0:{_hx_index:79,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_1:{_hx_index:80,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_2:{_hx_index:81,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_3:{_hx_index:82,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_4:{_hx_index:83,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_5:{_hx_index:84,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_6:{_hx_index:85,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_7:{_hx_index:86,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_8:{_hx_index:87,__enum__:"awe6.interfaces.EKey",toString:i},NUMBER_9:{_hx_index:88,__enum__:"awe6.interfaces.EKey",toString:i},COLON:{_hx_index:89,__enum__:"awe6.interfaces.EKey",toString:i},EQUALS:{_hx_index:90,__enum__:"awe6.interfaces.EKey",toString:i},HYPHEN:{_hx_index:91,__enum__:"awe6.interfaces.EKey",toString:i},SLASH:{_hx_index:92,__enum__:"awe6.interfaces.EKey",toString:i},TILDE:{_hx_index:93,__enum__:"awe6.interfaces.EKey",toString:i},SQUARELEFT:{_hx_index:94,__enum__:"awe6.interfaces.EKey",toString:i},SQUARERIGHT:{_hx_index:95,__enum__:"awe6.interfaces.EKey",toString:i},BACKSLASH:{_hx_index:96,__enum__:"awe6.interfaces.EKey",toString:i},APOSTROPHE:{_hx_index:97,__enum__:"awe6.interfaces.EKey",toString:i},TOPLEFT:{_hx_index:98,__enum__:"awe6.interfaces.EKey",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:99,value:t,__enum__:"awe6.interfaces.EKey",toString:i}}).__params__=["value"],l)},ee=T["awe6.interfaces.EMessage"]={__ename__:"awe6.interfaces.EMessage",__constructs__:["DISPOSE","INIT","PAUSE","RESUME","SUB_TYPE"],DISPOSE:{_hx_index:0,__enum__:"awe6.interfaces.EMessage",toString:i},INIT:{_hx_index:1,__enum__:"awe6.interfaces.EMessage",toString:i},PAUSE:{_hx_index:2,__enum__:"awe6.interfaces.EMessage",toString:i},RESUME:{_hx_index:3,__enum__:"awe6.interfaces.EMessage",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:4,value:t,__enum__:"awe6.interfaces.EMessage",toString:i}}).__params__=["value"],l)},ie=T["awe6.interfaces.EMouseButton"]={__ename__:"awe6.interfaces.EMouseButton",__constructs__:["LEFT","MIDDLE","RIGHT"],LEFT:{_hx_index:0,__enum__:"awe6.interfaces.EMouseButton",toString:i},MIDDLE:{_hx_index:1,__enum__:"awe6.interfaces.EMouseButton",toString:i},RIGHT:{_hx_index:2,__enum__:"awe6.interfaces.EMouseButton",toString:i}},se=T["awe6.interfaces.EMouseCursor"]={__ename__:"awe6.interfaces.EMouseCursor",__constructs__:["ARROW","AUTO","BUTTON","HAND","IBEAM","SUB_TYPE"],ARROW:{_hx_index:0,__enum__:"awe6.interfaces.EMouseCursor",toString:i},AUTO:{_hx_index:1,__enum__:"awe6.interfaces.EMouseCursor",toString:i},BUTTON:{_hx_index:2,__enum__:"awe6.interfaces.EMouseCursor",toString:i},HAND:{_hx_index:3,__enum__:"awe6.interfaces.EMouseCursor",toString:i},IBEAM:{_hx_index:4,__enum__:"awe6.interfaces.EMouseCursor",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EMouseCursor",toString:i}}).__params__=["value"],l)},ne=T["awe6.interfaces.EOverlayButton"]={__ename__:"awe6.interfaces.EOverlayButton",__constructs__:["BACK","MUTE","UNMUTE","PAUSE","UNPAUSE","SUB_TYPE"],BACK:{_hx_index:0,__enum__:"awe6.interfaces.EOverlayButton",toString:i},MUTE:{_hx_index:1,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNMUTE:{_hx_index:2,__enum__:"awe6.interfaces.EOverlayButton",toString:i},PAUSE:{_hx_index:3,__enum__:"awe6.interfaces.EOverlayButton",toString:i},UNPAUSE:{_hx_index:4,__enum__:"awe6.interfaces.EOverlayButton",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:5,value:t,__enum__:"awe6.interfaces.EOverlayButton",toString:i}}).__params__=["value"],l)},_e=T["awe6.interfaces.EScene"]={__ename__:"awe6.interfaces.EScene",__constructs__:["SPLASH","INTRO","SELECT_SESSION","SELECT_STORY","SELECT_LEVEL","INSTRUCTIONS","SETTINGS","MENU","AVATAR","SHOP","REWARDS","LEADERBOARD","GAME","INTERSTITIAL","CINEMATIC","RESULTS","EXIT","TEST","SUB_TYPE"],SPLASH:{_hx_index:0,__enum__:"awe6.interfaces.EScene",toString:i},INTRO:{_hx_index:1,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_SESSION:{_hx_index:2,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_STORY:{_hx_index:3,__enum__:"awe6.interfaces.EScene",toString:i},SELECT_LEVEL:{_hx_index:4,__enum__:"awe6.interfaces.EScene",toString:i},INSTRUCTIONS:{_hx_index:5,__enum__:"awe6.interfaces.EScene",toString:i},SETTINGS:{_hx_index:6,__enum__:"awe6.interfaces.EScene",toString:i},MENU:{_hx_index:7,__enum__:"awe6.interfaces.EScene",toString:i},AVATAR:{_hx_index:8,__enum__:"awe6.interfaces.EScene",toString:i},SHOP:{_hx_index:9,__enum__:"awe6.interfaces.EScene",toString:i},REWARDS:{_hx_index:10,__enum__:"awe6.interfaces.EScene",toString:i},LEADERBOARD:{_hx_index:11,__enum__:"awe6.interfaces.EScene",toString:i},GAME:{_hx_index:12,__enum__:"awe6.interfaces.EScene",toString:i},INTERSTITIAL:{_hx_index:13,__enum__:"awe6.interfaces.EScene",toString:i},CINEMATIC:{_hx_index:14,__enum__:"awe6.interfaces.EScene",toString:i},RESULTS:{_hx_index:15,__enum__:"awe6.interfaces.EScene",toString:i},EXIT:{_hx_index:16,__enum__:"awe6.interfaces.EScene",toString:i},TEST:{_hx_index:17,__enum__:"awe6.interfaces.EScene",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:18,value:t,__enum__:"awe6.interfaces.EScene",toString:i}}).__params__=["value"],l)},re=T["awe6.interfaces.ETextAlign"]={__ename__:"awe6.interfaces.ETextAlign",__constructs__:["JUSTIFY","LEFT","CENTER","RIGHT"],JUSTIFY:{_hx_index:0,__enum__:"awe6.interfaces.ETextAlign",toString:i},LEFT:{_hx_index:1,__enum__:"awe6.interfaces.ETextAlign",toString:i},CENTER:{_hx_index:2,__enum__:"awe6.interfaces.ETextAlign",toString:i},RIGHT:{_hx_index:3,__enum__:"awe6.interfaces.ETextAlign",toString:i}},ae=T["awe6.interfaces.ETextStyle"]={__ename__:"awe6.interfaces.ETextStyle",__constructs__:["BUTTON","BODY","HEADLINE","SUBHEAD","SMALLPRINT","OVERSIZED","SUB_TYPE"],BUTTON:{_hx_index:0,__enum__:"awe6.interfaces.ETextStyle",toString:i},BODY:{_hx_index:1,__enum__:"awe6.interfaces.ETextStyle",toString:i},HEADLINE:{_hx_index:2,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUBHEAD:{_hx_index:3,__enum__:"awe6.interfaces.ETextStyle",toString:i},SMALLPRINT:{_hx_index:4,__enum__:"awe6.interfaces.ETextStyle",toString:i},OVERSIZED:{_hx_index:5,__enum__:"awe6.interfaces.ETextStyle",toString:i},SUB_TYPE:((l=function(t){return{_hx_index:6,value:t,__enum__:"awe6.interfaces.ETextStyle",toString:i}}).__params__=["value"],l)};(e["b10ath.AEntity"]=Wt).__name__="b10ath.AEntity",Wt.__super__=y,Wt.prototype=t(y.prototype,{__class__:Wt});function oe(t){this._kernel=t,this._tools=this._kernel.tools,this._session=this._kernel.get_session(),this._assets=this._kernel.assets,this._factory=t.factory}(e["b10ath.AVo"]=oe).__name__="b10ath.AVo",oe.prototype={__class__:oe};function he(t){It.call(this,t)}(e["b10ath.AssetManager"]=he).__name__="b10ath.AssetManager",he.__super__=It,he.prototype=t(It.prototype,{_init:function(){It.prototype._init.call(this),this._factory=this._kernel.factory,this.overlayPauseUp=this._createView(ue.OVERLAY_PAUSE_UP),this.overlayPauseOver=this._createView(ue.OVERLAY_PAUSE_OVER)},get_buttonOver:function(){return this._createView(ue.BUTTON_OVER)},get_buttonUp:function(){return this._createView(ue.BUTTON_UP)},get_buttonSmallOver:function(){return this._createView(ue.BUTTON_SMALL_OVER)},get_buttonSmallUp:function(){return this._createView(ue.BUTTON_SMALL_UP)},_createView:function(t){var e,i=new createjs.Container,s=new createjs.Bitmap(this.getAsset("assets/gui/Buttons.png"));switch(t._hx_index){case 0:e=new createjs.Rectangle(0,0,200,65);break;case 1:e=new createjs.Rectangle(200,0,200,65);break;case 2:e=new createjs.Rectangle(400,65,100,30);break;case 3:e=new createjs.Rectangle(400,95,100,30);break;case 4:e=new createjs.Rectangle(0,65,65,65);break;case 5:e=new createjs.Rectangle(65,65,65,65);break;case 6:e=new createjs.Rectangle(130,65,65,65);break;case 7:e=new createjs.Rectangle(195,65,65,65);break;case 8:e=new createjs.Rectangle(400,0,50,50);break;case 9:e=new createjs.Rectangle(450,0,50,50)}return s.sourceRect=e,s.cache(0,0,s.sourceRect.width,s.sourceRect.height),i.addChild(s),new Jt(this._kernel,i)},__class__:he});function le(t,e,i){this.COLOR_YELLOW=16776960,this.COLOR_GREY=5789784,this.COLOR_BLACK=0,this.COLOR_WHITE=16777215,this.TEXTSTYLE_PANEL_TITLE=ae.SUB_TYPE("PANEL_TITLE"),this.TEXTSTYLE_PANEL_STATS=ae.SUB_TYPE("PANEL_STATS"),this.TEXTSTYLE_PANEL_MESSAGE=ae.SUB_TYPE("PANEL_MESSAGE"),this.TEXTSTYLE_HUD_TITLE=ae.SUB_TYPE("HUD_TITLE"),this.TEXTSTYLE_HUD_PROMPT=ae.SUB_TYPE("HUD_PROMPT"),this.TEXTSTYLE_HUD_CURRENT=ae.SUB_TYPE("HUD_CURRENT"),this.TEXTSTYLE_HUD_COINS=ae.SUB_TYPE("HUD_COINS"),this.TEXTSTYLE_HUD_ALERT=ae.SUB_TYPE("HUD_ALERT"),Nt.call(this,t,e,i)}var ue=T["b10ath.EAsset"]={__ename__:"b10ath.EAsset",__constructs__:["BUTTON_UP","BUTTON_OVER","BUTTON_SMALL_UP","BUTTON_SMALL_OVER","BUTTON_TWITTER_UP","BUTTON_TWITTER_OVER","BUTTON_FACEBOOK_UP","BUTTON_FACEBOOK_OVER","OVERLAY_PAUSE_UP","OVERLAY_PAUSE_OVER"],BUTTON_UP:{_hx_index:0,__enum__:"b10ath.EAsset",toString:i},BUTTON_OVER:{_hx_index:1,__enum__:"b10ath.EAsset",toString:i},BUTTON_SMALL_UP:{_hx_index:2,__enum__:"b10ath.EAsset",toString:i},BUTTON_SMALL_OVER:{_hx_index:3,__enum__:"b10ath.EAsset",toString:i},BUTTON_TWITTER_UP:{_hx_index:4,__enum__:"b10ath.EAsset",toString:i},BUTTON_TWITTER_OVER:{_hx_index:5,__enum__:"b10ath.EAsset",toString:i},BUTTON_FACEBOOK_UP:{_hx_index:6,__enum__:"b10ath.EAsset",toString:i},BUTTON_FACEBOOK_OVER:{_hx_index:7,__enum__:"b10ath.EAsset",toString:i},OVERLAY_PAUSE_UP:{_hx_index:8,__enum__:"b10ath.EAsset",toString:i},OVERLAY_PAUSE_OVER:{_hx_index:9,__enum__:"b10ath.EAsset",toString:i}};(e["b10ath.Factory"]=le).__name__="b10ath.Factory",le.__super__=Nt,le.prototype=t(Nt.prototype,{_configurer:function(t){var e;null==t&&(t=!1),t&&(this.id="b10ath",e="1",null!=Fi.getString("revision")&&(e=Fi.getString("revision").split("\r\n")[0]),this.version="1.0."+e+"-pok",this.author="https://b10b.com",this.isDecached=!1,this.width=720,this.height=405,this.joypadTouchType=$t.DISABLED,this.bgColor=0,this.startingSceneType=_e.INTRO,this.targetFramerate=30,this.isFixedUpdates=!0)},_launchKernel:function(){Nt.prototype._launchKernel.call(this),this._kernel.set_session(this.createSession("defaultSessionId"))},createAssetManager:function(){return null==this._assets&&(this._assets=new he(this._kernel)),this._assets},createLogger:function(){var t=I.string(this._kernel.getConfig("settings.googleAnalytics.id"));return""!=t?new ce(this._kernel,t):Nt.prototype.createLogger.call(this)},createOverlay:function(){return new di(this._kernel)},createPreloader:function(){return new pe(this._kernel,this._getAssetUrls(),this.isDecached)},createScene:function(t){switch(this._kernel.log("scene: "+I.string(t)),t._hx_index){case 1:return new Ui(this._kernel,t);case 4:return new Ni(this._kernel,t);case 5:return new Ci(this._kernel,t);case 7:return new Ii(this._kernel,t);case 8:return new Ai(this._kernel,t);case 9:return new Di(this._kernel,t);case 12:return new ki(this._kernel,t);case 15:return new Pi(this._kernel,t)}return Nt.prototype.createScene.call(this,t)},createSceneTransition:function(t,e){return new Ri(this._kernel)},createSession:function(t){return new ge(this._kernel,t)},createTextStyle:function(t){null==t&&(t=ae.BODY);var e,i=this._kernel.getConfig("settings.font.name");if(null==t)e=new W(i,12,8421504);else switch(t._hx_index){case 0:e=new W(i,18,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case 1:e=new W(i,16,this.COLOR_BLACK,!1,!1,re.LEFT,0,18,0,[]);break;case 2:e=new W(i,22,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case 3:e=new W(i,22,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case 4:e=new W("Arial",11,this.COLOR_GREY,!1,!1,re.CENTER,0,0,0,[]);break;case 5:e=new W(i,44,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case 6:switch(t.value){case"HUD_ALERT":e=new W(i,50,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[0,4]);break;case"HUD_COINS":e=new W(i,22,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"HUD_CURRENT":e=new W(i,45,this.COLOR_WHITE,!1,!1,re.LEFT,0,0,0,[]);break;case"HUD_PROMPT":e=new W(i,18,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[0,2]);break;case"HUD_SCORE":e=new W(i,22,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case"HUD_SKILL":e=new W(i,18,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[0,2]);break;case"HUD_TIMING":e=new W(i,14,this.COLOR_YELLOW,!1,!1,re.CENTER,0,0,0,[0,2]);break;case"HUD_TITLE":e=new W(i,12,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PANEL_MESSAGE":e=new W(i,12,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;case"PANEL_STATS":e=new W(i,12,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PANEL_TITLE":e=new W(i,19,this.COLOR_WHITE,!1,!1,re.RIGHT,0,0,0,[]);break;case"PRELOADER":e=new W(i,14,this.COLOR_WHITE,!1,!1,re.CENTER,0,0,0,[]);break;default:e=null}}return e},getBackSceneType:function(t){switch(t._hx_index){case 4:return _e.AVATAR;case 12:return _e.SELECT_LEVEL;case 5:case 8:case 9:case 13:case 15:return _e.MENU}return Nt.prototype.getBackSceneType.call(this,t)},getNextSceneType:function(t){switch(t._hx_index){case 1:return _e.MENU;case 4:return _e.GAME;case 5:case 7:return _e.AVATAR;case 8:case 9:return _e.SELECT_LEVEL;case 12:return _e.RESULTS;case 13:case 15:return _e.SHOP}return Nt.prototype.getNextSceneType.call(this,t)},__class__:le});var ce=function(t,e){if(this._kernel=t,this._id=e,this._factory=this._kernel.factory,this._isTrackerEnabled=!t.isLocal&&"true"==t.getConfig("settings.googleAnalytics.enabled"),this._isTrackerEnabled)try{this._gaLib=ga,this._gaLib("create",this._id,"auto"),this._gaLib("send","pageview"),Bi.trace("Google Analytics enabled with property ID "+this._id,{fileName:"src/b10ath/LoggerGoogleAnalytics.hx",lineNumber:40,className:"b10ath.LoggerGoogleAnalytics",methodName:"new"})}catch(t){this._isTrackerEnabled=!1,Bi.trace("Google Analytics failed with property ID "+this._id,{fileName:"src/b10ath/LoggerGoogleAnalytics.hx",lineNumber:45,className:"b10ath.LoggerGoogleAnalytics",methodName:"new"})}};(e["b10ath.LoggerGoogleAnalytics"]=ce).__name__="b10ath.LoggerGoogleAnalytics",ce.__interfaces__=[ct],ce.prototype={log:function(t){U.substr(I.string(t),0,25);var e=I.string(t).split(": ");this._isTrackerEnabled?this._gaLib("send",{hitType:"event",eventCategory:e[0],eventAction:e[1],eventLabel:e[2]}):Bi.trace("Logger:"+I.string([e[0],e[1],e[2]]),{fileName:"src/b10ath/LoggerGoogleAnalytics.hx",lineNumber:65,className:"b10ath.LoggerGoogleAnalytics",methodName:"log"})},__class__:ce};function de(){}(e["b10ath.Main"]=de).__name__="b10ath.Main",de.main=function(){var t,e=window.document.getElementById("gameCanvas"),i=de.getParams().h.lang;null!=i&&(t="assets/__Config_"+i+".xml",e.setAttribute("config",t));var s=new createjs.Stage(e),n=new createjs.Container;s.addChild(n),de.factory=new le(n,!1,Fi.getString("config"))},de.getParams=function(){for(var t=U.substr(p.location.search,1,null),e=new ts,i=0,s=new g("[&;]","g").split(t);i<s.length;){var n=s[i];++i;var _,r,a,o,h=n.split("=");h.length<2||(_=h.shift(),r=decodeURIComponent(_.split("+").join(" ")),a=h.join("="),o=decodeURIComponent(a.split("+").join(" ")),e.h[r]=o)}return e};var pe=function(t,e,i){Ft.call(this,t,e,i)};(e["b10ath.Preloader"]=pe).__name__="b10ath.Preloader",pe.__super__=Ft,pe.prototype=t(Ft.prototype,{_init:function(){this._factory=this._kernel.factory,this._session=this._kernel.get_session(),this._proprietaryAudioFormat="m4a";var t=new createjs.Bitmap("assets/__PreloaderBg.png");Ft.prototype._init.call(this);this._bg=new createjs.Shape,this._bg.graphics.beginFill("#404040"),this._bg.graphics.drawRoundRect(-2,-2,204,14,4),this._bg.graphics.endFill(),this._fg=new createjs.Shape,this._fg.graphics.beginFill("#ffffff"),this._fg.graphics.drawRoundRect(0,0,200,10,4),this._fg.graphics.endFill(),this._bg.x=this._fg.x=.5*(this._kernel.factory.width-200),this._bg.y=this._fg.y=this._kernel.factory.height-20-10-2,this._context.addChild(t),this._context.addChild(this._bg),this._context.addChild(this._fg),this._session.get_poki().loadingStart()},_updater:function(t){null==t&&(t=0),Ft.prototype._updater.call(this,t),this._fg.scaleX=this.get_progress()},_showAudioHoldMessage:function(){var t=new vi(this._kernel,this._kernel.factory.width,20,I.string(this._kernel.getConfig("gui.audioHoldMessage")).toUpperCase(),this._kernel.factory.createTextStyle(ae.SUB_TYPE("PRELOADER")));t.setPosition(0,this._bg.y-6),this.get_view().addChild(t.get_view()),this._context.removeChild(this._bg),this._context.removeChild(this._fg)},_onComplete:function(t){this._session.get_poki().loadingStop(),Ft.prototype._onComplete.call(this,t)},__class__:pe});var ge=function(t,e){Ht.call(this,t,e)};(e["b10ath.Session"]=ge).__name__="b10ath.Session",ge.__super__=Ht,ge.prototype=t(Ht.prototype,{get_poki:function(){return ge._poki},_init:function(){this._version=1,Ht.prototype._init.call(this)},_getter:function(){Ht.prototype._getter.call(this),this._upgradeMovementUnitA=this._getValidatedInteger(this._data.upgradeMovementUnitA),this._upgradeTimingUnitA=this._getValidatedInteger(this._data.upgradeTimingUnitA),this._upgradePowerUnitA=this._getValidatedInteger(this._data.upgradePowerUnitA),this._upgradeStaminaUnitA=this._getValidatedInteger(this._data.upgradeStaminaUnitA),this._medalLevel1UnitA=this._getValidatedInteger(this._data.medalLevel1UnitA),this._medalLevel2UnitA=this._getValidatedInteger(this._data.medalLevel2UnitA),this._medalLevel3UnitA=this._getValidatedInteger(this._data.medalLevel3UnitA),this._coinsUnitA=this._getValidatedInteger(this._data.coinsUnitA),this._upgradeMovementUnitB=this._getValidatedInteger(this._data.upgradeMovementUnitB),this._upgradeTimingUnitB=this._getValidatedInteger(this._data.upgradeTimingUnitB),this._upgradePowerUnitB=this._getValidatedInteger(this._data.upgradePowerUnitB),this._upgradeStaminaUnitB=this._getValidatedInteger(this._data.upgradeStaminaUnitB),this._medalLevel1UnitB=this._getValidatedInteger(this._data.medalLevel1UnitB),this._medalLevel2UnitB=this._getValidatedInteger(this._data.medalLevel2UnitB),this._medalLevel3UnitB=this._getValidatedInteger(this._data.medalLevel3UnitB),this._coinsUnitB=this._getValidatedInteger(this._data.coinsUnitB)},_getValidatedInteger:function(t){return null==t||isNaN(t)?0:t},_setter:function(){Ht.prototype._setter.call(this),this._data.upgradeMovementUnitA=this._upgradeMovementUnitA,this._data.upgradeTimingUnitA=this._upgradeTimingUnitA,this._data.upgradePowerUnitA=this._upgradePowerUnitA,this._data.upgradeStaminaUnitA=this._upgradeStaminaUnitA,this._data.medalLevel1UnitA=this._medalLevel1UnitA,this._data.medalLevel2UnitA=this._medalLevel2UnitA,this._data.medalLevel3UnitA=this._medalLevel3UnitA,this._data.coinsUnitA=this._coinsUnitA,this._data.upgradeMovementUnitB=this._upgradeMovementUnitB,this._data.upgradeTimingUnitB=this._upgradeTimingUnitB,this._data.upgradePowerUnitB=this._upgradePowerUnitB,this._data.upgradeStaminaUnitB=this._upgradeStaminaUnitB,this._data.medalLevel1UnitB=this._medalLevel1UnitB,this._data.medalLevel2UnitB=this._medalLevel2UnitB,this._data.medalLevel3UnitB=this._medalLevel3UnitB,this._data.coinsUnitB=this._coinsUnitB},_resetter:function(){Ht.prototype._resetter.call(this),this.cache=new fe(this._kernel),null==ge._poki&&(ge._poki=new me(this._kernel)),this.resetUnit(Ie.UNIT_A),this.resetUnit(Ie.UNIT_B)},resetUnit:function(t){switch(t._hx_index){case 0:this._upgradeMovementUnitA=0,this._upgradeTimingUnitA=0,this._upgradePowerUnitA=0,this._upgradeStaminaUnitA=0,this._medalLevel1UnitA=0,this._medalLevel2UnitA=0,this._medalLevel3UnitA=0,this._coinsUnitA=0;break;case 1:this._upgradeMovementUnitB=0,this._upgradeTimingUnitB=0,this._upgradePowerUnitB=0,this._upgradeStaminaUnitB=0,this._medalLevel1UnitB=0,this._medalLevel2UnitB=0,this._medalLevel3UnitB=0,this._coinsUnitB=0}},setCoins:function(t,e){switch(null==t&&(t=this.cache.unitType),t._hx_index){case 0:return this._coinsUnitA=e;case 1:return this._coinsUnitB=e}},getCoins:function(t){var e;switch(null==t&&(t=this.cache.unitType),t._hx_index){case 0:e=this._coinsUnitA;break;case 1:e=this._coinsUnitB}return 0|Math.min(999999,e)},setMedal:function(t,e,i){switch(null==e&&(e=this.cache.unitType),e._hx_index){case 0:switch(t._hx_index){case 0:this._medalLevel1UnitA=0|Math.max(this._medalLevel1UnitA,i._hx_index);break;case 1:this._medalLevel2UnitA=0|Math.max(this._medalLevel2UnitA,i._hx_index);break;case 2:this._medalLevel3UnitA=0|Math.max(this._medalLevel3UnitA,i._hx_index)}break;case 1:switch(t._hx_index){case 0:this._medalLevel1UnitB=0|Math.max(this._medalLevel1UnitB,i._hx_index);break;case 1:this._medalLevel2UnitB=0|Math.max(this._medalLevel2UnitB,i._hx_index);break;case 2:this._medalLevel3UnitB=0|Math.max(this._medalLevel3UnitB,i._hx_index)}}},getMedal:function(t,e){switch(null==e&&(e=this.cache.unitType),e._hx_index){case 0:switch(t._hx_index){case 0:return A.createEnumIndex(ke,this._medalLevel1UnitA,null);case 1:return A.createEnumIndex(ke,this._medalLevel2UnitA,null);case 2:return A.createEnumIndex(ke,this._medalLevel3UnitA,null)}break;case 1:switch(t._hx_index){case 0:return A.createEnumIndex(ke,this._medalLevel1UnitB,null);case 1:return A.createEnumIndex(ke,this._medalLevel2UnitB,null);case 2:return A.createEnumIndex(ke,this._medalLevel3UnitB,null)}}},setUpgrade:function(t,e,i){switch(null==e&&(e=this.cache.unitType),i<0&&(i=0),8<i&&(i=8),e._hx_index){case 0:switch(t._hx_index){case 0:this._upgradeMovementUnitA=i;break;case 1:this._upgradeTimingUnitA=i;break;case 2:this._upgradePowerUnitA=i;break;case 3:this._upgradeStaminaUnitA=i}break;case 1:switch(t._hx_index){case 0:this._upgradeMovementUnitB=i;break;case 1:this._upgradeTimingUnitB=i;break;case 2:this._upgradePowerUnitB=i;break;case 3:this._upgradeStaminaUnitB=i}}},getUpgrade:function(t,e){switch(null==e&&(e=this.cache.unitType),e._hx_index){case 0:switch(t._hx_index){case 0:return this._upgradeMovementUnitA;case 1:return this._upgradeTimingUnitA;case 2:return this._upgradePowerUnitA;case 3:return this._upgradeStaminaUnitA}break;case 1:switch(t._hx_index){case 0:return this._upgradeMovementUnitB;case 1:return this._upgradeTimingUnitB;case 2:return this._upgradePowerUnitB;case 3:return this._upgradeStaminaUnitB}}},getUpgradeTitle:function(t){var e;switch(t._hx_index){case 0:e="gui.upgrades.movement";break;case 1:e="gui.upgrades.timing";break;case 2:e="gui.upgrades.power";break;case 3:e="gui.upgrades.stamina"}return I.string(this._kernel.getConfig(e)).toUpperCase()},getMedalTitle:function(t){var e;switch(t._hx_index){case 0:e="gui.medals.none";break;case 1:e="gui.medals.bronze";break;case 2:e="gui.medals.silver";break;case 3:e="gui.medals.gold"}return I.string(this._kernel.getConfig(e)).toUpperCase()},setIsTester:function(t){this._isTester=t},get_isTester:function(){return!!this._kernel.isDebug||this._isTester},getMedalFromScore:function(t,e,i,s,n){if(e){if(t<=i)return ke.MEDAL_GOLD;if(t<=s)return ke.MEDAL_SILVER;if(t<=n)return ke.MEDAL_BRONZE}else{if(i<=t)return ke.MEDAL_GOLD;if(s<=t)return ke.MEDAL_SILVER;if(n<=t)return ke.MEDAL_BRONZE}return ke.MEDAL_NONE},__class__:ge});var fe=function(t){this.retries=0,this._kernel=t,this.totalPlays=0,this.debugMessage="",this.unitType=Ie.UNIT_A,this.levelType=be.LEVEL_1,this.reset()};(e["b10ath._Session._HelperCache"]=fe).__name__="b10ath._Session._HelperCache",fe.prototype={reset:function(){this.medalType=ke.MEDAL_NONE},__class__:fe};var me=function(t){this._wasMute=!1,this.isEnabled=!1,this._kernel=t;try{this._sdk=window.PokiSDK,null!=this._sdk&&(this._sdk.init(),this._sdk.setDebug(!1),this.isEnabled=!0)}catch(t){var e=Li.caught(t).unwrap();this.isEnabled=!1,Bi.trace(e,{fileName:"src/b10ath/Session.hx",lineNumber:376,className:"b10ath._Session._HelperPoki",methodName:"new"})}Bi.trace("Poki SDK is "+(this.isEnabled?"enabled":"disabled"),{fileName:"src/b10ath/Session.hx",lineNumber:378,className:"b10ath._Session._HelperPoki",methodName:"new"})};(e["b10ath._Session._HelperPoki"]=me).__name__="b10ath._Session._HelperPoki",me.prototype={loadingStart:function(){Bi.trace("loadingStart",{fileName:"src/b10ath/Session.hx",lineNumber:383,className:"b10ath._Session._HelperPoki",methodName:"loadingStart"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameLoadingStart&&this._sdk.gameLoadingStart()},loadingStop:function(){Bi.trace("loadingStop",{fileName:"src/b10ath/Session.hx",lineNumber:391,className:"b10ath._Session._HelperPoki",methodName:"loadingStop"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameLoadingFinished&&this._sdk.gameLoadingFinished()},gameplayStart:function(){Bi.trace("gameplayStart",{fileName:"src/b10ath/Session.hx",lineNumber:399,className:"b10ath._Session._HelperPoki",methodName:"gameplayStart"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameplayStart&&this._sdk.gameplayStart()},gameplayStop:function(){Bi.trace("gameplayStop",{fileName:"src/b10ath/Session.hx",lineNumber:407,className:"b10ath._Session._HelperPoki",methodName:"gameplayStop"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.gameplayStop&&this._sdk.gameplayStop()},happyTime:function(t){Bi.trace("happyTime",{fileName:"src/b10ath/Session.hx",lineNumber:415,className:"b10ath._Session._HelperPoki",methodName:"happyTime"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.happyTime&&this._sdk.happyTime(t)},commercialBreak:function(t){var e,i=this;Bi.trace("commercialBreak",{fileName:"src/b10ath/Session.hx",lineNumber:423,className:"b10ath._Session._HelperPoki",methodName:"commercialBreak"}),this.isEnabled&&null!=this._sdk&&null!=this._sdk.commercialBreak?(this._wasMute=this._kernel.audio.isMute,this._kernel.audio.set_isMute(!0),createjs.Ticker.setPaused(!0),Bi.trace("Commercial break starting",{fileName:"src/b10ath/Session.hx",lineNumber:429,className:"b10ath._Session._HelperPoki",methodName:"commercialBreak"}),e=function(){i._kernel.audio.set_isMute(i._wasMute),createjs.Ticker.setPaused(!1),null!=t&&t()},this._sdk.commercialBreak().then(function(t){Bi.trace("Commercial break finished, proceeding to game",{fileName:"src/b10ath/Session.hx",lineNumber:439,className:"b10ath._Session._HelperPoki",methodName:"commercialBreak"}),e()}).catch(function(t){Bi.trace("Commercial break FAILED, proceeding to game",{fileName:"src/b10ath/Session.hx",lineNumber:444,className:"b10ath._Session._HelperPoki",methodName:"commercialBreak"}),e()})):t()},__class__:me};function ye(t,e,i,s){this._applauseVolume=.25,this.levelVo=e,this.hud=i,this._callbackScore=s,this.vo=new Ve(t,this.levelVo.locationType,this.levelVo.sportType),Wt.call(this,t)}(e["b10ath.game.ALocation"]=ye).__name__="b10ath.game.ALocation",ye.__super__=Wt,ye.prototype=t(Wt.prototype,{_getRenderables:function(){for(var t=[],e=0,i=this.getEntitiesByClass(we);e<i.length;){var s=i[e];++e,s.isRendered&&t.push(s)}return t},_getCameraTarget:function(){var t=this._kernel.inputs.mouse;return{x:t.relativeX*this.vo.width,y:0,z:(1-Math.pow(t.relativeY,.25))*this.vo.height}},setScore:function(t){this._callbackScore(t)},_init:function(){Wt.prototype._init.call(this),this.addEntity(this.camera=new Ee(this._kernel,this.vo.width,0,this.vo.height)),this.addEntity(this._renderer=new Je(this._kernel,this,this._kernel.factory.width,this._kernel.factory.height,ks(this,this._getRenderables)),null,!0),this._kernel.audio.start("Applause",Yt.EFFECTS,-1,0,.25),this._kernel.audio.start("GameStart",Yt.EFFECTS,1,0,.75),this._createAllScenery()},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t);var e=this._getCameraTarget();this.camera.setPosition(e.x,e.y,e.z);var i=e.x/this.vo.width;this._applauseVolume=.9*this._applauseVolume+.1*(1<i?1:i<.125?.125:i),this._kernel.audio.transform("Applause",Yt.EFFECTS,this._applauseVolume)},_disposer:function(){this._kernel.audio.stop("Applause",Yt.EFFECTS),Wt.prototype._disposer.call(this)},_createAllScenery:function(){},_createScenery:function(t,e,i,s){null==s&&(s=0),this.addEntity(new je(this._kernel,t,this,e,i,s))},_createDelay:function(t,e){var i;null!=this._delay&&((i=this._delay).isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer())),this.addEntity(this._delay=new Xt(this._kernel,t,e))},__class__:ye});var we=function(){};(e["b10ath.game.IRenderable"]=we).__name__="b10ath.game.IRenderable",we.__isInterface__=!0,we.prototype={__class__:we};function ve(t,e,i,s,n,_){null==_&&(_=1),null==n&&(n=0),null==s&&(s=0),this._score=0,this._isBulletTime=!1,this._isFinished=!1,this._isStarted=!1,this._inputs={isQuick:!1,wasQuick:!1,isSkill:!1,isSkillStarted:!1,skillMax:20,skillCount:0,skillTimeout:0,boost:0,seed:0,isPrompts:!1,momentumMinScale:.5,momentumMaxScale:1.6,penaltyBurndown:0},this._animation={pose:Ne.JUMP_IDLE,nextPose:Ne.JUMP_IDLE,defaultNextPose:Ne.JUMP_RUN,frameIndex:0,originX:.5},this._bias={movement:.5,timing:.5,power:.5,stamina:.5},this.isRendered=!0,this._location=e,this._controller=i,this._variant=_,this.position={x:s,y:n,z:0},Wt.call(this,t)}(e["b10ath.game.AUnit"]=ve).__name__="b10ath.game.AUnit",ve.__interfaces__=[we],ve.__super__=Wt,ve.prototype=t(Wt.prototype,{getTexture:function(){this._getIsAnimationComplete()&&this._nextAnimation();var t=this._unitVo.getFrameTypes(this._animation.pose),e=t[this._animation.frameIndex%t.length],i=this._unitVo.getFrame(e);return{source:i.image,x:i.rect.x,y:i.rect.y,width:i.rect.width,height:i.rect.height,originX:(205*this._animation.originX+i.regX)/i.rect.width,originY:(184.5+i.regY)/i.rect.height,scale:1.17,isFlip:!1,isAdd:!1,alpha:1,rotation:0}},getSpeed:function(){return this._isBulletTime?10:Math.sqrt(this._momentum.x*this._momentum.x+this._momentum.y*this._momentum.y)},setStrategy:function(t){this._strategy=t},setAnimation:function(t,e){null==e&&(e=!1),this._animation.nextPose=t,e&&this._nextAnimation()},_init:function(){Wt.prototype._init.call(this),this._isHuman=this._controller==Pe.HUMAN,this._unitVo=new We(this._kernel,this._session.cache.unitType,this._location.levelVo.sportType,this._isHuman?1:this._variant),this._strategy=De.WAITING,this._seed=I.random(10)+20,this._momentum={x:0,y:0,z:0},this._animation.originX=this._unitVo.sport==Ue.THROW?.65:.5;var t=this._controller;switch(t._hx_index){case 0:this._bias.movement=this._unitVo.getBias(15,20,Me.UPGRADE_MOVEMENT),this._bias.timing=this._unitVo.getBias(1,0,Me.UPGRADE_TIMING),this._bias.power=this._unitVo.getBias(.825,1,Me.UPGRADE_POWER),this._bias.stamina=this._unitVo.getBias(.95,1,Me.UPGRADE_STAMINA);break;case 1:var e=t.p_skill;this._bias.movement=this._unitVo.getBias(15,30,null,e),this._bias.timing=this._unitVo.getBias(1,0,null,e)}this._unitVo.sport!=Ue.SPRINT&&(this._bias.movement*=.85);var i=this._location.levelVo.isNew?40:0|this._unitVo.getBias(18,25,Me.UPGRADE_TIMING);this._inputs.skillMax=i,this._inputs.boost=.5*this._bias.movement,this._inputs.isPrompts=this._location.levelVo.isNew},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t),this._inputter(),this._mover(),this._animator()},_inputter:function(){var t,e,i,s,n,_,r,a,o,h,l,u,c;this._isHuman?(t=this._location.hud,e=this._kernel.inputs.joypad,i=this._kernel.inputs.mouse,s=e.getIsButtonPress(qt.LEFT),n=e.getIsButtonPress(qt.RIGHT),_=e.getIsButtonDown(qt.FIRE)||i.getIsButtonDown(),r=e.getIsButtonRelease(qt.FIRE)||i.getIsButtonRelease(),i.getIsButtonPress()&&100<i.y&&(s=s||i.x<.5*this._factory.width,n=n||i.x>.5*this._factory.width),!this._inputs.wasQuick&&this._inputs.isQuick&&t.configureQuick(!0,this._nextQuick()),this._inputs.wasQuick&&!this._inputs.isQuick&&(this._location.hud.configureQuick(!1),this._inputs.isPrompts&&this._location.hud.configurePrompt("",!0)),this._inputs.isQuick&&(this._inputs.isPrompts&&this._location.hud.configurePrompt(this._kernel.getConfig("gui.scenes.game.hud.prompts.quick"),!0),(s||n)&&(this._inputs.boost*=this._bias.stamina,t.activateQuick(s)?(t.configureQuick(!0,this._nextQuick()),this._momentum.x+=this._inputs.boost,this._inputs.penaltyBurndown*=.8,this._session.setCoins(null,this._session.getCoins()+1)):(a=this._inputs.penaltyBurndown+.2,this._inputs.penaltyBurndown=1<a?1:a<0?0:a,this._momentum.x*=1-this._inputs.penaltyBurndown)),l=this._isStarted?(a=this._momentum.x,o=this._bias.movement*this._inputs.momentumMinScale,(h=this._bias.movement*this._inputs.momentumMaxScale)<a?h:a<o?o:a):0,this._momentum.x=l),this._inputs.isSkill&&(this._inputs.isSkillStarted||(this._inputs.skillCount=0,this._inputs.skillTimeout++,this._inputs.isSkillStarted=_,this._inputs.isSkillStarted&&this._kernel.audio.start("SkillStart",Yt.EFFECTS,1,0,.5),this._inputs.isPrompts&&this._location.hud.configurePrompt(this._kernel.getConfig("gui.scenes.game.hud.prompts.skill.hold"),!0)),u=0,c=!this._inputs.isPrompts&&60<this._inputs.skillTimeout,this._location.hud.configureVignette(this._inputs.skillTimeout/60*2),(this._inputs.isSkillStarted||c)&&(_&&(this._inputs.skillCount++,this._inputs.isPrompts&&this._location.hud.configurePrompt(this._kernel.getConfig(this._unitVo.sport==Ue.JUMP?"gui.scenes.game.hud.prompts.skill.releaseJump":"gui.scenes.game.hud.prompts.skill.releaseThrow"),!0)),c&&(this._inputs.skillCount=this._inputs.skillMax+2),u=this._inputs.skillCount<=this._inputs.skillMax+1?this._inputs.skillCount/this._inputs.skillMax:-1,!r&&-1!=u||(this._inputs.isSkill=!1,this._inputs.isSkillStarted=!1,this._inputs.skillTimeout=0,this._location.hud.configureVignette(0),this._skillComplete(1<u?1:u<.5?.5:u))),t.configureSkill(u)),this._inputs.wasQuick=this._inputs.isQuick):this._momentum.x=this._isStarted?.975*this._momentum.x+2*this._bias.movement*.025:0},_mover:function(){this._isStarted&&(this._isBulletTime||((0!=this._momentum.z||0<this.position.z)&&(this._momentum.z-=1.5),this.position.x+=this._momentum.x,this.position.y+=this._momentum.y,this.position.z+=this._momentum.z,0==this.position.z&&(this._momentum.x*=.975,this._momentum.y*=.975,this._momentum.z*=.975)))},_animator:function(){this._isBulletTime||this._animation.frameIndex++},_skillComplete:function(t){},_nextAnimation:function(){this._animation.pose=this._animation.nextPose,this._animation.nextPose=this._animation.defaultNextPose,this._animation.frameIndex=0},_getIsAnimationComplete:function(){var t,e=this._unitVo.getFrameTypes(this._animation.pose);switch(this._animation.pose._hx_index){case 0:case 1:case 4:case 7:case 8:case 11:case 12:case 13:t=!0;break;default:t=!1}return t?(this._animation.frameIndex>=e.length&&(this._animation.frameIndex=e.length-1),!1):this._animation.frameIndex>=e.length},_nextQuick:function(){return this._unitVo.quicks[this._inputs.seed++%this._unitVo.quicks.length]},_createDelay:function(t,e){var i;null!=this._delay&&((i=this._delay).isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer())),this.addEntity(this._delay=new Xt(this._kernel,t,e))},__class__:ve});var Ee=function(t,e,i,s){this._shake={value:0,resistance:.9,dx:0,dy:0},this.x=e,this.y=i,this.z=s,Wt.call(this,t)};(e["b10ath.game.Camera"]=Ee).__name__="b10ath.game.Camera",Ee.__super__=Wt,Ee.prototype=t(Wt.prototype,{getPosition:function(t){return null==t&&(t=!1),{x:this.x+(t?5*this._shake.dx:0),y:this.y+(t?5*this._shake.dy:0),z:this.z+(t?5*this._shake.dy:0)}},setPosition:function(t,e,i){var s=null!=i&&80<i?.35:.05;this.x=this.x*(1-s)+t*s,this.y=this.y*(1-s)+e*s,null!=i&&(this.z=i)},_updater:function(t){var e,i;null==t&&(t=0),Wt.prototype._updater.call(this,t),0<this._shake.value&&(this._shake.value*=this._shake.resistance,this._shake.value<.1?(this._shake.value=0,this._shake.dx=0,this._shake.dy=0):(e=Math.random()*this._shake.value*20,i=Math.random()<.5?-1:1,this._shake.dx=e*i,e=Math.random()*this._shake.value*20,i=Math.random()<.5?-1:1,this._shake.dy=e*i))},createRenderableTransformFromWorldCoords:function(t,e,i,s){var n=-285/(e-285);return{x:(-.85*this.x+.98*t-722)*n+360,y:(550-i)*n-550+this.z,scale:s*n}},__class__:Ee});function Se(t,e,i,s,n){this.isRendered=!0,this._location=e,this.position={x:i,y:s,z:n},Wt.call(this,t)}(e["b10ath.game.Coin"]=Se).__name__="b10ath.game.Coin",Se.__interfaces__=[we],Se.__super__=Wt,Se.prototype=t(Wt.prototype,{getTexture:function(){return{source:this._source,x:32*this._frame,y:0,width:32,height:32,originX:.5,originY:1,scale:1.5,isFlip:!1,isAdd:!1,alpha:1-Math.pow(this._updates/80,15),rotation:0}},_init:function(){Wt.prototype._init.call(this);this._momentum={x:15*(2*Math.random()-1),y:15*(2*Math.random()-1),z:5*Math.random()},this._frame=0,this._seed=I.random(32),this._updates=this._seed,this._source=this._assets.getAsset("assets/game/Coin.png"),this._location.addEntity(this._shadow=new xe(this._kernel,this._source)),this._session.setCoins(null,this._session.getCoins()+10)},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t),this._mover(),this._frame=(this._seed+this._updates)%32,this._shadow.setFrame(this.position.x,this.position.y,this._frame,1-Math.pow(this._updates/80,8)),80<this._updates&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},_disposer:function(){var t=this._shadow;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),Wt.prototype._disposer.call(this)},_mover:function(){this._momentum.x*=.975,this._momentum.y*=.975,this.position.x+=this._momentum.x,this.position.y+=this._momentum.y,this.position.z+=this._momentum.z,this.position.z<0&&(this.position.z=0,this._momentum.z*=-.65)},__class__:Se});var xe=function(t,e){this._alpha=1,this._frame=1,this.isRendered=!0,this.position={x:0,y:0,z:0},this._source=e,Wt.call(this,t)};(e["b10ath.game._Coin._CoinShadow"]=xe).__name__="b10ath.game._Coin._CoinShadow",xe.__interfaces__=[we],xe.__super__=Wt,xe.prototype=t(Wt.prototype,{setFrame:function(t,e,i,s){this.position.x=t,this.position.y=e,this._frame=i,this._alpha=s},getTexture:function(){return{source:this._source,x:32*this._frame,y:32,width:32,height:32,originX:.5,originY:1,scale:1.5,isFlip:!1,isAdd:!1,alpha:this._alpha,rotation:0}},__class__:xe});function Te(){}var be=T["b10ath.game.ELevel"]={__ename__:"b10ath.game.ELevel",__constructs__:["LEVEL_1","LEVEL_2","LEVEL_3"],LEVEL_1:{_hx_index:0,__enum__:"b10ath.game.ELevel",toString:i},LEVEL_2:{_hx_index:1,__enum__:"b10ath.game.ELevel",toString:i},LEVEL_3:{_hx_index:2,__enum__:"b10ath.game.ELevel",toString:i}},Ae=T["b10ath.game.ELocation"]={__ename__:"b10ath.game.ELocation",__constructs__:["LOCATION_A"],LOCATION_A:{_hx_index:0,__enum__:"b10ath.game.ELocation",toString:i}},ke=T["b10ath.game.EMedal"]={__ename__:"b10ath.game.EMedal",__constructs__:["MEDAL_NONE","MEDAL_BRONZE","MEDAL_SILVER","MEDAL_GOLD"],MEDAL_NONE:{_hx_index:0,__enum__:"b10ath.game.EMedal",toString:i},MEDAL_BRONZE:{_hx_index:1,__enum__:"b10ath.game.EMedal",toString:i},MEDAL_SILVER:{_hx_index:2,__enum__:"b10ath.game.EMedal",toString:i},MEDAL_GOLD:{_hx_index:3,__enum__:"b10ath.game.EMedal",toString:i}},Ce=T["b10ath.game.EScenery"]={__ename__:"b10ath.game.EScenery",__constructs__:["BANNER_1","BANNER_2","BLOCKS","FLAG_1","FLAG_2","FLAG_3","FLAG_4","FLAG_5","FLAG_6","FLAG_7","FLAG_8","FLAG_9","FLAG_10","FLAG_11","FLAG_12","FLAG_13","FLAG_14","FLAG_15","FLAG_16","DISTANCE","TARGET","JUDGE_1","JUDGE_2","JUDGE_3","JUDGE_4","JUDGE_5","JUDGE_6","JUDGE_7","CAMERA","MARKER","MARKER_10","MARKER_20","MARKER_30","MARKER_40","MARKER_50","MARKER_60","MARKER_70","MARKER_80","MARKER_90"],BANNER_1:{_hx_index:0,__enum__:"b10ath.game.EScenery",toString:i},BANNER_2:{_hx_index:1,__enum__:"b10ath.game.EScenery",toString:i},BLOCKS:{_hx_index:2,__enum__:"b10ath.game.EScenery",toString:i},FLAG_1:{_hx_index:3,__enum__:"b10ath.game.EScenery",toString:i},FLAG_2:{_hx_index:4,__enum__:"b10ath.game.EScenery",toString:i},FLAG_3:{_hx_index:5,__enum__:"b10ath.game.EScenery",toString:i},FLAG_4:{_hx_index:6,__enum__:"b10ath.game.EScenery",toString:i},FLAG_5:{_hx_index:7,__enum__:"b10ath.game.EScenery",toString:i},FLAG_6:{_hx_index:8,__enum__:"b10ath.game.EScenery",toString:i},FLAG_7:{_hx_index:9,__enum__:"b10ath.game.EScenery",toString:i},FLAG_8:{_hx_index:10,__enum__:"b10ath.game.EScenery",toString:i},FLAG_9:{_hx_index:11,__enum__:"b10ath.game.EScenery",toString:i},FLAG_10:{_hx_index:12,__enum__:"b10ath.game.EScenery",toString:i},FLAG_11:{_hx_index:13,__enum__:"b10ath.game.EScenery",toString:i},FLAG_12:{_hx_index:14,__enum__:"b10ath.game.EScenery",toString:i},FLAG_13:{_hx_index:15,__enum__:"b10ath.game.EScenery",toString:i},FLAG_14:{_hx_index:16,__enum__:"b10ath.game.EScenery",toString:i},FLAG_15:{_hx_index:17,__enum__:"b10ath.game.EScenery",toString:i},FLAG_16:{_hx_index:18,__enum__:"b10ath.game.EScenery",toString:i},DISTANCE:{_hx_index:19,__enum__:"b10ath.game.EScenery",toString:i},TARGET:{_hx_index:20,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_1:{_hx_index:21,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_2:{_hx_index:22,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_3:{_hx_index:23,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_4:{_hx_index:24,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_5:{_hx_index:25,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_6:{_hx_index:26,__enum__:"b10ath.game.EScenery",toString:i},JUDGE_7:{_hx_index:27,__enum__:"b10ath.game.EScenery",toString:i},CAMERA:{_hx_index:28,__enum__:"b10ath.game.EScenery",toString:i},MARKER:{_hx_index:29,__enum__:"b10ath.game.EScenery",toString:i},MARKER_10:{_hx_index:30,__enum__:"b10ath.game.EScenery",toString:i},MARKER_20:{_hx_index:31,__enum__:"b10ath.game.EScenery",toString:i},MARKER_30:{_hx_index:32,__enum__:"b10ath.game.EScenery",toString:i},MARKER_40:{_hx_index:33,__enum__:"b10ath.game.EScenery",toString:i},MARKER_50:{_hx_index:34,__enum__:"b10ath.game.EScenery",toString:i},MARKER_60:{_hx_index:35,__enum__:"b10ath.game.EScenery",toString:i},MARKER_70:{_hx_index:36,__enum__:"b10ath.game.EScenery",toString:i},MARKER_80:{_hx_index:37,__enum__:"b10ath.game.EScenery",toString:i},MARKER_90:{_hx_index:38,__enum__:"b10ath.game.EScenery",toString:i}},Ue=T["b10ath.game.ESport"]={__ename__:"b10ath.game.ESport",__constructs__:["SPRINT","THROW","JUMP"],SPRINT:{_hx_index:0,__enum__:"b10ath.game.ESport",toString:i},THROW:{_hx_index:1,__enum__:"b10ath.game.ESport",toString:i},JUMP:{_hx_index:2,__enum__:"b10ath.game.ESport",toString:i}},Ie=T["b10ath.game.EUnit"]={__ename__:"b10ath.game.EUnit",__constructs__:["UNIT_A","UNIT_B"],UNIT_A:{_hx_index:0,__enum__:"b10ath.game.EUnit",toString:i},UNIT_B:{_hx_index:1,__enum__:"b10ath.game.EUnit",toString:i}},Pe=T["b10ath.game.EUnitController"]={__ename__:"b10ath.game.EUnitController",__constructs__:["HUMAN","BOT"],HUMAN:{_hx_index:0,__enum__:"b10ath.game.EUnitController",toString:i},BOT:((l=function(t){return{_hx_index:1,p_skill:t,__enum__:"b10ath.game.EUnitController",toString:i}}).__params__=["p_skill"],l)},Re=T["b10ath.game.EUnitFrame"]={__ename__:"b10ath.game.EUnitFrame",__constructs__:["SPRINT_1_SET1","SPRINT_1_SET2","SPRINT_1_SET3","SPRINT_1_START1","SPRINT_1_START2","SPRINT_1_START3","SPRINT_1_RUN1","SPRINT_1_RUN2","SPRINT_1_RUN3","SPRINT_1_RUN4","SPRINT_1_RUN5","SPRINT_1_RUN6","SPRINT_2_SET1","SPRINT_2_SET2","SPRINT_2_SET3","SPRINT_2_START1","SPRINT_2_START2","SPRINT_2_START3","SPRINT_2_RUN1","SPRINT_2_RUN2","SPRINT_2_RUN3","SPRINT_2_RUN4","SPRINT_2_RUN5","SPRINT_2_RUN6","SPRINT_3_SET1","SPRINT_3_SET2","SPRINT_3_SET3","SPRINT_3_START1","SPRINT_3_START2","SPRINT_3_START3","SPRINT_3_RUN1","SPRINT_3_RUN2","SPRINT_3_RUN3","SPRINT_3_RUN4","SPRINT_3_RUN5","SPRINT_3_RUN6","SPRINT_4_SET1","SPRINT_4_SET2","SPRINT_4_SET3","SPRINT_4_START1","SPRINT_4_START2","SPRINT_4_START3","SPRINT_4_RUN1","SPRINT_4_RUN2","SPRINT_4_RUN3","SPRINT_4_RUN4","SPRINT_4_RUN5","SPRINT_4_RUN6","THROW_1_START1","THROW_1_START2","THROW_1_START3","THROW_1_RUN1","THROW_1_RUN2","THROW_1_RUN3","THROW_1_RUN4","THROW_1_RUN5","THROW_1_RUN6","THROW_1_FINISH1","THROW_1_FINISH2","THROW_1_FINISH3","THROW_1_FINISH4","THROW_1_FINISH5","THROW_1_FINISH6","THROW_1_FINISH7","JUMP_1_IDLE","JUMP_1_START1","JUMP_1_START2","JUMP_1_START3","JUMP_1_RUN1","JUMP_1_RUN2","JUMP_1_RUN3","JUMP_1_RUN4","JUMP_1_RUN5","JUMP_1_RUN6","JUMP_1_HOP1","JUMP_1_HOP2","JUMP_1_HOP3","JUMP_1_SKIP1","JUMP_1_SKIP2","JUMP_1_SKIP3","JUMP_1_JUMP1","JUMP_1_JUMP2","JUMP_1_JUMP3","JUMP_1_JUMP4","JUMP_1_JUMP5","JUMP_1_JUMP6"],SPRINT_1_SET1:{_hx_index:0,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_SET2:{_hx_index:1,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_SET3:{_hx_index:2,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_START1:{_hx_index:3,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_START2:{_hx_index:4,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_START3:{_hx_index:5,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN1:{_hx_index:6,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN2:{_hx_index:7,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN3:{_hx_index:8,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN4:{_hx_index:9,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN5:{_hx_index:10,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_1_RUN6:{_hx_index:11,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_SET1:{_hx_index:12,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_SET2:{_hx_index:13,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_SET3:{_hx_index:14,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_START1:{_hx_index:15,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_START2:{_hx_index:16,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_START3:{_hx_index:17,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN1:{_hx_index:18,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN2:{_hx_index:19,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN3:{_hx_index:20,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN4:{_hx_index:21,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN5:{_hx_index:22,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_2_RUN6:{_hx_index:23,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_SET1:{_hx_index:24,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_SET2:{_hx_index:25,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_SET3:{_hx_index:26,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_START1:{_hx_index:27,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_START2:{_hx_index:28,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_START3:{_hx_index:29,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN1:{_hx_index:30,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN2:{_hx_index:31,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN3:{_hx_index:32,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN4:{_hx_index:33,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN5:{_hx_index:34,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_3_RUN6:{_hx_index:35,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_SET1:{_hx_index:36,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_SET2:{_hx_index:37,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_SET3:{_hx_index:38,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_START1:{_hx_index:39,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_START2:{_hx_index:40,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_START3:{_hx_index:41,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN1:{_hx_index:42,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN2:{_hx_index:43,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN3:{_hx_index:44,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN4:{_hx_index:45,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN5:{_hx_index:46,__enum__:"b10ath.game.EUnitFrame",toString:i},SPRINT_4_RUN6:{_hx_index:47,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_START1:{_hx_index:48,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_START2:{_hx_index:49,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_START3:{_hx_index:50,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN1:{_hx_index:51,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN2:{_hx_index:52,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN3:{_hx_index:53,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN4:{_hx_index:54,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN5:{_hx_index:55,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_RUN6:{_hx_index:56,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH1:{_hx_index:57,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH2:{_hx_index:58,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH3:{_hx_index:59,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH4:{_hx_index:60,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH5:{_hx_index:61,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH6:{_hx_index:62,__enum__:"b10ath.game.EUnitFrame",toString:i},THROW_1_FINISH7:{_hx_index:63,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_IDLE:{_hx_index:64,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_START1:{_hx_index:65,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_START2:{_hx_index:66,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_START3:{_hx_index:67,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN1:{_hx_index:68,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN2:{_hx_index:69,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN3:{_hx_index:70,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN4:{_hx_index:71,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN5:{_hx_index:72,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_RUN6:{_hx_index:73,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_HOP1:{_hx_index:74,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_HOP2:{_hx_index:75,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_HOP3:{_hx_index:76,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_SKIP1:{_hx_index:77,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_SKIP2:{_hx_index:78,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_SKIP3:{_hx_index:79,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP1:{_hx_index:80,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP2:{_hx_index:81,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP3:{_hx_index:82,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP4:{_hx_index:83,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP5:{_hx_index:84,__enum__:"b10ath.game.EUnitFrame",toString:i},JUMP_1_JUMP6:{_hx_index:85,__enum__:"b10ath.game.EUnitFrame",toString:i}},Ne=T["b10ath.game.EUnitPose"]={__ename__:"b10ath.game.EUnitPose",__constructs__:["SPRINT_IDLE","SPRINT_SET","SPRINT_START","SPRINT_RUN","THROW_IDLE","THROW_START","THROW_RUN","THROW_FINISH","JUMP_IDLE","JUMP_START","JUMP_RUN","JUMP_HOP","JUMP_SKIP","JUMP_JUMP"],SPRINT_IDLE:{_hx_index:0,__enum__:"b10ath.game.EUnitPose",toString:i},SPRINT_SET:{_hx_index:1,__enum__:"b10ath.game.EUnitPose",toString:i},SPRINT_START:{_hx_index:2,__enum__:"b10ath.game.EUnitPose",toString:i},SPRINT_RUN:{_hx_index:3,__enum__:"b10ath.game.EUnitPose",toString:i},THROW_IDLE:{_hx_index:4,__enum__:"b10ath.game.EUnitPose",toString:i},THROW_START:{_hx_index:5,__enum__:"b10ath.game.EUnitPose",toString:i},THROW_RUN:{_hx_index:6,__enum__:"b10ath.game.EUnitPose",toString:i},THROW_FINISH:{_hx_index:7,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_IDLE:{_hx_index:8,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_START:{_hx_index:9,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_RUN:{_hx_index:10,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_HOP:{_hx_index:11,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_SKIP:{_hx_index:12,__enum__:"b10ath.game.EUnitPose",toString:i},JUMP_JUMP:{_hx_index:13,__enum__:"b10ath.game.EUnitPose",toString:i}},De=T["b10ath.game.EUnitStrategy"]={__ename__:"b10ath.game.EUnitStrategy",__constructs__:["WAITING","PREPARING","QUICKING","SKILLING","FINISHING"],WAITING:{_hx_index:0,__enum__:"b10ath.game.EUnitStrategy",toString:i},PREPARING:{_hx_index:1,__enum__:"b10ath.game.EUnitStrategy",toString:i},QUICKING:{_hx_index:2,__enum__:"b10ath.game.EUnitStrategy",toString:i},SKILLING:{_hx_index:3,__enum__:"b10ath.game.EUnitStrategy",toString:i},FINISHING:{_hx_index:4,__enum__:"b10ath.game.EUnitStrategy",toString:i}},Me=T["b10ath.game.EUpgrade"]={__ename__:"b10ath.game.EUpgrade",__constructs__:["UPGRADE_MOVEMENT","UPGRADE_TIMING","UPGRADE_POWER","UPGRADE_STAMINA"],UPGRADE_MOVEMENT:{_hx_index:0,__enum__:"b10ath.game.EUpgrade",toString:i},UPGRADE_TIMING:{_hx_index:1,__enum__:"b10ath.game.EUpgrade",toString:i},UPGRADE_POWER:{_hx_index:2,__enum__:"b10ath.game.EUpgrade",toString:i},UPGRADE_STAMINA:{_hx_index:3,__enum__:"b10ath.game.EUpgrade",toString:i}};(e["b10ath.game.IHud"]=Te).__name__="b10ath.game.IHud",Te.__isInterface__=!0,Te.prototype={__class__:Te};function Le(t,e,i){this._isFinished=!1,this._rotation=.5,this.isRendered=!0,this._location=e,this.position=i,Wt.call(this,t)}(e["b10ath.game.Javelin"]=Le).__name__="b10ath.game.Javelin",Le.__interfaces__=[we],Le.__super__=Wt,Le.prototype=t(Wt.prototype,{getTexture:function(){return{source:this._source,x:0,y:0,width:256,height:16,originX:.5,originY:.5,scale:.9,isFlip:!1,isAdd:!1,alpha:1,rotation:this._rotation}},getSpeed:function(){return Math.sqrt(this._momentum.x*this._momentum.x+this._momentum.y*this._momentum.y)},_init:function(){Wt.prototype._init.call(this),this._momentum={x:0,y:0,z:0},this._source=this._assets.getAsset("assets/game/Javelin.png"),this._location.addEntity(this._shadow=new Be(this._kernel,this._source))},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t),this._isFinished||(this._rotation=Math.atan2(-this._momentum.z,this._momentum.x)-.2,this._mover())},_disposer:function(){var t=this._shadow;t.isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()),Wt.prototype._disposer.call(this)},_mover:function(){0<this.position.z&&(this._momentum.z-=1.5),this._momentum.x*=.995,this.position.x+=this._momentum.x,this.position.y+=this._momentum.y,this.position.z+=this._momentum.z;var t=110*Math.sin(this._rotation),e=110*Math.cos(this._rotation);0!=this._momentum.z&&this.position.z<t&&(null!=this._callbackFinished&&this._callbackFinished(),this._momentum.x=0,this._momentum.y=0,this._momentum.z=0,this.position.z=t,this.position.x-=e,this._isFinished=!0,this._kernel.audio.start("ThrowImpact",Yt.EFFECTS,1,0,.75)),this._shadow.setPosition(this.position.x,this.position.y,0,null,1,Math.cos(this._rotation))},launch:function(t,e,i){this._callbackFinished=i,this._rotation=-Math.PI*(0*(1-e)+.2*e),this._momentum.x=Math.cos(this._rotation)*t,this._momentum.z=-Math.sin(this._rotation)*t*.5,this._kernel.audio.start("ThrowLaunch",Yt.EFFECTS,1,0,.75)},__class__:Le});var Be=function(t,e){this._scale=1,this._alpha=1,this.isRendered=!0,this.position={x:0,y:0,z:0},this._source=e,Wt.call(this,t)};(e["b10ath.game._Javelin._JavelinShadow"]=Be).__name__="b10ath.game._Javelin._JavelinShadow",Be.__interfaces__=[we],Be.__super__=Wt,Be.prototype=t(Wt.prototype,{setPosition:function(t,e,i,s,n,_){null==_&&(_=1),null==n&&(n=1),null==s&&(s=!0),this.position.x=t,this.position.y=e,this.position.z=i,this.isRendered=s,this._alpha=n,this._scale=_},getTexture:function(){return{source:this._source,x:0,y:16,width:256,height:16,originX:.5,originY:.5,scale:.9*this._scale,isFlip:!1,isAdd:!1,alpha:this._alpha,rotation:0}},__class__:Be});function Fe(t,e,i){oe.call(this,t),this.type=e,this.title=this._getTitle(),this.locationType=Ae.LOCATION_A,this.scoreGold=this._getScoreGold(),this.scoreSilver=this._getScoreSilver(),this.scoreBronze=this._getScoreBronze(),this.medalType=this._session.getMedal(this.type,i),this.isLocked=this._getIsLocked(i),this.isNew=this.medalType==ke.MEDAL_NONE&&!this.isLocked,this.message=this._getMessage(),this.sportType=this._getSportType()}(e["b10ath.game.LevelVo"]=Fe).__name__="b10ath.game.LevelVo",Fe.__super__=oe,Fe.prototype=t(oe.prototype,{_getTitle:function(){var t;switch(this.type._hx_index){case 0:t="gui.levels.level1";break;case 1:t="gui.levels.level2";break;case 2:t="gui.levels.level3"}return this._kernel.getConfig(t)},_getIsLocked:function(t){switch(this.type._hx_index){case 0:return!1;case 1:return this._session.getMedal(be.LEVEL_1,t)._hx_index<=ke.MEDAL_NONE._hx_index;case 2:return this._session.getMedal(be.LEVEL_2,t)._hx_index<=ke.MEDAL_NONE._hx_index}},_getScoreGold:function(){switch(this.type._hx_index){case 0:return 9.58*this._factory.targetFramerate;case 1:return 85;case 2:return 18}},_getScoreSilver:function(){switch(this.type._hx_index){case 0:return 11*this._factory.targetFramerate;case 1:return 70;case 2:return 16}},_getScoreBronze:function(){switch(this.type._hx_index){case 0:return 16*this._factory.targetFramerate;case 1:return 40;case 2:return 13}},_getMessage:function(){var t,e=this._kernel.getConfig(this.isLocked?"gui.scenes.selectLevel.messageLocked":"gui.scenes.selectLevel.messageNew");switch(this.type._hx_index){case 0:t="";break;case 1:t="gui.levels.level1";break;case 2:t="gui.levels.level2"}var i,s=this._kernel.getConfig(t);return null==s||1<(i=s.split(" ")).length&&(s=i[0]),u.replace(e,"__PREVIOUS_LEVEL__",s)},_getSportType:function(){switch(this.type._hx_index){case 0:return Ue.SPRINT;case 1:return Ue.THROW;case 2:return Ue.JUMP}},__class__:Fe});function Oe(t,e,i,s){ye.call(this,t,e,i,s)}(e["b10ath.game.LocationJump"]=Oe).__name__="b10ath.game.LocationJump",Oe.__super__=ye,Oe.prototype=t(ye.prototype,{_getCameraTarget:function(){var t=Math.min(this._player.position.x+20*this._player.getSpeed(),this.vo.positions.sprinting.finishX)-this._renderer.width,e=(this._player.position.z-this._renderer.height)/(this.vo.height-2*this._renderer.height);return{x:t/(this.vo.width-2*this._renderer.width)*this.vo.width,y:this._player.position.y,z:(1-Math.pow(1<e?1:e<0?0:e,.25))*this.vo.height}},_init:function(){var t=this;ye.prototype._init.call(this),this.addEntity(this._player=new ze(this._kernel,this,Pe.HUMAN,this.vo.positions.jumping.startX,this.vo.positions.jumping.laneY)),this._createDelay(function(){t.hud.configureAlert(t._kernel.getConfig("gui.scenes.game.hud.alerts.jump.start")),t._player.setStrategy(De.QUICKING)},4e3)},_createAllScenery:function(){ye.prototype._createAllScenery.call(this);for(var t=this._tools.shuffle([Ce.FLAG_1,Ce.FLAG_2,Ce.FLAG_3,Ce.FLAG_4,Ce.FLAG_5,Ce.FLAG_6,Ce.FLAG_7,Ce.FLAG_8,Ce.FLAG_9,Ce.FLAG_10,Ce.FLAG_11,Ce.FLAG_12,Ce.FLAG_13,Ce.FLAG_14,Ce.FLAG_15,Ce.FLAG_16]),e=0,i=0;i<this.vo.width;){i+=200;var s=t[e++%t.length];this._createScenery(s,i,-115)}for(t=[Ce.BANNER_1,Ce.BANNER_2],e=0,i=0;i<this.vo.positions.jumping.launchX-256;){i+=288;var n=t[e++%t.length];this._createScenery(n,i,-100)}this._createScenery(Ce.MARKER,this.vo.positions.jumping.launchX,-80),this._createScenery(Ce.MARKER,this.vo.positions.jumping.launchX,-30),this._createScenery(Ce.MARKER,this.vo.positions.jumping.finishX-80,-80),this._createScenery(Ce.MARKER,this.vo.positions.jumping.finishX-80,-30);for(var _=[this.vo.positions.jumping.launchX+80,this.vo.positions.jumping.finishX,this.vo.positions.jumping.distanceX+380],r=0;r<_.length;){i=_[r];++r,this._createScenery(Ce.CAMERA,i,-90)}this._createScenery(Ce.DISTANCE,this.vo.positions.jumping.distanceX,this.vo.positions.jumping.distanceY);for(var t=this._tools.shuffle([Ce.JUDGE_1,Ce.JUDGE_2,Ce.JUDGE_3,Ce.JUDGE_4,Ce.JUDGE_5,Ce.JUDGE_6,Ce.JUDGE_7]),e=0,a=[this.vo.positions.jumping.startX-160,this.vo.positions.jumping.launchX+400,this.vo.positions.jumping.finishX+160,this.vo.positions.jumping.distanceX],r=0;r<a.length;){i=a[r];++r;var o=t[e++%t.length];this._createScenery(o,i,-110)}for(i=this.vo.positions.jumping.startX;i<this.vo.positions.jumping.launchX;){i+=I.random(64)+64,Math.random()<.85?i+=256:(o=t[e++%t.length],this._createScenery(o,i,-110-I.random(10)))}},__class__:Oe});function Ge(t,e,i,s){ye.call(this,t,e,i,s)}(e["b10ath.game.LocationSprint"]=Ge).__name__="b10ath.game.LocationSprint",Ge.__super__=ye,Ge.prototype=t(ye.prototype,{_getCameraTarget:function(){var t=Math.min(this._player.position.x+20*this._player.getSpeed(),this.vo.positions.sprinting.finishX)-this._renderer.width,e=(this._player.position.z-this._renderer.height)/(this.vo.height-2*this._renderer.height);return{x:t/(this.vo.width-2*this._renderer.width)*this.vo.width,y:this._player.position.y,z:(1-Math.pow(1<e?1:e<0?0:e,.25))*this.vo.height}},_init:function(){var s=this;ye.prototype._init.call(this),this.addEntity(this._player=new Ke(this._kernel,this,Pe.HUMAN,this.vo.positions.sprinting.setX,this.vo.positions.sprinting.lane3Y)),this.addEntity(this._opponent1=new Ke(this._kernel,this,Pe.BOT(.98),this.vo.positions.sprinting.setX,this.vo.positions.sprinting.lane1Y,4)),this.addEntity(this._opponent2=new Ke(this._kernel,this,Pe.BOT(.7),this.vo.positions.sprinting.setX,this.vo.positions.sprinting.lane2Y,3)),this.addEntity(this._opponent3=new Ke(this._kernel,this,Pe.BOT(.15),this.vo.positions.sprinting.setX,this.vo.positions.sprinting.lane4Y,2)),this._createDelay(function(){s._kernel.audio.start("SprintMarks",Yt.EFFECTS,1,0,1),s._createDelay(function(){s.hud.configureAlert(s._kernel.getConfig("gui.scenes.game.hud.alerts.sprint.set")),s._kernel.audio.start("SprintSet",Yt.EFFECTS,1,0,1);for(var t=0,e=s.getEntitiesByClass(Ke);t<e.length;){var i=e[t];++t,i.setStrategy(De.PREPARING)}s._createDelay(function(){s.hud.configureAlert(s._kernel.getConfig("gui.scenes.game.hud.alerts.sprint.go")),s._kernel.audio.start("SprintGo",Yt.EFFECTS,1,0,1),s._kernel.audio.start("SprintGun",Yt.EFFECTS,1,0,1),s._kernel.audio.start("GameOver",Yt.EFFECTS,1,0,.75);for(var t=0,e=s.getEntitiesByClass(Ke);t<e.length;){var i=e[t];++t,i.setStrategy(De.QUICKING)}},1500)},1500)},4e3)},_createAllScenery:function(){ye.prototype._createAllScenery.call(this);for(var t=this._tools.shuffle([Ce.FLAG_1,Ce.FLAG_2,Ce.FLAG_3,Ce.FLAG_4,Ce.FLAG_5,Ce.FLAG_6,Ce.FLAG_7,Ce.FLAG_8,Ce.FLAG_9,Ce.FLAG_10,Ce.FLAG_11,Ce.FLAG_12,Ce.FLAG_13,Ce.FLAG_14,Ce.FLAG_15,Ce.FLAG_16]),e=0,i=0;i<this.vo.width;){i+=200;var s=t[e++%t.length];this._createScenery(s,i,-190,0)}for(t=[Ce.BANNER_1,Ce.BANNER_2],e=0,i=0;i<this.vo.width;){i+=288;var n=t[e++%t.length];this._createScenery(n,i,-150)}t=[Ce.MARKER_10,Ce.MARKER_20,Ce.MARKER_30,Ce.MARKER_40,Ce.MARKER_50,Ce.MARKER_60,Ce.MARKER_70,Ce.MARKER_80,Ce.MARKER_90],e=0,i=this.vo.positions.sprinting.startX;i+=800;var _=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),i+=800;_=t[e++%t.length];this._createScenery(_,i,-132),this._createScenery(Ce.CAMERA,this.vo.positions.sprinting.startX,-135),this._createScenery(Ce.CAMERA,this.vo.positions.sprinting.finishX,-135);for(var t=this._tools.shuffle([Ce.JUDGE_1,Ce.JUDGE_2,Ce.JUDGE_3,Ce.JUDGE_4,Ce.JUDGE_5,Ce.JUDGE_6,Ce.JUDGE_7]),e=0,r=[this.vo.positions.sprinting.startX,this.vo.positions.sprinting.finishX],a=0;a<r.length;){i=r[a];++a;var o=t[e++%t.length];this._createScenery(o,i-100+I.random(64),-160-I.random(10));var h=t[e++%t.length];this._createScenery(h,i-100+I.random(64)+64,-160-I.random(10));var l=t[e++%t.length];this._createScenery(l,i-100+I.random(64)+128,-160-I.random(10))}for(i=this.vo.positions.sprinting.startX;i<this.vo.positions.sprinting.finishX;){i+=I.random(64)+64,Math.random()<.85?i+=256:(o=t[e++%t.length],this._createScenery(o,i,-160-I.random(10)))}this._createScenery(Ce.BLOCKS,this.vo.positions.sprinting.blocksX,this.vo.positions.sprinting.lane1Y),this._createScenery(Ce.BLOCKS,this.vo.positions.sprinting.blocksX,this.vo.positions.sprinting.lane2Y),this._createScenery(Ce.BLOCKS,this.vo.positions.sprinting.blocksX,this.vo.positions.sprinting.lane3Y),this._createScenery(Ce.BLOCKS,this.vo.positions.sprinting.blocksX,this.vo.positions.sprinting.lane4Y)},__class__:Ge});function He(t,e,i,s){ye.call(this,t,e,i,s)}(e["b10ath.game.LocationThrow"]=He).__name__="b10ath.game.LocationThrow",He.__super__=ye,He.prototype=t(ye.prototype,{_getCameraTarget:function(){var t=null!=this._javelin&&750<this._javelin._age,e=t?this._javelin.position:this._player.position,i=t?5*this._javelin.getSpeed():20*this._player.getSpeed(),s=(e.z-this._renderer.height)/(this.vo.height-2*this._renderer.height);return{x:(Math.min(e.x+i,this.vo.positions.sprinting.finishX)-this._renderer.width)/(this.vo.width-2*this._renderer.width)*this.vo.width,y:e.y,z:(1-Math.pow(1<s?1:s<0?0:s,.25))*this.vo.height}},_init:function(){var t=this;ye.prototype._init.call(this),this.addEntity(this._player=new Xe(this._kernel,this,Pe.HUMAN,this.vo.positions.throwing.startX,this.vo.positions.throwing.laneY,ks(this,this._createJavelin))),this._createDelay(function(){t.hud.configureAlert(t._kernel.getConfig("gui.scenes.game.hud.alerts.jump.start")),t._player.setStrategy(De.QUICKING)},4e3)},_createAllScenery:function(){ye.prototype._createAllScenery.call(this);for(var t=this._tools.shuffle([Ce.FLAG_1,Ce.FLAG_2,Ce.FLAG_3,Ce.FLAG_4,Ce.FLAG_5,Ce.FLAG_6,Ce.FLAG_7,Ce.FLAG_8,Ce.FLAG_9,Ce.FLAG_10,Ce.FLAG_11,Ce.FLAG_12,Ce.FLAG_13,Ce.FLAG_14,Ce.FLAG_15,Ce.FLAG_16]),e=0,i=0;i<this.vo.positions.throwing.launchX-256;){i+=200;var s=t[e++%t.length];this._createScenery(s,i,-175,0)}for(t=[Ce.BANNER_1,Ce.BANNER_2],e=0,i=0;i<this.vo.positions.throwing.launchX-256;){i+=288;var n=t[e++%t.length];this._createScenery(n,i,-200)}for(var t=[Ce.MARKER_20,Ce.MARKER_30,Ce.MARKER_40,Ce.MARKER_50,Ce.MARKER_60,Ce.MARKER_70,Ce.MARKER_80,Ce.MARKER_90],_=[3880,4760,5610,6440,7250,8050,8865,9670],e=0,r=0;r<_.length;){i=_[r];++r;var a=t[e++%t.length];this._createScenery(a,i,-200)}this._createScenery(Ce.MARKER,this.vo.positions.throwing.startX-240,-90),this._createScenery(Ce.MARKER,this.vo.positions.throwing.startX-240,-20),this._createScenery(Ce.MARKER,this.vo.positions.throwing.launchX-80,-90),this._createScenery(Ce.MARKER,this.vo.positions.throwing.launchX-80,-20),this._createScenery(Ce.CAMERA,this.vo.positions.throwing.launchX,-135);for(var t=this._tools.shuffle([Ce.JUDGE_1,Ce.JUDGE_2,Ce.JUDGE_3,Ce.JUDGE_4,Ce.JUDGE_5,Ce.JUDGE_6,Ce.JUDGE_7]),e=0,o=[this.vo.positions.throwing.startX,this.vo.positions.throwing.launchX,this.vo.positions.throwing.launchX+80*this.levelVo.scoreBronze,this.vo.positions.throwing.launchX+80*this.levelVo.scoreSilver,this.vo.positions.throwing.launchX+80*this.levelVo.scoreGold],r=0;r<o.length;){i=o[r];++r;var h=t[e++%t.length];this._createScenery(h,i-100+I.random(64),-160-I.random(10)+(i>this.vo.positions.throwing.launchX?-30:0));var l=t[e++%t.length];this._createScenery(l,i-100+I.random(64)+64,-160-I.random(10)+(i>this.vo.positions.throwing.launchX?-30:0))}},_createJavelin:function(t){var e;return null!=this._javelin&&((e=this._javelin).isDisposed||(e.isDisposed=!0,e.set_isActive(!1),e._disposer())),this.addEntity(this._javelin=new Le(this._kernel,this,t)),this._javelin},__class__:He});var Ve=function(t,e,i){this.positions={sprinting:{blocksX:1285,setX:1320,startX:1365,finishX:9368,lane1Y:-94,lane2Y:-72,lane3Y:-49,lane4Y:-27},throwing:{startX:760,launchX:2520,laneY:-59},jumping:{startX:2100,launchX:5618,finishX:6582,laneY:-59,distanceX:6942,distanceY:-100}},this.height=363,this.width=10920,oe.call(this,t),this.type=e,this.textureLocationSky=this._assets.getAsset("assets/game/LocationSky.jpg"),this.textureLocationRays=this._assets.getAsset("assets/game/LocationRays.png"),this.textureLocationCrowd=this._getTextureLocationCrowd(),this.textureLocationGround1=this._getTextureLocationGround1(i),this.textureLocationGround2=this._getTextureLocationGround2(i)};(e["b10ath.game.LocationVo"]=Ve).__name__="b10ath.game.LocationVo",Ve.__super__=oe,Ve.prototype=t(oe.prototype,{_getTextureLocationCrowd:function(){this.type;return this._assets.getAsset("assets/game/LocationCrowd.png")},_getTextureLocationGround1:function(t){var e;switch(t._hx_index){case 0:e="assets/game/LocationGroundSprint1.jpg";break;case 1:e="assets/game/LocationGroundThrow1.jpg";break;case 2:e="assets/game/LocationGroundJump1.jpg"}return this._assets.getAsset(e)},_getTextureLocationGround2:function(t){var e;switch(t._hx_index){case 0:e="assets/game/LocationGroundSprint2.jpg";break;case 1:e="assets/game/LocationGroundThrow2.jpg";break;case 2:e="assets/game/LocationGroundJump2.jpg"}return this._assets.getAsset(e)},__class__:Ve});var Je=function(t,e,i,s,n){this._location=e,this.width=i,this.height=s,this._getRenderables=n,Wt.call(this,t)};(e["b10ath.game.Renderer"]=Je).__name__="b10ath.game.Renderer",Je.__super__=Wt,Je.prototype=t(Wt.prototype,{_init:function(){Wt.prototype._init.call(this),this._context.cache(0,0,this.width,this.height),this._canvas=this._context.cacheCanvas,this._context2d=this._canvas.getContext("2d",null)},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t);var e=this._location.camera.getPosition(),i=Math.round(-e.x),s=Math.max(0,Math.round(e.z));this._drawLocationSky(i,s),this._drawLocationGround(i,s),this._drawLocationCrowd(i,s),this._drawLocationRays(i,s),this._drawRenderables(i,s)},_drawLocationSky:function(t,e){this._context2d.save();var i=this._location.vo.textureLocationSky;this._context2d.translate(t/this._location.vo.width*(i.width-this.width),(1-e/this._location.vo.height)*-(i.height-this.height)-20),this._context2d.drawImage(i,0,0),this._context2d.restore()},_drawLocationCrowd:function(t,e){this._context2d.save();var i=this._location.vo.textureLocationCrowd;this._context2d.translate(t/this._location.vo.width*(2048-this.width),e-512+(this.height-256)+1),this._context2d.drawImage(i,0,0,1024,512,0,0,1024,512),this._context2d.drawImage(i,0,512,1024,512,1024,0,1024,512),this._context2d.restore()},_drawLocationGround:function(t,e){this._context2d.save();var i=this._location.vo.textureLocationGround1,s=this._location.vo.textureLocationGround2,n=t/this._location.vo.width,_=18.45*n-1.5;this._context2d.translate(-4095,this.height-256+e),this._context2d.transform(1,0,_,1,0,0),this._context2d.translate(4095,0),this._context2d.translate(n*(5460-this.width),0),this._context2d.drawImage(i,1023,0,1,256,1008,0,32,256),this._context2d.drawImage(s,1023,0,1,256,2032,0,32,256),this._context2d.drawImage(i,1023,256,1,256,3056,0,32,256),this._context2d.drawImage(s,1023,256,1,256,4080,0,32,256),this._context2d.drawImage(i,1023,512,1,256,5104,0,32,256),this._context2d.drawImage(s,1023,512,1,256,6128,0,32,256),this._context2d.drawImage(i,1021,768,1,256,7152,0,32,256),this._context2d.drawImage(s,1021,768,1,256,8176,0,32,256),this._context2d.drawImage(i,0,0,1024,256,0,0,1024,256),this._context2d.drawImage(s,0,0,1024,256,1024,0,1024,256),this._context2d.drawImage(i,0,256,1024,256,2048,0,1024,256),this._context2d.drawImage(s,0,256,1024,256,3072,0,1024,256),this._context2d.drawImage(i,0,512,1024,256,4096,0,1024,256),this._context2d.drawImage(s,0,512,1024,256,5120,0,1024,256),this._context2d.drawImage(i,0,768,1024,256,6144,0,1024,256),this._context2d.drawImage(s,0,768,1022,256,7168,0,1022,256),this._context2d.scale(-1,-1),this._context2d.drawImage(s,0,768,1022,256,-9212,-256,1022,256),this._context2d.drawImage(i,0,768,1024,256,-10236,-256,1024,256),this._context2d.restore()},_drawLocationRays:function(t,e){this._context2d.save();var i=this._location.vo.textureLocationRays;this._context2d.translate(t/this._location.vo.width*(4*i.width-this.width),0);var s=.5*Math.sin(this._age/1e3)+.5*Math.cos(this._age/650)+1.5;s*=Math.pow((this.height-e)/this.height,2),this._context2d.globalAlpha=s,this._context2d.globalCompositeOperation="lighter";for(var n=0;n<4;){var _=n++;this._context2d.drawImage(i,_*i.width,0)}this._context2d.restore()},_drawRenderables:function(t,e){var i=this._getRenderables();i.sort(ks(this,this._sortRenderable));for(var s=0;s<i.length;){var n=i[s];++s;var _=n.getTexture(),r=this._location.camera.createRenderableTransformFromWorldCoords(n.position.x,n.position.y,n.position.z,_.scale),a=r.x,o=r.y;this._context2d.save(),_.isFlip&&(this._context2d.translate(a,0),this._context2d.scale(_.isFlip?-1:1,1),this._context2d.translate(-a,0)),this._context2d.translate(0,this.height),this._context2d.scale(r.scale,r.scale),this._context2d.translate(-(_.width*_.originX),-(_.height*_.originY)),this._context2d.translate(a/r.scale,o/r.scale),0!=_.rotation&&(this._context2d.translate(_.width*_.originX,_.height*_.originY),this._context2d.rotate(_.rotation),this._context2d.translate(-(_.width*_.originX),-(_.height*_.originY))),this._context2d.globalAlpha=_.alpha,this._context2d.globalCompositeOperation=_.isAdd?"lighter":"source-over",this._context2d.drawImage(_.source,_.x,_.y,_.width,_.height,0,0,_.width,_.height),this._context2d.restore()}},_sortRenderable:function(t,e){return t.position.y-e.position.y|0},__class__:Je});var je=function(t,e,i,s,n,_){this.isRendered=!0,this.type=e,this._location=i,this.position={x:s,y:n,z:_},Wt.call(this,t)};(e["b10ath.game.Scenery"]=je).__name__="b10ath.game.Scenery",je.__interfaces__=[we],je.__super__=Wt,je.prototype=t(Wt.prototype,{getTexture:function(){return this._texture},_getOffsetY:function(){switch(this.type._hx_index){case 2:return.83;case 20:return.5;case 21:case 22:case 23:case 24:default:return.9}},_getScale:function(){switch(this.type._hx_index){case 2:return.7;case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:return 1.25;case 21:case 22:case 23:case 24:case 25:case 26:case 27:return.65;case 28:return.5;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:return.7;default:return 1}},_getIsFlip:function(){var t=Math.random()<.5;switch(this.type._hx_index){case 21:case 22:case 23:case 24:case 28:return t;default:return!1}},_init:function(){Wt.prototype._init.call(this),this._source=this._assets.getAsset("assets/game/Scenery.png"),this._spriteSheet=new createjs.SpriteSheet(this._assets.getAsset("assets/game/Scenery.json"));var t=this._tools.toWords(I.string(this.type)).split(" ").join(""),e=this._spriteSheet.getAnimation(t);this._frame=this._spriteSheet.getFrame(e.frames[0]),this._texture={source:this._source,x:this._frame.rect.x,y:this._frame.rect.y,width:this._frame.rect.width,height:this._frame.rect.height,originX:.5,originY:this._getOffsetY(),scale:this._getScale(),isFlip:this._getIsFlip(),isAdd:!1,alpha:1,rotation:0}},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t)},__class__:je});var ze=function(t,e,i,s,n,_){this._isJumpStarted=!1,this._jumpPoses=[Ne.JUMP_HOP,Ne.JUMP_SKIP,Ne.JUMP_JUMP],this._jumpIndex=0,ve.call(this,t,e,i,s,n,_)};(e["b10ath.game.UnitJump"]=ze).__name__="b10ath.game.UnitJump",ze.__super__=ve,ze.prototype=t(ve.prototype,{setStrategy:function(t){var e=this;ve.prototype.setStrategy.call(this,t),this._strategy==De.PREPARING&&this.setAnimation(Ne.JUMP_IDLE,!0),this._strategy==De.QUICKING&&(this._isStarted=!0,this._inputs.isQuick=this._isHuman,this.setAnimation(Ne.JUMP_START,!0)),this._strategy==De.SKILLING&&(this._inputs.isQuick=!1,this._isBulletTime=!0,this.setAnimation(this._jumpPoses[this._jumpIndex++],!0),this._createDelay(function(){e._inputs.isSkill=!0},500)),this._strategy==De.FINISHING&&(this._isFinished=!0,this._inputs.isQuick=!1,this._inputs.isSkill=!1,this._kernel.audio.start("JumpImpact",Yt.EFFECTS,1,0,.75),this._isHuman&&this._location.setScore(this._score))},_init:function(){ve.prototype._init.call(this),this._animation.pose=Ne.JUMP_IDLE,this._animation.defaultNextPose=Ne.JUMP_RUN},_updater:function(t){null==t&&(t=0),ve.prototype._updater.call(this,t),this._score=this._calculateScore(),this._isHuman&&(this._location.hud.configureCurrent(this._score),this._location.hud.configureTargets(this._score)),this._isStarted&&!this._isFinished&&this._strategy==De.QUICKING&&this.position.x>this._location.vo.positions.jumping.launchX-80*(this._bias.timing+.1)&&this.setStrategy(De.SKILLING)},_mover:function(){ve.prototype._mover.call(this),this.position.z<0&&(this.position.z=0,this._momentum.z=0,this.setStrategy(this._jumpIndex<3?De.SKILLING:De.FINISHING)),0<this.position.z&&this._jumpIndex<3&&this.position.x>this._location.vo.positions.jumping.finishX-40&&(this.position.x-=this._momentum.x),this._isFinished&&(this._momentum.x=0)},_skillComplete:function(t){var e;switch(ve.prototype._skillComplete.call(this,t),this._momentum.x*=Math.pow(t,.25),this._momentum.x=Math.max(.875*this._momentum.x,1.5*this._inputs.boost)+2*this._jumpIndex,this._momentum.z=.5*(18+this._momentum.x*(.5*t+.5)*this._bias.power*.25),this.position.z=4*this._momentum.z,this._isBulletTime=!1,this._isJumpStarted=!0,this._jumpIndex){case 1:e="Jump1";break;case 2:e="Jump2";break;case 3:e="Jump3";break;default:e="Jump3"}this._kernel.audio.start("ThrowLaunch",Yt.EFFECTS,1,0,.25),this._kernel.audio.start(e,Yt.EFFECTS,1,0,.35)},_calculateScore:function(){return!this._isFinished&&this._isJumpStarted?Math.max(0,(this.position.x-this._location.vo.positions.jumping.launchX-8)/80):this._score},__class__:ze});var Ke=function(t,e,i,s,n,_){ve.call(this,t,e,i,s,n,_)};(e["b10ath.game.UnitSprint"]=Ke).__name__="b10ath.game.UnitSprint",Ke.__super__=ve,Ke.prototype=t(ve.prototype,{setStrategy:function(t){var e=this;ve.prototype.setStrategy.call(this,t),this._strategy==De.PREPARING&&this._createDelay(function(){e.setAnimation(Ne.SPRINT_SET,!0)},Math.round(250*this._bias.timing)),this._strategy==De.QUICKING&&(this._isStarted=!0,this._createDelay(function(){e._inputs.isQuick=e._isHuman,e.setAnimation(Ne.SPRINT_START,!0)},Math.round(250*this._bias.timing))),this._strategy==De.FINISHING&&(this._isFinished=!0,this._inputs.isQuick=!1,this._momentum.x=40,this._isHuman&&this._location.setScore(this._score))},_init:function(){ve.prototype._init.call(this),this._animation.pose=Ne.SPRINT_IDLE,this._animation.defaultNextPose=Ne.SPRINT_RUN},_updater:function(t){null==t&&(t=0),ve.prototype._updater.call(this,t),this._isStarted&&!this._isFinished&&this._score++,this._isHuman&&(this._location.hud.configureCurrent(this._score),this._location.hud.configureTargets(this._score)),this._isStarted&&!this._isFinished&&this._strategy==De.QUICKING&&this.position.x>this._location.vo.positions.sprinting.finishX&&this.setStrategy(De.FINISHING)},__class__:Ke});var Xe=function(t,e,i,s,n,_){null==n&&(n=0),null==s&&(s=0),this._createJavelin=_,ve.call(this,t,e,i,s,n)};(e["b10ath.game.UnitThrow"]=Xe).__name__="b10ath.game.UnitThrow",Xe.__super__=ve,Xe.prototype=t(ve.prototype,{setStrategy:function(t){var e=this;ve.prototype.setStrategy.call(this,t),this._strategy==De.PREPARING&&this.setAnimation(Ne.THROW_IDLE,!0),this._strategy==De.QUICKING&&(this._isStarted=!0,this._inputs.isQuick=this._isHuman,this.setAnimation(Ne.THROW_START,!0)),this._strategy==De.SKILLING&&(this._inputs.isQuick=!1,this._isBulletTime=!0,this.setAnimation(Ne.THROW_FINISH,!0),this._createDelay(function(){e._inputs.isSkill=!0},500)),this._strategy==De.FINISHING&&(this._isFinished=!0,this._inputs.isQuick=!1,this._inputs.isSkill=!1)},_init:function(){ve.prototype._init.call(this),this._animation.pose=Ne.THROW_IDLE,this._animation.defaultNextPose=Ne.THROW_RUN,this._inputs.momentumMinScale=.25},_updater:function(t){null==t&&(t=0),ve.prototype._updater.call(this,t),this._isJavelinFinished||(this._score=this._calculateScore()),this._isHuman&&(this._location.hud.configureCurrent(this._score),this._location.hud.configureTargets(this._score)),this._isStarted&&!this._isFinished&&this._strategy==De.QUICKING&&this.position.x>this._location.vo.positions.throwing.launchX-80*(this._bias.timing+1.2)&&this.setStrategy(De.SKILLING)},_skillComplete:function(t){var e=this;ve.prototype._skillComplete.call(this,t);var i=Math.max(100,this._momentum.x*this._bias.power*6.2);this._createDelay(function(){e._javelin=e._createJavelin({x:e.position.x+60,y:e.position.y,z:e.position.z+150}),e._javelin.launch(i,t,function(){e._score=e._calculateScore(),e._location.setScore(e._score),e._isJavelinFinished=!0})},Math.round(1e3/this._factory.targetFramerate*8)),this._isBulletTime=!1,this._momentum.x=0,this.setStrategy(De.FINISHING)},_calculateScore:function(){return this._isJavelinFinished?this._score:null==this._javelin?0:Math.max(0,(this._javelin.position.x-this._location.vo.positions.throwing.launchX)/80)},__class__:Xe});var We=function(t,e,i,s){var n;switch(null==s&&(s=1),this._MAX_UPGRADES=8,oe.call(this,t),this.type=e,this.sport=null==i?Ue.SPRINT:i,this.title=this._getTitle(),this.subtitle=this._getSubtitle(),this.variant=s,this.quicks=this._getQuicks(),this.type._hx_index){case 0:n="assets/game/UnitA.json";break;case 1:n="assets/game/UnitB.json"}switch(this._spriteSheet=new createjs.SpriteSheet(this._assets.getAsset(n)),this.type._hx_index){case 0:n="assets/game/UnitA.png";break;case 1:n="assets/game/UnitB.png"}this._source=this._assets.getAsset(n)};(e["b10ath.game.UnitVo"]=We).__name__="b10ath.game.UnitVo",We.__super__=oe,We.prototype=t(oe.prototype,{_getTitle:function(){var t;switch(this.type._hx_index){case 0:t="gui.units.unitA.title";break;case 1:t="gui.units.unitB.title"}return this._kernel.getConfig(t)},_getSubtitle:function(){var t;switch(this.type._hx_index){case 0:t="gui.units.unitA.subtitle";break;case 1:t="gui.units.unitB.subtitle"}return this._kernel.getConfig(t)},_getQuicks:function(){if("true"==this._kernel.getConfig("settings.overrideDefaultQuicks.random")){for(var t=[!1],e=0;e<1e3;){e++;t.push(Math.random()<.5)}return t}if("qtequicks"==this._kernel.getConfig("settings.overrideDefaultQuicks.safety")){var i;switch(this.sport._hx_index){case 0:i="settings.overrideDefaultQuicks.valueSprint";break;case 1:i="settings.overrideDefaultQuicks.valueThrow";break;case 2:i="settings.overrideDefaultQuicks.valueJump"}for(var s=u.replace(I.string(this._kernel.getConfig(i))," ","").split(","),n=new Array(s.length),e=0,_=s.length;e<_;){var r=e++;n[r]="L"==s[r]}return n}switch(this.sport._hx_index){case 0:return[!1];case 1:return[!0,!1];case 2:return[!1,!0,!1,!0,!1,!1,!0,!0,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0,!1,!1,!1,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0]}},getDefault:function(t){if("hypersurge"==this._kernel.getConfig("settings.overrideDefaultUnitStats.safety"))return 0|this._tools.limit(I.parseInt(this._kernel.getConfig("settings.overrideDefaultUnitStats.value")),3,5);switch(this.type._hx_index){case 0:switch(t._hx_index){case 0:return 5;case 1:return 2;case 2:return 4;case 3:return 3}break;case 1:switch(t._hx_index){case 0:return 3;case 1:return 4;case 2:return 2;case 3:return 5}}},getUpgrade:function(t){switch(t._hx_index){case 0:return this._session.getUpgrade(Me.UPGRADE_MOVEMENT,this.type);case 1:return this._session.getUpgrade(Me.UPGRADE_TIMING,this.type);case 2:return this._session.getUpgrade(Me.UPGRADE_POWER,this.type);case 3:return this._session.getUpgrade(Me.UPGRADE_STAMINA,this.type)}},getTotal:function(t){var e,i=this._MAX_UPGRADES;switch(t._hx_index){case 0:e=this.getDefault(Me.UPGRADE_MOVEMENT)+this.getUpgrade(Me.UPGRADE_MOVEMENT);break;case 1:e=this.getDefault(Me.UPGRADE_TIMING)+this.getUpgrade(Me.UPGRADE_TIMING);break;case 2:e=this.getDefault(Me.UPGRADE_POWER)+this.getUpgrade(Me.UPGRADE_POWER);break;case 3:e=this.getDefault(Me.UPGRADE_STAMINA)+this.getUpgrade(Me.UPGRADE_STAMINA)}return 0|Math.min(i,e)},getAvailable:function(t){switch(t._hx_index){case 0:return this._MAX_UPGRADES-this.getTotal(Me.UPGRADE_MOVEMENT);case 1:return this._MAX_UPGRADES-this.getTotal(Me.UPGRADE_TIMING);case 2:return this._MAX_UPGRADES-this.getTotal(Me.UPGRADE_POWER);case 3:return this._MAX_UPGRADES-this.getTotal(Me.UPGRADE_STAMINA)}},getBias:function(t,e,i,s){null==s&&(s=0);var n,_=s;return null!=i&&((n=this.getTotal(i))<0&&(n=0),n>this._MAX_UPGRADES&&(n=this._MAX_UPGRADES),_=n/this._MAX_UPGRADES),t+_*(e-t)},getPercentageComplete:function(){return(this.getTotal(Me.UPGRADE_MOVEMENT)+this.getTotal(Me.UPGRADE_TIMING)+this.getTotal(Me.UPGRADE_POWER)+this.getTotal(Me.UPGRADE_STAMINA))/(4*this._MAX_UPGRADES)},getFrame:function(t){var e=u.replace(this._tools.toWords(T[t.__enum__].__constructs__[t._hx_index])," ","_"),i=this._spriteSheet.getAnimation(e),s=null;return null!=i&&((s=this._spriteSheet.getFrame(i.frames[0])).image=this._source),s},getFrameTypes:function(i){function t(t,e){return null==e&&(e=4),s._createFrameTypes(s.variant,i,t,e)}var s=this;switch(i._hx_index){case 0:return this._joinArrays([t(1,1)]);case 1:return this._joinArrays([t(1),t(2),t(3)]);case 2:return this._joinArrays([t(1,3),t(2,3),t(3,3)]);case 3:return this._joinArrays([t(1,3),t(2,3),t(3,3),t(4,3),t(5,3),t(6,3)]);case 4:return this._joinArrays([t(1,1)]);case 5:return this._joinArrays([t(1,3),t(2,3),t(3)]);case 6:return this._joinArrays([t(1,3),t(2,3),t(3,3),t(4,3),t(5,3),t(6,3)]);case 7:return this._joinArrays([t(1,3),t(2,3),t(3,3),t(4,3),t(5,3),t(6,3),t(7,3)]);case 8:return this._joinArrays([t(1,1)]);case 9:return this._joinArrays([t(1,3),t(2,3),t(3)]);case 10:return this._joinArrays([t(1,3),t(2,3),t(3,3),t(4,3),t(5,3),t(6,3)]);case 11:case 12:return this._joinArrays([t(1),t(2,5),t(3)]);case 13:return this._joinArrays([t(1),t(2,5),t(3,5),t(4,6),t(5,3),t(6)])}},_createFrameTypes:function(t,e,i,s){var n;switch(null==s&&(s=1),null==t&&(t=1),t<1&&(t=1),4<t&&(t=4),s<1&&(s=1),--t,--i,e._hx_index){case 0:n=[[Re.SPRINT_1_START1],[Re.SPRINT_2_START1],[Re.SPRINT_3_START1],[Re.SPRINT_4_START1]][t][i];break;case 1:n=[[Re.SPRINT_1_SET1,Re.SPRINT_1_SET2,Re.SPRINT_1_SET3],[Re.SPRINT_2_SET1,Re.SPRINT_2_SET2,Re.SPRINT_2_SET3],[Re.SPRINT_3_SET1,Re.SPRINT_3_SET2,Re.SPRINT_3_SET3],[Re.SPRINT_4_SET1,Re.SPRINT_4_SET2,Re.SPRINT_4_SET3]][t][i];break;case 2:n=[[Re.SPRINT_1_START1,Re.SPRINT_1_START2,Re.SPRINT_1_START3],[Re.SPRINT_2_START1,Re.SPRINT_2_START2,Re.SPRINT_2_START3],[Re.SPRINT_3_START1,Re.SPRINT_3_START2,Re.SPRINT_3_START3],[Re.SPRINT_4_START1,Re.SPRINT_4_START2,Re.SPRINT_4_START3]][t][i];break;case 3:n=[[Re.SPRINT_1_RUN1,Re.SPRINT_1_RUN2,Re.SPRINT_1_RUN3,Re.SPRINT_1_RUN4,Re.SPRINT_1_RUN5,Re.SPRINT_1_RUN6],[Re.SPRINT_2_RUN1,Re.SPRINT_2_RUN2,Re.SPRINT_2_RUN3,Re.SPRINT_2_RUN4,Re.SPRINT_2_RUN5,Re.SPRINT_2_RUN6],[Re.SPRINT_3_RUN1,Re.SPRINT_3_RUN2,Re.SPRINT_3_RUN3,Re.SPRINT_3_RUN4,Re.SPRINT_3_RUN5,Re.SPRINT_3_RUN6],[Re.SPRINT_4_RUN1,Re.SPRINT_4_RUN2,Re.SPRINT_4_RUN3,Re.SPRINT_4_RUN4,Re.SPRINT_4_RUN5,Re.SPRINT_4_RUN6]][t][i];break;case 4:n=[Re.THROW_1_START1][i];break;case 5:n=[Re.THROW_1_START1,Re.THROW_1_START2,Re.THROW_1_START3][i];break;case 6:n=[Re.THROW_1_RUN1,Re.THROW_1_RUN2,Re.THROW_1_RUN3,Re.THROW_1_RUN4,Re.THROW_1_RUN5,Re.THROW_1_RUN6][i];break;case 7:n=[Re.THROW_1_FINISH1,Re.THROW_1_FINISH2,Re.THROW_1_FINISH3,Re.THROW_1_FINISH4,Re.THROW_1_FINISH5,Re.THROW_1_FINISH6,Re.THROW_1_FINISH7][i];break;case 8:n=[Re.JUMP_1_IDLE][i];break;case 9:n=[Re.JUMP_1_START1,Re.JUMP_1_START2,Re.JUMP_1_START3][i];break;case 10:n=[Re.JUMP_1_RUN1,Re.JUMP_1_RUN2,Re.JUMP_1_RUN3,Re.JUMP_1_RUN4,Re.JUMP_1_RUN5,Re.JUMP_1_RUN6][i];break;case 11:n=[Re.JUMP_1_HOP1,Re.JUMP_1_HOP2,Re.JUMP_1_HOP3][i];break;case 12:n=[Re.JUMP_1_SKIP1,Re.JUMP_1_SKIP2,Re.JUMP_1_SKIP3][i];break;case 13:n=[Re.JUMP_1_JUMP1,Re.JUMP_1_JUMP2,Re.JUMP_1_JUMP3,Re.JUMP_1_JUMP4,Re.JUMP_1_JUMP5,Re.JUMP_1_JUMP6][i]}for(var _=[],r=0,a=s;r<a;){r++;null!=n&&_.push(n)}return _},_joinArrays:function(t){for(var e=[],i=0;i<t.length;){var s=t[i];++i,e=e.concat(s)}return e},__class__:We});function Qe(t,e,i,s){null==s&&(s=!1),null==i&&(i=100),null==e&&(e=100),this._assets=os.__cast(t.assets,he),this._factory=os.__cast(t.factory,le),this._session=os.__cast(t.get_session(),ge),this._system=t.system,jt.call(this,t,e,i,s)}(e["b10ath.gui.AGuiEntity"]=Qe).__name__="b10ath.gui.AGuiEntity",Qe.__super__=jt,Qe.prototype=t(jt.prototype,{_convertFloatToString:function(t,e,i){var s=""+(t=Math.round(t*Math.pow(10,e))),n=s.length;if(n<=e){for(;n<e;)s="0"+s,++n;s="0."+s}else s=U.substr(s,0,s.length-e)+"."+U.substr(s,s.length-e,null);for(;s.length<i+1;)s="0"+s;return s},__class__:Qe});function Ye(t){Qe.call(this,t,720,405,!1)}(e["b10ath.gui.Action"]=Ye).__name__="b10ath.gui.Action",Ye.__super__=Qe,Ye.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._context.addChild(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/Action.png")))},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._bitmap.x=20*Math.sin(this._updates/50)-5,this._bitmap.y=5*Math.sin(this._updates/125)},__class__:Ye});function Ze(t,e){this._sceneType=e,Qe.call(this,t,t.factory.width,t.factory.height,!1)}(e["b10ath.gui.Bg"]=Ze).__name__="b10ath.gui.Bg",Ze.__super__=Qe,Ze.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._texture=this._assets.getAsset("assets/gui/BgDetail.jpg"),this._bitmap=new createjs.Bitmap(this._assets.getAsset(this._getAbstract())),this._bitmap.cache(0,0,this.width,this.height),this._context.addChild(this._bitmap),this._context.addChild(new createjs.Bitmap(this._assets.getAsset(this._getAbstract()))),this._context.addChild(new createjs.Bitmap(this._assets.getAsset(this._getGradient()))),this._canvas=this._bitmap.cacheCanvas,this._context2d=this._canvas.getContext("2d",null),this._pattern=this._context2d.createPattern(this._texture,"repeat"),this._context2d.fillStyle=this._pattern},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._draw()},_draw:function(){var t=-2*this._kernel._updates%this._texture.width,e=10*Math.sin(this._kernel._updates/30)-10;this._context2d.translate(t,e),this._context2d.fillRect(-t,-e,this.width,this.height),this._context2d.translate(-t,-e)},_getAbstract:function(){switch(this._sceneType._hx_index){case 4:case 9:return"assets/gui/BgAbstract4.png";case 7:return"assets/gui/BgAbstract1.png";case 8:return"assets/gui/BgAbstract2.png";case 15:return"assets/gui/BgAbstract3.png";default:return"assets/gui/BgAbstract4.png"}},_getGradient:function(){switch(this._sceneType._hx_index){case 4:case 8:return"assets/gui/BgGradient2.png";case 7:return"assets/gui/BgGradient1.png";case 9:return"assets/gui/BgGradient3.png";case 15:return"assets/gui/Vignette.png";default:return"assets/gui/BgGradient3.png"}},__class__:Ze});function qe(t,e,i,s,n,_,r,a,o){null==n&&(n=0),null==s&&(s=0);var h=new Kt(t),l=new Kt(t);v.call(this,t,h,l,e,i,s,n,_,r,a,o)}(e["b10ath.gui.BlankButton"]=qe).__name__="b10ath.gui.BlankButton",qe.__super__=v,qe.prototype=t(v.prototype,{_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,v.prototype._updater.call(this,t)},__class__:qe});function $e(t,e,i,s){null==e&&(e=1),this._scale=e,Qe.call(this,t,192,192,!1),this.setPosition(0|i,0|s)}(e["b10ath.gui.Burst"]=$e).__name__="b10ath.gui.Burst",$e.__super__=Qe,$e.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._scale,e=Math.random()<.5?-1:1;this._context.scaleX=t*e;t=this._scale,e=Math.random()<.5?-1:1;this._context.scaleY=t*e,this._context.compositeOperation="lighter",this._context.mouseEnabled=!1,this._context.mouseChildren=!1,this._sprite=new createjs.Sprite(this._createSpriteSheet(),0),this._context.addChild(this._sprite),this._drop=0},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._sprite.gotoAndStop(this._updates-1),16<=this._updates&&(this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer())),this._drop+=Math.random(),this._context.y+=this._drop},_createSpriteSheet:function(){return new createjs.SpriteSheet({framerate:this._factory.targetFramerate,images:[this._assets.getAsset("assets/gui/Burst.jpg")],frames:{width:192,height:192,count:16,regX:96,regY:96}})},__class__:$e});function ti(t,e,i,s,n,_,r,a){null==s&&(s=0),null==i&&(i=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,this._title=e.toUpperCase(),v.call(this,t,this._assets.get_buttonUp(),this._assets.get_buttonOver(),200,65,i,s,n,_,r,a)}(e["b10ath.gui.Button"]=ti).__name__="b10ath.gui.Button",ti.__super__=v,ti.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this);var t=19;new g("iP[ao]d|iPhone","i").match(p.navigator.userAgent)&&(t-=2);var e=this.width-10,i=this.height-t,s=this._kernel.factory.createTextStyle(ae.BUTTON);this._textUp=new vi(this._kernel,e,i,this._title,s),this._textOver=new vi(this._kernel,e,i,this._title,s),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(t)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},setTitle:function(t){this._title!=t&&(this._title=t.toUpperCase(),this._textUp.set_text(this._textOver.set_text(this._title)))},onRollOver:function(){v.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Yt.INTERFACE,0,0,.25)},__class__:ti});function ei(t,e,i,s,n,_,r,a){null==s&&(s=0),null==i&&(i=0),null==e&&(e=""),this._assets=t.assets,this._factory=t.factory,v.call(this,t,this._assets.get_buttonSmallUp(),this._assets.get_buttonSmallOver(),100,30,i,s,n,_,r,a),this.setTitle(e)}(e["b10ath.gui.ButtonSmall"]=ei).__name__="b10ath.gui.ButtonSmall",ei.__super__=v,ei.prototype=t(v.prototype,{_init:function(){v.prototype._init.call(this);var t=6;new g("iP[ao]d|iPhone","i").match(p.navigator.userAgent)&&(t-=2);var e=this.width-10,i=this.height-t,s=this._kernel.factory.createTextStyle(ae.BUTTON);s.size=12,this._textUp=new vi(this._kernel,e,i,this._title,s),(s=this._kernel.factory.createTextStyle(ae.BUTTON)).size=12,this._textOver=new vi(this._kernel,e,i,this._title,s),this._textUp.set_x(this._textOver.set_x(5)),this._textUp.set_y(this._textOver.set_y(t)),this._stateUp.addEntity(this._textUp,null,!0,2),this._stateOver.addEntity(this._textOver,null,!0,2)},_updater:function(t){null==t&&(t=0);var e=this.get_view().context.localToGlobal(0,0);this.get_view().globalX=e.x,this.get_view().globalY=e.y,v.prototype._updater.call(this,t)},setTitle:function(t){this._title=t,this._title=this._title.toUpperCase(),this._textUp.set_text(this._title),this._textOver.set_text(this._title)},onRollOver:function(){v.prototype.onRollOver.call(this),this._kernel.audio.start("ButtonOver",Yt.INTERFACE,0,0,.25)},onClick:function(){v.prototype.onClick.call(this),this.isOver=!1},__class__:ei});function ii(t,e){null==e&&(e=!0),this._isAnimated=e,Qe.call(this,t,120,32,!1)}(e["b10ath.gui.Coins"]=ii).__name__="b10ath.gui.Coins",ii.__super__=Qe,ii.prototype=t(Qe.prototype,{_init:function(){var t=this;Qe.prototype._init.call(this),this._displayValue=this._prevCoins=this._session.getCoins(),this._isAnimated?(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/game/Coin.png")),this._bitmap.sourceRect=new createjs.Rectangle(0,0,32,32),this._bitmap.y=3):(this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/game/Coin.png")),this._bitmap.sourceRect=new createjs.Rectangle(320,0,32,32),this._bitmap.cache(0,0,32,32)),this._bitmap.x=this.width-32,this._bitmap.y=3,this._context.addChild(this._bitmap);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new vi(this._kernel,this._bitmap.x-5,20,I.string(this._kernel.getConfig("gui.scenes.game.hud.coins")).toUpperCase(),e,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10),this._message=new vi(this._kernel,this._bitmap.x-5,35,I.string(this._displayValue),this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_COINS)),this._message.setPosition(.85*this._message.width-1,.5*this._message.height+5),this._message._context.regX=.85*this._message.width,this._message._context.regY=.5*this._message.height,this._session.get_isTester()&&this.addEntity(new qe(this._kernel,0|this.width,0|this.height,0,0,null,function(){t._session.setCoins(null,t._session.getCoins()+100)}),null,!0,10),this.addEntity(this._message,null,!0,1)},_updater:function(t){null==t&&(t=0);var e,i,s=this;Qe.prototype._updater.call(this,t),this._isAnimated&&(this._bitmap.sourceRect.x=this._updates%32*32),this._age<3e3||(this._prevCoins!=this._session.getCoins()&&(e=.25,this._prevCoins+1!=this._session.getCoins()&&(e=.65,null!=this._tweezer&&((i=this._tweezer).isDisposed||(i.isDisposed=!0,i.set_isActive(!1),i._disposer())),this.addEntity(this._tweezer=new ps(this._kernel,function(t){s._message._context.scaleX=s._message._context.scaleY=t},1.75,1,0,1e3,null,cs.EASE_OUT,ds.QUARTIC))),this._kernel.audio.start("Coin",Yt.INTERFACE,0,0,e,null,!1)),this._prevCoins=this._session.getCoins(),this._displayValue!=this._session.getCoins()&&(i=this._tools,this._displayValue=Math.round(.9*this._displayValue+.1*this._session.getCoins()),Math.abs(this._displayValue-this._session.getCoins())<5&&(this._displayValue=this._session.getCoins()),this._message.set_text(I.string(this._displayValue))))},__class__:ii});function si(t,e,i){this._MEDAL_WIDTH=100,this._unitType=e,this._medalType=i,Qe.call(this,t,720,405,!1)}(e["b10ath.gui.Hero"]=si).__name__="b10ath.gui.Hero",si.__super__=Qe,si.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._container=new createjs.Container,this._context.addChild(this._container),this._container.addChild(this._bitmap=new createjs.Bitmap(this._assets.getAsset(this._getImage()))),this._medalBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/HeroMedals.png"));var t=this._getMedalCol()*this._MEDAL_WIDTH;this._medalBitmap.sourceRect=new createjs.Rectangle(t,0,this._MEDAL_WIDTH,this.height),this._medalBitmap.x=.5*(this.width-this._MEDAL_WIDTH),this._medalType!=ke.MEDAL_NONE&&this._container.addChild(this._medalBitmap)},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._container.x=10*Math.sin(this._updates/50)},_getImage:function(){switch(this._unitType._hx_index){case 0:return"assets/gui/HeroUnitA.png";case 1:return"assets/gui/HeroUnitB.png"}},_getMedalCol:function(){switch(this._unitType._hx_index){case 0:switch(this._medalType._hx_index){case 0:case 1:return 0;case 2:return 1;case 3:return 2}break;case 1:switch(this._medalType._hx_index){case 0:return 0;case 1:return 3;case 2:return 4;case 3:return 5}}},__class__:si});function ni(t,e,i,s,n,_){this._isCoinsVisible=e,this._isCoinsVisible=!0,this._isDistance=i,this._scoreGold=s,this._scoreSilver=n,this._scoreBronze=_,Qe.call(this,t,t.factory.width,t.factory.height,!1)}(e["b10ath.gui.Hud"]=ni).__name__="b10ath.gui.Hud",ni.__interfaces__=[Te],ni.__super__=Qe,ni.prototype=t(Qe.prototype,{_init:function(){var e=this;Qe.prototype._init.call(this);var t=new createjs.Bitmap(this._assets.getAsset("assets/gui/Hud.png"));t.sourceRect=new createjs.Rectangle(0,0,this.width,80),this._context.addChild(t),this._targets=new li(this._kernel,this._isDistance,this._scoreGold,this._scoreSilver,this._scoreBronze),this.addEntity(this._targets,null,!0,10),this._targets.setPosition(20,12),this._current=new ri(this._kernel,this._isDistance),this.addEntity(this._current,null,!0,10),this._current.setPosition(this._current.x+70,12),this._coins=new ii(this._kernel,!1),this.addEntity(this._coins,null,this._isCoinsVisible,100),this._coins.setPosition(540,12),this._alert=new _i(this._kernel),this.addEntity(this._alert,null,!0,90),this._alert.setPosition(.5*(this.width-this._alert.width),.26*(this.height-this._alert.height)),this._prompt=new ai(this._kernel),this.addEntity(this._prompt,null,!0,20),this._prompt.setPosition(.5*(this.width-this._prompt.width),.4*(this.height-this._prompt.height));this._skill=new hi(this._kernel),this.addEntity(this._skill,null,!0,50),this._skill.setPosition(.5*(this.width-this._skill.width),.84*(this.height-this._skill.height)),this._quickLeft=new oi(this._kernel,!0),this.addEntity(this._quickLeft,null,!0,50),this._quickLeft.setPosition(.25*(this.width-this._quickLeft.width),.84*(this.height-this._quickLeft.height)),this._quickRight=new oi(this._kernel,!1),this.addEntity(this._quickRight,null,!0,50),this._quickRight.setPosition(.75*(this.width-this._quickRight.width),.84*(this.height-this._quickRight.height)),this._vignette=new Ti(this._kernel,0),this.addEntity(this._vignette,null,!0,1),this.addEntity(new ps(this._kernel,function(t){e._targets.set_y(t)},-100,this._targets.y,2e3,1e3,0,cs.EASE_OUT,ds.QUARTIC)),this.addEntity(new ps(this._kernel,function(t){e._current.set_y(t)},-100,this._current.y,2e3,1e3,0,cs.EASE_OUT,ds.QUARTIC)),this.addEntity(new ps(this._kernel,function(t){e._coins.set_y(t)},-100,this._coins.y,3e3,1e3,0,cs.EASE_OUT,ds.QUARTIC))},configureTargets:function(t){this._targets.configure(t)},configureCurrent:function(t){this._current.configure(t)},configureAlert:function(t){this._alert.configure(t)},configurePrompt:function(t,e){null==e&&(e=!1),this._prompt.configure(t,e)},configureSkill:function(t){this._skill.configure(t)},configureQuick:function(t,e){null==e&&(e=!1),t?(this._quickLeft.configure(e),this._quickRight.configure(!e)):(this._quickLeft.configure(!1),this._quickRight.configure(!1))},activateQuick:function(t){return t?this._quickLeft.activate():this._quickRight.activate()},configureVignette:function(t){this._vignette.set_alpha(t)},__class__:ni});var _i=function(t){Qe.call(this,t,500,80,!1)};(e["b10ath.gui.HudAlert"]=_i).__name__="b10ath.gui.HudAlert",_i.__super__=Qe,_i.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_ALERT);this._title=new vi(this._kernel,this.width,20,"",t),this.addEntity(this._title,null,!0,10)},configure:function(t){var e,i,s,n,_=this;"___"!=t&&(this._value=t,this._title.set_text(t.toUpperCase()),this._context.alpha=1,this._context.uncache(),e=ks(l=this._context,l.cache),i=this.width,s=this.height,Gi.delay(function(){e(0,0,i,s)},100),null!=this._tweezer&&((n=this._tweezer).isDisposed||(n.isDisposed=!0,n.set_isActive(!1),n._disposer())),this.addEntity(this._tweezer=new ps(this._kernel,function(t){_._context.alpha=t},1,0,1e3,500,0,cs.EASE_OUT,ds.QUARTIC)))},__class__:_i});var ri=function(t,e){this._delimeter=".",this._isDistance=e,Qe.call(this,t,220,60,!1)};(e["b10ath.gui.HudCurrent"]=ri).__name__="b10ath.gui.HudCurrent",ri.__super__=Qe,ri.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new vi(this._kernel,this.width,20,I.string(this._kernel.getConfig(this._isDistance?"gui.scenes.game.hud.current.distance":"gui.scenes.game.hud.current.time")).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10),this._digits=[];for(var e=100,i=0,s=(this._isDistance?this._convertFloatToString(0,2,4):U.substr(this._tools.convertUpdatesToFormattedTime(0,this._delimeter),3,null)).split("");i<s.length;){var n=s[i];++i;var _=this._createDigit(n,e,-5);this._digits.push(_),this.addEntity(_,null,!0,10),e+=n==this._delimeter?10:28}},configure:function(t){if(this._value!=t){this._value=t;for(var e=0,i=0,s=(this._isDistance?this._convertFloatToString(this._value,2,4):U.substr(this._tools.convertUpdatesToFormattedTime(0|this._value,this._delimeter),3,null)).split("");i<s.length;){var n=s[i];++i,this._digits[e].set_text(n),++e}}},_createDigit:function(t,e,i){var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_CURRENT),n=new vi(this._kernel,40,40,t,s);return n.setPosition(e,i),n},__class__:ri});var ai=function(t){Qe.call(this,t,300,30,!1)};(e["b10ath.gui.HudPrompt"]=ai).__name__="b10ath.gui.HudPrompt",ai.__super__=Qe,ai.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_PROMPT);this._title=new vi(this._kernel,this.width,20,"",t),this.addEntity(this._title,null,!0,10)},configure:function(t,e){var i,s,n;null==e&&(e=!1),"___"!=t&&(e&&this._value==t||(this._value=t,this._title.set_text(t.toUpperCase()),this._context.alpha=1,this._context.uncache(),i=ks(l=this._context,l.cache),s=this.width,n=this.height,Gi.delay(function(){i(0,0,s,n)},100),this._transitionIn()))},_transitionIn:function(){var t,e=this;null!=this._tweezerIn&&((t=this._tweezerIn).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezerOut&&((t=this._tweezerOut).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezerIn=new ps(this._kernel,function(t){e._context.alpha=t},0,1,0,250,0,cs.EASE_IN,ds.QUARTIC,ks(this,this._transitionOut)))},_transitionOut:function(){var t,e=this;null!=this._tweezerIn&&((t=this._tweezerIn).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezerOut&&((t=this._tweezerOut).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezerOut=new ps(this._kernel,function(t){e._context.alpha=t},1,0,750,250,0,cs.EASE_OUT,ds.QUARTIC,function(){e._value=""}))},__class__:ai});var oi=function(t,e){this._tweezers={transitionInRing:null,transitionInButton:null,transitionInComplete:null,transitionOut:null,transitionWrong:null},this._values={isOn:!1},this._isLeft=e,Qe.call(this,t,100,100,!1)};(e["b10ath.gui.HudQuick"]=oi).__name__="b10ath.gui.HudQuick",oi.__super__=Qe,oi.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._source=this._assets.getAsset("assets/gui/Hud.png"),this._bitmaps={up:new createjs.Bitmap(this._source),over:new createjs.Bitmap(this._source),wrong:new createjs.Bitmap(this._source),ring:new createjs.Bitmap(this._source),arrow:new createjs.Bitmap(this._source)};this._bitmaps.up.sourceRect=new createjs.Rectangle(0*this.width,180,this.width,this.height),this._bitmaps.over.sourceRect=new createjs.Rectangle(this.width,180,this.width,this.height),this._bitmaps.wrong.sourceRect=new createjs.Rectangle(2*this.width,180,this.width,this.height),this._bitmaps.ring.sourceRect=new createjs.Rectangle(3*this.width,180,this.width,this.height),this._bitmaps.arrow.sourceRect=new createjs.Rectangle((this._isLeft?4:5)*this.width,180,this.width,this.height),this._bitmaps.ring.x=this._bitmaps.ring.regX=.5*this.width,this._bitmaps.ring.y=this._bitmaps.ring.regY=.5*this.height,this._buttonContainer=new createjs.Container,this._buttonContainer.addChild(this._bitmaps.up),this._buttonContainer.addChild(this._bitmaps.over),this._buttonContainer.addChild(this._bitmaps.arrow),this._context.addChild(this._bitmaps.ring),this._context.addChild(this._buttonContainer),this._context.addChild(this._bitmaps.wrong),this._reset()},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t)},_createTweezerTransitionIn:function(){var e=this;this._buttonContainer.visible=!0,this._bitmaps.up.visible=!0,this._bitmaps.ring.visible=!0,this._removeTransitions(),this.addEntity(this._tweezers.transitionInRing=new ps(this._kernel,function(t){e._bitmaps.ring.alpha=t},0,1,150,250,0,cs.EASE_IN,ds.QUARTIC,ks(this,this._createTweezerTransitionInComplete))),this.addEntity(this._tweezers.transitionInButton=new ps(this._kernel,function(t){e._buttonContainer.y=t},this._factory.height-this.y+this.height,0,150,1e3,0,cs.EASE_OUT,ds.ELASTIC(500,.5)))},_createTweezerTransitionInComplete:function(){var t,e=this;null!=this._tweezers.transitionInComplete&&((t=this._tweezers.transitionInComplete).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezers.transitionInComplete=new ps(this._kernel,function(t){e._bitmaps.ring.scaleX=e._bitmaps.ring.scaleY=2-t,e._bitmaps.ring.alpha=t},1,0,0,500,0,cs.EASE_OUT,ds.QUARTIC))},_createTweezerTransitionWrong:function(){var e=this;this._removeTransitions(),this._bitmaps.wrong.visible=!0,this.addEntity(this._tweezers.transitionWrong=new ps(this._kernel,function(t){e._bitmaps.wrong.alpha=t},1,0,150,500,0,cs.EASE_IN,ds.QUARTIC,function(){e._bitmaps.wrong.visible=!1}))},_removeTransitions:function(){var t;null!=this._tweezers.transitionInRing&&((t=this._tweezers.transitionInRing).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.transitionInButton&&((t=this._tweezers.transitionInButton).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.transitionInComplete&&((t=this._tweezers.transitionInComplete).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.transitionOut&&((t=this._tweezers.transitionOut).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.transitionWrong&&((t=this._tweezers.transitionWrong).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer()))},_reset:function(){this._buttonContainer.visible=!1,this._bitmaps.up.visible=!1,this._bitmaps.over.visible=!1,this._bitmaps.ring.visible=!1,this._bitmaps.wrong.visible=!1,this._bitmaps.ring.scaleX=this._bitmaps.ring.scaleY=1,this._removeTransitions()},_createBurst:function(t){var e=new $e(this._kernel,t,.5*this.width,.5*this.height);return this.addEntity(e,null,!0,10),e},configure:function(t){t&&this._values.isOn||(t||this._values.isOn)&&(this._reset(),this._values.isOn=!1,t&&(this._createTweezerTransitionIn(),this._values.isOn=!0))},activate:function(){return this._values.isOn?(this._createBurst(.75),this._reset(),!(this._values.isOn=!1)):(this._createTweezerTransitionWrong(),!1)},__class__:oi});var hi=function(t){this._tweezers={transitionIn:null,transitionOut:null,shake:null,spin:null},this._values={actual:0,isConfigured:!1,isDirty:!1,isChanged:!1,isPenalty:!1},Qe.call(this,t,100,100,!1)};(e["b10ath.gui.HudSkill"]=hi).__name__="b10ath.gui.HudSkill",hi.__super__=Qe,hi.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._source=this._assets.getAsset("assets/gui/Hud.png"),this._bitmaps={up:new createjs.Bitmap(this._source),over:new createjs.Bitmap(this._source),arrowFill:new createjs.Bitmap(this._source),arrowBorder:new createjs.Bitmap(this._source),gradient:new createjs.Bitmap(this._source)};this._bitmaps.up.sourceRect=new createjs.Rectangle(0*this.width,80,this.width,this.height),this._bitmaps.over.sourceRect=new createjs.Rectangle(this.width,80,this.width,this.height),this._bitmaps.arrowFill.sourceRect=new createjs.Rectangle(2*this.width,80,this.width,this.height),this._bitmaps.arrowBorder.sourceRect=new createjs.Rectangle(3*this.width,80,this.width,this.height),this._bitmaps.gradient.sourceRect=new createjs.Rectangle(4*this.width,80,this.width,this.height),this._bitmaps.gradient.cache(0,0,this.width,this.height),this._mask=new createjs.Shape,this._mask.x=this._mask.regX=.5*this.width,this._mask.y=this._mask.regY=.5*this.height,this._mask.rotation=-90,this._mask.visible=!1,this._bitmaps.gradient.mask=this._mask,this._arrowTint=new createjs.Shape,this._arrow=new createjs.Container,this._arrow.addChild(this._bitmaps.arrowFill),this._arrow.addChild(this._arrowTint),this._arrow.addChild(this._bitmaps.arrowBorder),this._arrow.x=this._arrow.regX=.5*this.width,this._arrow.y=this._arrow.regY=.5*this.height,this._container=new createjs.Container,this._container.addChild(this._mask),this._context.addChild(this._container),this._container.addChild(this._bitmaps.gradient),this._container.addChild(this._arrow),this._container.addChild(this._bitmaps.up),this._container.addChild(this._bitmaps.over),this._reset()},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._values.isConfigured&&(this._container.alpha=.75*this._container.alpha+.25,this._values.isDirty?(this._bitmaps.up.visible=!this._values.isChanged,this._bitmaps.over.visible=this._values.isChanged,this._rotate(this._values.actual)):(this._createBurst(.25,this._values.isPenalty?0:this._values.actual),this._bitmaps.up.visible=!1,this._bitmaps.over.visible=!1,this._arrowTint.visible=!0,this._rotate(this._values.actual),this._tint(this._values.actual),1==this._values.actual?(this._kernel.audio.start("SkillPerfect",Yt.INTERFACE,0,0,.35,null,!1),this._createTweezerSpin(),this._createTweezerTransitionOut()):(this._values.isPenalty&&this._kernel.audio.start("SkillPenalty",Yt.INTERFACE,0,0,.35,null,!1),this._createTweezerShake()),this._values.isConfigured=!1)),this._values.isDirty=!1,this._values.isChanged=!1},_rotate:function(t){1<t?t=1:t<0&&(t=0),this._arrow.rotation=360*t,this._mask.graphics.clear(),this._mask.graphics.beginFill("#FF0000"),this._mask.graphics.arc(.5*this.width,.5*this.height,.5*this.width,0,t*Math.PI*2,!1),this._mask.graphics.lineTo(.5*this.width,.5*this.height),this._mask.graphics.closePath()},_tint:function(t){1<t?t=1:t<0&&(t=0);var e=Math.round(35*Math.cos((t-.27)*Math.PI*2)+.5*this.width),i=Math.round(35*Math.sin((t-.27)*Math.PI*2)+.5*this.height),s=this._getColor(this._bitmaps.gradient.cacheCanvas,e,i);this._arrowTint.graphics.clear(),this._arrowTint.graphics.beginFill(s),this._arrowTint.graphics.rect(0,0,this.width,this.height),this._arrowTint.graphics.closePath(),this._bitmaps.arrowFill.cache(0,0,this.width,this.height),this._arrowTint.filters=[new createjs.AlphaMaskFilter(this._bitmaps.arrowFill.cacheCanvas)],this._arrowTint.cache(0,0,this.width,this.height)},_getColor:function(t,e,i){var s=t.getContext("2d",null).getImageData(e,i,1,1).data;return"#"+u.hex(s[0]<<16|s[1]<<8|s[2])},_createTweezerShake:function(){var t,e=this;null!=this._tweezers.shake&&((t=this._tweezers.shake).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezers.shake=new ps(this._kernel,function(t){e._rotate(e._values.actual+.2*t*(1.2-e._values.actual)*(e._values.isPenalty?1:-1))},1,0,0,150*(this._values.isPenalty?2:1),0,cs.EASE_OUT,ds.BOUNCE,ks(this,this._createTweezerTransitionOut)))},_createTweezerSpin:function(){var t,e=this;null!=this._tweezers.spin&&((t=this._tweezers.spin).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezers.spin=new ps(this._kernel,function(t){e._createBurst(.25,t)},0,1,0,400,0,cs.EASE_OUT,ds.LINEAR))},_createTweezerTransitionIn:function(){var t,e=this;null!=this._tweezers.shake&&((t=this._tweezers.shake).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.spin&&((t=this._tweezers.spin).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),null!=this._tweezers.transitionOut&&((t=this._tweezers.transitionOut).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this._reset(),null!=this._tweezers.transitionIn&&((t=this._tweezers.transitionIn).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this.addEntity(this._tweezers.transitionIn=new ps(this._kernel,function(t){e._container.alpha=t},0,1,0,250,0,cs.EASE_IN,ds.QUARTIC))},_createTweezerTransitionOut:function(){var t,e=this;null!=this._tweezers.transitionOut&&((t=this._tweezers.transitionOut).isDisposed||(t.isDisposed=!0,t.set_isActive(!1),t._disposer())),this._container.cache(0,0,this.width,this.height),this.addEntity(this._tweezers.transitionOut=new ps(this._kernel,function(t){e._container.alpha=t},1,0,150,250,0,cs.EASE_OUT,ds.QUARTIC,ks(this,this._reset)))},_reset:function(){this._container.uncache(),this._container.alpha=0,this._arrowTint.visible=!1,this._bitmaps.up.visible=!0,this._bitmaps.over.visible=!1,this._values.actual=0,this._values.isConfigured=!1,this._values.isDirty=!1,this._values.isPenalty=!1},_createBurst:function(t,e){var i=Math.round(Math.cos((e-.25)*Math.PI*2)*(.35*this.width)+.5*this.width),s=Math.round(Math.sin((e-.25)*Math.PI*2)*(.35*this.width)+.5*this.height),n=new $e(this._kernel,t,i,s);return this.addEntity(n,null,!0,10),n},configure:function(t){t<0&&(t=.5,this._values.isPenalty=!0),this._values.isConfigured||this._createTweezerTransitionIn(),1<t?t=1:t<0&&(t=0),this._values.isChanged=t!=this._values.actual,this._values.actual=t,this._values.isConfigured=!0,this._values.isDirty=!0},__class__:hi});var li=function(t,e,i,s,n){this._isDistance=e,this._scoreGold=i,this._scoreSilver=s,this._scoreBronze=n,Qe.call(this,t,110,60,!1)};(e["b10ath.gui.HudTargets"]=li).__name__="b10ath.gui.HudTargets",li.__super__=Qe,li.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new vi(this._kernel,this.width,20,I.string(this._kernel.getConfig(this._isDistance?"gui.scenes.game.hud.targets.distance":"gui.scenes.game.hud.targets.time")).toUpperCase(),t,null,null,.5),this._title.setPosition(0,0),this.addEntity(this._title,null,!0,10);var e=11;this.addEntity(this._targetGold=new ui(this._kernel,this._isDistance,ke.MEDAL_GOLD,this._scoreGold,e),null,!0,10),this.addEntity(this._targetSilver=new ui(this._kernel,this._isDistance,ke.MEDAL_SILVER,this._scoreSilver,e+=11),null,!0,10),this.addEntity(this._targetBronze=new ui(this._kernel,this._isDistance,ke.MEDAL_BRONZE,this._scoreBronze,e+=11),null,!0,10)},configure:function(t){this._targetGold.setIsExpired(this._isDistance?t>this._scoreGold:t<=this._scoreGold),this._targetSilver.setIsExpired(this._isDistance?t>this._scoreSilver:t<=this._scoreSilver),this._targetBronze.setIsExpired(this._isDistance?t>this._scoreBronze:t<=this._scoreBronze)},__class__:li});var ui=function(t,e,i,s,n){this._delimeter=".",this._isDistance=e,this._medalType=i,this._score=s,Qe.call(this,t,110,20,!1),this.set_y(n),this.setIsExpired(this._isDistance)};(e["b10ath.gui._HudTargets._HelperTarget"]=ui).__name__="b10ath.gui._HudTargets._HelperTarget",ui.__super__=Qe,ui.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);var t=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);this._title=new vi(this._kernel,50,20,this._session.getMedalTitle(this._medalType).toUpperCase(),t,null,null,.5),this._title.setPosition(10,0),this.addEntity(this._title,null,!0,10),this._digits=[];for(var e=72,i=0,s=(this._isDistance?this._convertFloatToString(this._score,2,4):U.substr(this._tools.convertUpdatesToFormattedTime(0|this._score,this._delimeter),3,null)).split("");i<s.length;){var n=s[i];++i;var _=this._createDigit(n,e,0);this._digits.push(_),this.addEntity(_,null,!0,10),e+=n==this._delimeter?4:8}},_createDigit:function(t,e,i){var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_HUD_TITLE);s.align=re.LEFT;var n=new vi(this._kernel,10,10,t,s);return n.setPosition(e,i),n},setIsExpired:function(t){for(var e=0,i=this._digits;e<i.length;){var s=i[e];++e,s._context.alpha=t?1:.25}},__class__:ui});function ci(t,e,i,s){null==s&&(s=1),null==i&&(i=!1),this._imageElement=e,this._isAdd=i,Qe.call(this,t,this._imageElement.width,this._imageElement.height,!1),this.set_alpha(s)}(e["b10ath.gui.Image"]=ci).__name__="b10ath.gui.Image",ci.__super__=Qe,ci.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._imageElement),this._context.addChild(this._bitmap),this._bitmap.compositeOperation=this._isAdd?"lighter":"source-over"},set_alpha:function(t){return this._bitmap.alpha=t},__class__:ci});var di=function(t){this._assetManager=os.__cast(t.assets,he),this._buttonSize=50,Bt.call(this,t,this._buttonSize,this._buttonSize,null,null,null,null,null,null,null,this._assetManager.overlayPauseUp,this._assetManager.overlayPauseOver,null,null,4,0,.85)};(e["b10ath.gui.Overlay"]=di).__name__="b10ath.gui.Overlay",di.__super__=Bt,di.prototype=t(Bt.prototype,{_init:function(){Bt.prototype._init.call(this);var t=this._kernel.factory.width-this._buttonSize-5;this.positionButton(ne.PAUSE,t,4),this.positionButton(ne.UNPAUSE,-this._buttonSize-10,4),this.positionButton(ne.BACK,-this._buttonSize-10,4),this.positionButton(ne.MUTE,-this._buttonSize-10,4),this.positionButton(ne.UNMUTE,-this._buttonSize-10,4),this._flashView.set_isVisible(!0),this._pauseMenu=new wi(this._kernel),this.set_pauseEntity(this._pauseMenu)},flash:function(t,e,i,s){null==s&&(s=16777215),null==i&&(i=1),null==e&&(e=!0),this._flashContext.compositeOperation=0==s?"source-over":"lighter",Bt.prototype.flash.call(this,t,e,i,s)},_drawPause:function(t){null==t&&(t=!0),Bt.prototype._drawPause.call(this,t),this._pauseMenu.pauseHandler(t)},__class__:di});function pi(t,e){this._isSmall=e,Qe.call(this,t,this._isSmall?230:380,this._isSmall?190:240,!1)}(e["b10ath.gui.Panel"]=pi).__name__="b10ath.gui.Panel",pi.__super__=Qe,pi.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this.set_y(.5*(this._factory.height-this.height)),this.addEntity(new y(this._kernel,null,this._bgContext=new createjs.Container),null,!0,1),this._bgContext.alpha=.5,this.addEntity(new ci(this._kernel,this._kernel.assets.getAsset(this._isSmall?"assets/gui/PanelSmallBg.png":"assets/gui/PanelBigBg.png")),null,!0,2),this.addEntity(new y(this._kernel,null,this._fgContext=new createjs.Container),null,!0,999),this.addEntity(new ci(this._kernel,this._kernel.assets.getAsset(this._isSmall?"assets/gui/PanelSmallFg.png":"assets/gui/PanelBigFg.png")),null,!0,1e3)},__class__:pi});function gi(t,e){this._type=e,pi.call(this,t,!0)}(e["b10ath.gui.PanelLevel"]=gi).__name__="b10ath.gui.PanelLevel",gi.__super__=pi,gi.prototype=t(pi.prototype,{_init:function(){pi.prototype._init.call(this),this.vo=new Fe(this._kernel,this._type),this._bgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelLevelBg.png"));var t=this._getBgCol()*this.width;this._bgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._bgContext.addChild(this._bgBitmap),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelLevel.png"));t=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);e.spacingVertical=16,this._title=new vi(this._kernel,125,this.height-60,this._getTitle().toUpperCase(),e),this._title.setPosition(0,62),this.addEntity(this._title,null,!0,10);var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);this._message=new vi(this._kernel,this.width-60,this.height-60,this._getMessage().toUpperCase(),i,null,null,.5),this._message.setPosition(30,131),this.addEntity(this._message,null,!0,10)},_getTitle:function(){var t="";return t+=this.vo.title.split(" ").join("\n"),this.vo.isLocked||this.vo.isNew?this.vo.isNew?t+="\n"+I.string(this._kernel.getConfig("gui.scenes.selectLevel.new")).toUpperCase():this.vo.isLocked&&(t+="\n"+I.string(this._kernel.getConfig("gui.scenes.selectLevel.locked")).toUpperCase()):t+="\n"+this._session.getMedalTitle(this.vo.medalType),t},_getMessage:function(){return this.vo.message},_getBgCol:function(){switch(this._type._hx_index){case 0:return 0;case 1:return 1;case 2:return 2}},_getFgCol:function(){if(this.vo.isLocked)return 4;switch(this.vo.medalType._hx_index){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},__class__:gi});function fi(t,e){this._medalType=e,this._delayInitial=1500,this._delayMedal=750,pi.call(this,t,!0)}(e["b10ath.gui.PanelResult"]=fi).__name__="b10ath.gui.PanelResult",fi.__super__=pi,fi.prototype=t(pi.prototype,{_init:function(){pi.prototype._init.call(this),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelResult.png")),this._fgBitmap.sourceRect=new createjs.Rectangle(0,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var t,e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);switch(this._message=new vi(this._kernel,this.width-60,this.height-60,this._getMessage().toUpperCase(),e),this._message.setPosition(30,131),this.addEntity(this._message,null,!0,10),this._medalType._hx_index){case 0:t=[];break;case 1:t=[ke.MEDAL_BRONZE];break;case 2:t=[ke.MEDAL_BRONZE,ke.MEDAL_SILVER];break;case 3:t=[ke.MEDAL_BRONZE,ke.MEDAL_SILVER,ke.MEDAL_GOLD]}for(var i=this._delayInitial,s=0;s<t.length;){var n=t[s];++s,i+=this._delayMedal,this.addEntity(new Xt(this._kernel,function(t,e){return function(){t[0](e[0])}}([ks(this,this._showMedal)],[n]),i))}},_showMedal:function(t){var e=this._getFgCol(t);this._fgBitmap.sourceRect.x=e*this.width;var i=t._hx_index;this.addEntity(new $e(this._kernel,1,40*(i+1),70),null,!0,1e3),this._kernel.overlay.flash(100*i+100,!0,.3*i),0<i&&(this._kernel.audio.start("GameOver",Yt.INTERFACE,1,0,.5*i),this._kernel.audio.start("Medal"+i,Yt.INTERFACE,1,0,.5*i))},_getMessage:function(){var t="";return t+=I.string(this._kernel.getConfig("gui.scenes.results.message"))+" ",t+=this._session.getMedalTitle(this._medalType)+"\n"},_getFgCol:function(t){switch(t._hx_index){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3}},__class__:fi});function mi(t,e){this._type=e,pi.call(this,t,!1)}(e["b10ath.gui.PanelShop"]=mi).__name__="b10ath.gui.PanelShop",mi.__super__=pi,mi.prototype=t(pi.prototype,{_init:function(){pi.prototype._init.call(this),this.vo=new We(this._kernel,this._type),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelShop.png"));var t=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var e=new ii(this._kernel);e.setPosition(215,43),this.addEntity(e,null,!0,30);var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);this._message=new vi(this._kernel,112,this.height-60,this._getTitle().toUpperCase(),i,null,null,1),this._message.setPosition(0,50),this.addEntity(this._message,null,!0,10);var s=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_STATS);this._title=new vi(this._kernel,this._message.width,this.height-60,this._getMessage().toUpperCase(),s,null,null,.5),this._title.setPosition(this._message.x,this._message.y-7),this.addEntity(this._title,null,!0,10);for(var n=86,_=[Me.UPGRADE_MOVEMENT,Me.UPGRADE_TIMING,Me.UPGRADE_POWER,Me.UPGRADE_STAMINA],r=0;r<_.length;){var a=_[r];++r;var o=this._createUpgrade(a,this._type,0,n);this.addEntity(o,null,!0,15),n+=0|o.height}},_createUpgrade:function(t,e,i,s){var n=new xi(this._kernel,t,this.vo);return n.setPosition(i,s),n},_getTitle:function(){return this.vo.title},_getMessage:function(){return this.vo.subtitle},_getFgCol:function(){switch(this._type._hx_index){case 0:return 0;case 1:return 1}},__class__:mi});function yi(t,e){this._statHeight=12,this._statWidth=8,this._type=e,pi.call(this,t,!0)}(e["b10ath.gui.PanelUnit"]=yi).__name__="b10ath.gui.PanelUnit",yi.__super__=pi,yi.prototype=t(pi.prototype,{_init:function(){pi.prototype._init.call(this),this.vo=new We(this._kernel,this._type),this._fgBitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelUnit.png"));var t=this._getFgCol()*this.width;this._fgBitmap.sourceRect=new createjs.Rectangle(t,0,this.width,this.height),this._fgContext.addChild(this._fgBitmap);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE);this._message=new vi(this._kernel,112,this.height-60,this._getTitle().toUpperCase(),e,null,null,1),this._message.setPosition(0,50),this.addEntity(this._message,null,!0,10);var i=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_STATS);this._title=new vi(this._kernel,this._message.width,this.height-60,this._getMessage().toUpperCase(),i,null,null,.5),this._title.setPosition(this._message.x,this._message.y-7),this.addEntity(this._title,null,!0,10);for(var s=80,n=[Me.UPGRADE_MOVEMENT,Me.UPGRADE_TIMING,Me.UPGRADE_POWER,Me.UPGRADE_STAMINA],_=0;_<n.length;){var r=n[_];++_;var a=this._createBar(r);a.set_y(s),s+=a.height,this.addEntity(a,null,!0,15)}},_createBar:function(t){var e=new Qe(this._kernel,this.width,this._statHeight+2,!1),i=this._title.textStyle.clone();i.size=16;var s=new vi(this._kernel,this._message.width,e.height,this._session.getUpgradeTitle(t).toUpperCase(),i);e.addEntity(s,null,!0,1);for(var n=[],_=0,r=this.vo.getDefault(t);_<r;){_++;n.push(0)}for(_=0,r=this.vo.getUpgrade(t);_<r;){_++;n.push(1)}for(_=0,r=this.vo.getAvailable(t);_<r;){_++;n.push(2)}for(;8<n.length;)n.shift();for(var a=123,_=0;_<n.length;){var o=n[_];++_;var h=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelUnit.png"));h.sourceRect=new createjs.Rectangle(2*this.width+o*this._statWidth,0,this._statWidth,this._statHeight),e._context.addChild(h),h.x=a,h.y=7,a+=this._statWidth}return e},_getTitle:function(){return this.vo.title},_getMessage:function(){return this.vo.subtitle},_getFgCol:function(){switch(this._type._hx_index){case 0:return 0;case 1:return 1}},__class__:yi});var wi=function(t){Wt.call(this,t)};(e["b10ath.gui.PauseMenu"]=wi).__name__="b10ath.gui.PauseMenu",wi.__super__=Wt,wi.prototype=t(Wt.prototype,{_init:function(){var t=this;Wt.prototype._init.call(this),this.addEntity(this._debugText=new vi(this._kernel,this._factory.width-20,20,"",this._factory.createTextStyle(ae.SMALLPRINT),!0,!1,.5),null,!0,2),this._debugText.setPosition(10,this._factory.height-this._debugText.height);var e=(this._kernel.factory.width-200)/2,i=(this._kernel.factory.height-65*(this._isFullScreenSupported()?4:3))/2;this.addEntity(this._logo=new ci(this._kernel,this._kernel.assets.getAsset("assets/gui/PauseBg.png")),null,!0,0),this.addEntity(new ti(this._kernel,this._kernel.getConfig("gui.buttons.unpause"),e,i,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(this._audioButton=new ti(this._kernel,this._kernel.getConfig("gui.buttons.audioOff"),e,i+=65,null,function(){t._kernel.overlay._wasMute=!t._kernel.overlay._wasMute,t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this._isFullScreenSupported()&&this.addEntity(this._fullScreenButton=new ti(this._kernel,this._kernel.getConfig("gui.buttons.fullScreenOn"),e,i+=65,null,function(){t._stageClick(),t._kernel.overlay.activateButton(ne.UNPAUSE)}),Qt.ALWAYS,!0,1),this.addEntity(new ti(this._kernel,this._kernel.getConfig("gui.buttons.back"),e,i+=65,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE),t._kernel.scenes.back()}),Qt.DEFEND,!0,1),this.addEntity(new ti(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),e,i,null,function(){t._kernel.overlay.activateButton(ne.UNPAUSE),t._pressInstructions()}),Qt.STANDARD,!0,1)},_isFullScreenSupported:function(){return!1},_isFullScreenEnabled:function(){try{var t=window.document;return!!t.fullscreenElement||(!!t.mozFullScreenElement||(!!t.webkitFullscreenElement||t.msFullscreenElement))}catch(t){}return!1},_disposer:function(){this._kernel._stage.removeEventListener("click",ks(this,this._stageClick),!0),Wt.prototype._disposer.call(this)},_pressInstructions:function(){try{this._kernel.scenes.get_scene()._pressInstructions()}catch(t){this._kernel.scenes.setScene(_e.INSTRUCTIONS)}},_updater:function(t){null==t&&(t=0),Wt.prototype._updater.call(this,t),this._isFullScreenClicked=!1},pauseHandler:function(t){var e=this;t?(this._audioButton.setTitle(this._kernel.getConfig(this._kernel.audio.isMute?"gui.buttons.audioOn":"gui.buttons.audioOff")),null!=this._fullScreenButton&&this._fullScreenButton.setTitle(this._kernel.getConfig(this._isFullScreenEnabled()?"gui.buttons.fullScreenOff":"gui.buttons.fullScreenOn")),this._kernel._stage.addEventListener("click",ks(this,this._stageClick),!0),this._debugText.set_text(this._factory.id.toLowerCase()+" v"+this._factory.version+" @ "+Math.round(this._kernel.getFramerate())+"fps : "+this._session.cache.debugMessage),this.addEntity(new ps(this._kernel,function(t){e._context.y=t},this._factory.height,0,0,500,null,cs.EASE_OUT,ds.QUARTIC)),this.addEntity(new ps(this._kernel,function(t){e._logo.set_alpha(t)},0,1,2e3,2e3,null,cs.EASE_OUT,ds.QUARTIC))):this._kernel._stage.removeEventListener("click",ks(this,this._stageClick),!0)},_stageClick:function(t){this._kernel.isActive||null!=this._fullScreenButton&&(this._isFullScreenClicked||this._fullScreenButton.isOver&&(this._isFullScreenEnabled()?this._kernel.system.requestExitFullScreen():(this._kernel.system.requestFullScreen(),this._kernel.system.requestLockScreen()),this._isFullScreenClicked=!0,null!=t&&t.stopPropagation(),this._kernel.overlay.activateButton(ne.UNPAUSE)))},__class__:wi});var vi=function(t,e,i,s,n,_,r,a){null==a&&(a=1),null==r&&(r=!1),null==_&&(_=!1),null==s&&(s=""),s=u.replace(s,"<BR/>","\n"),s=u.replace(s,"<br/>","\n"),zt.call(this,t,e,i,s,n,_,r),this.set_alpha(a)};(e["b10ath.gui.Text"]=vi).__name__="b10ath.gui.Text",vi.__super__=zt,vi.prototype=t(zt.prototype,{_init:function(){zt.prototype._init.call(this),this._textField.textBaseline="alphabetic",this._textField.y+=1.15*this.textStyle.size,this._prevTextStyle="invalidated"},set_alpha:function(t){return this._context.alpha=t},__class__:vi});function Ei(t,e,i){this._big=e,this._small=i,Qe.call(this,t,370,200,!1)}(e["b10ath.gui.TitleBig"]=Ei).__name__="b10ath.gui.TitleBig",Ei.__super__=Qe,Ei.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this);this._textBig=new vi(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.OVERSIZED),!1,!1,1),this._textBig.setPosition(-1,20),this.addEntity(this._textBig,null,!0,1),this._textSmall=new vi(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.SUBHEAD),!1,!1,.5),this._textSmall.setPosition(0,10),this.addEntity(this._textSmall,null,!0,1),this.configure(this._big,this._small)},configure:function(t,e){this._big=t,this._small=e,this._textBig.set_text(this._big.toUpperCase()),this._textSmall.set_text(this._small.toUpperCase())},__class__:Ei});function Si(t,e){this._title=e,Qe.call(this,t,350,40,!1)}(e["b10ath.gui.TitleSmall"]=Si).__name__="b10ath.gui.TitleSmall",Si.__super__=Qe,Si.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._text=new vi(this._kernel,this.width,30,"",this._factory.createTextStyle(ae.HEADLINE),!1,!1,1),this._text.setPosition(0,7),this.addEntity(this._text,null,!0,1),this.set_x((this._factory.width-this.width)/2),this.configure(this._title)},configure:function(t){this._title=t,this._title=this._title.toUpperCase(),this._text.set_text(this._title)},__class__:Si});var xi=function(t,e,i){this._statHeight=24,this._statWidth=16,this._MAX_STATS=8,this._type=e,this._unitVo=i,Qe.call(this,t,380,28,!1)};(e["b10ath.gui.Upgrade"]=xi).__name__="b10ath.gui.Upgrade",xi.__super__=Qe,xi.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._prevCoins=this._session.getCoins(),(e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_TITLE)).size-=4;var t=new vi(this._kernel,112,this.height,this._session.getUpgradeTitle(this._type).toUpperCase(),e);t.set_y(1),this.addEntity(t,null,!0,1),this._bars=new createjs.Container,this._bars.x=123,this._context.addChild(this._bars),this._button=new ei(this._kernel,"",245,-2,null,ks(this,this.buy)),this._session.get_isTester()&&this.addEntity(new qe(this._kernel,this._statWidth*this._MAX_STATS,this._statHeight,this._bars.x,0,null,ks(this,this._reduce)),null,!0,1);var e=this._factory.createTextStyle(this._factory.TEXTSTYLE_PANEL_MESSAGE);this._message=new vi(this._kernel,100,20,"",e,null,null,.5),this._message.setPosition(244,4),this.addEntity(this._message,null,!0,29),this.configure()},_updater:function(t){null==t&&(t=0),Qe.prototype._updater.call(this,t),this._prevCoins!=this._session.getCoins()&&(this._prevCoins=this._session.getCoins(),this.configure())},configure:function(){this._bars.removeAllChildren();var t=this._unitVo.getTotal(this._type),e=this._getPrice(t+1),i=e<=this._session.getCoins();this._button.setTitle(I.string(this._kernel.getConfig("gui.buttons.buy"))+" "+e),t==this._MAX_STATS?(this._button.remove(!0),this._message.set_text(I.string(this._kernel.getConfig("gui.scenes.shop.maxed")).toUpperCase())):i?(this._message.set_text(""),this.addEntity(this._button,null,!0,30)):(this._button.remove(!0),this._message.set_text(null==e?"null":""+e));for(var s=[],n=0,_=this._unitVo.getDefault(this._type);n<_;){n++;s.push(0)}for(n=0,_=this._unitVo.getUpgrade(this._type);n<_;){n++;s.push(1)}for(n=0,_=this._unitVo.getAvailable(this._type);n<_;){n++;s.push(2)}for(;8<s.length;)s.shift();for(var r=0,n=0;n<s.length;){var a=s[n];++n;var o=new createjs.Bitmap(this._assets.getAsset("assets/gui/PanelShop.png"));o.sourceRect=new createjs.Rectangle(2*this.width+a*this._statWidth,0,this._statWidth,this._statHeight),this._bars.addChild(o),o.x=r,r+=this._statWidth}},_getPrice:function(t){t<0&&(t=0),t>this._MAX_STATS&&(t=this._MAX_STATS);return[0,100,300,500,800,1300,2100,3400,5500][t]},buy:function(){var t=this._unitVo.getTotal(this._type),e=this._getPrice(t+1);e<=this._session.getCoins()&&(this._session.setCoins(null,this._session.getCoins()-e),this._session.setUpgrade(this._type,this._unitType,this._unitVo.getUpgrade(this._type)+1),this.configure(),this._kernel.audio.start("Coin",Yt.INTERFACE,0,0,.5))},_reduce:function(){this._session.setUpgrade(this._type,this._unitType,this._session.getUpgrade(this._type,this._unitType)-1),this.configure()},__class__:xi});var Ti=function(t,e){null==e&&(e=1),Qe.call(this,t,null,null,!1),this.set_alpha(e)};(e["b10ath.gui.Vignette"]=Ti).__name__="b10ath.gui.Vignette",Ti.__super__=Qe,Ti.prototype=t(Qe.prototype,{_init:function(){Qe.prototype._init.call(this),this._context.mouseEnabled=!1,this._bitmap=new createjs.Bitmap(this._assets.getAsset("assets/gui/Vignette.png")),this._context.addChild(this._bitmap)},set_alpha:function(t){return this._bitmap.visible=0<t,this._bitmap.alpha=t},__class__:Ti});function bi(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),this._session=t.get_session(),this._assets=t.assets,this._factory=t.factory,this._system=t.system,j.call(this,t,e,i=!0,s,n)}(e["b10ath.scenes.AScene"]=bi).__name__="b10ath.scenes.AScene",bi.__super__=j,bi.prototype=t(j.prototype,{_init:function(){j.prototype._init.call(this),this._easyTweezers=[],this._kernel.overlay.get_pauseEntity().setAgenda(Qt.STANDARD),this._factory.preventDefaultForKeys([te.SPACE]),this._kernel.audio.start("MusicMenu",Yt.MUSIC,-1,0,.5,null,!0),this.type!=_e.GAME&&(this._session.cache.retries=0)},_disposer:function(){this._factory.allowDefaultForKeys([te.SPACE]),j.prototype._disposer.call(this)},_pressContinue:function(){this._kernel.log("button: continue: "+I.string(this.type)),this._kernel.inputs.keyboard.getIsKeyDown(te.SQUARELEFT)&&this._kernel.inputs.keyboard.getIsKeyDown(te.SQUARERIGHT)&&this._session.setIsTester(!this._session.get_isTester());var t=this._factory.getNextSceneType(this.type);t==_e.SELECT_LEVEL&&this._session.getMedal(be.LEVEL_1)==ke.MEDAL_NONE&&(t=_e.GAME);var e=ks(l=this._kernel.scenes,l.setScene),i=t;this._outro(function(){e(i)})},_pressInstructions:function(){this._kernel.log("button: instructions");var t=ks(l=this._kernel.scenes,l.setScene),e=_e.INSTRUCTIONS;this._outro(function(){t(e)})},_pressAuthor:function(){var e=this;this._kernel.log("button: author"),Gi.delay(function(){var t=e._kernel.getConfig("settings.urls.author");window.top.location.href=I.string(t)},500)},_outro:function(t){this._isOutroCalled||(this._isOutroCalled=!0,null!=t&&t())},_addBg:function(){this.addEntity(new Ze(this._kernel,this.type),null,!0,1)},_addFg:function(t,e,i,s){null==s&&(s=0),null==i&&(i=""),null==e&&(e="");var n=this;this._fgHeader=new ci(this._kernel,this._assets.getAsset(t?"assets/gui/SceneFgHeader2.png":"assets/gui/SceneFgHeader1.png"));var _=this._fgHeader;_.set_x(_.x-s),this.addEntity(this._fgHeader,null,!0,110),t?this._fgHeader.addEntity(new Si(this._kernel,e),null,!0,1):this._fgHeader.addEntity(new Ei(this._kernel,e,i),null,!0,1),this._fgFooter=new ci(this._kernel,this._assets.getAsset(t?"assets/gui/SceneFgFooter2.png":"assets/gui/SceneFgFooter1.png")),this.addEntity(this._fgFooter,null,!0,100),this.addEntity(new ps(this._kernel,function(t){n._fgHeader.set_y(t)},-this._factory.height,this._fgHeader.y,500,1e3,null,cs.EASE_OUT,ds.EXPONENTIAL)),this.addEntity(new ps(this._kernel,function(t){n._fgFooter.set_y(t)},this._factory.height,this._fgFooter.y,t?0:750,1e3,null,cs.EASE_OUT,ds.EXPONENTIAL))},_addButtons:function(t,e,i,s,n,_,r){null==r&&(r=0),null==_&&(_=0),null==n&&(n=0),null==t&&(t=1e3);var a=this;this._buttonRight=e,this._buttonLeft=i,this._buttonCenter=s,null!=this._buttonRight&&(this._buttonRight.setPosition(this._factory.width-200-30,this._factory.height-65-13),this.addEntity(this._buttonRight,null,!0,t),this.addEntity(new ps(this._kernel,function(t){a._buttonRight.set_y(t)},this._factory.height+60,this._buttonRight.y,n+1200,2e3,null,cs.EASE_OUT,ds.ELASTIC()))),null!=this._buttonCenter&&(this._buttonCenter.setPosition(.5*(this._factory.width-200),this._factory.height-65-13),this.addEntity(this._buttonCenter,null,!0,t+1),this.addEntity(new ps(this._kernel,function(t){a._buttonCenter.set_y(t)},this._factory.height+60,this._buttonCenter.y,r+1300,2e3,null,cs.EASE_OUT,ds.ELASTIC()))),null!=this._buttonLeft&&(this._buttonLeft.setPosition(30,this._factory.height-65-13),this.addEntity(this._buttonLeft,null,!0,t+2),this.addEntity(new ps(this._kernel,function(t){a._buttonLeft.set_y(t)},this._factory.height+60,this._buttonLeft.y,_+1400,2e3,null,cs.EASE_OUT,ds.ELASTIC())))},_defaultOutro:function(t){var e=this;if(!this._isOutroCalled){this._isOutroCalled=!0;for(var i=0,s=this.getEntitiesByClass(ps);i<s.length;){var n=s[i];++i,n.remove()}this._easyTweez(!1),null!=this._buttonLeft&&this.addEntity(new ps(this._kernel,function(t){e._buttonLeft.set_y(t)},this._buttonLeft.y,this._factory.height,0,1e3,null,cs.EASE_IN,ds.BACK())),null!=this._buttonCenter&&this.addEntity(new ps(this._kernel,function(t){e._buttonCenter.set_y(t)},this._buttonCenter.y,this._factory.height,50,1e3,null,cs.EASE_IN,ds.BACK())),null!=this._buttonRight&&this.addEntity(new ps(this._kernel,function(t){e._buttonRight.set_y(t)},this._buttonRight.y,this._factory.height,100,1e3,null,cs.EASE_IN,ds.BACK())),this.addEntity(new ps(this._kernel,function(t){e._fgHeader.set_y(t)},this._fgHeader.y,-this._factory.height,250,500,null,cs.EASE_IN,ds.EXPONENTIAL)),this.addEntity(new ps(this._kernel,function(t){e._fgFooter.set_y(t)},this._fgFooter.y,this._factory.height,500,500,null,cs.EASE_IN,ds.EXPONENTIAL)),this.addEntity(new ps(this._kernel,function(t){},0,0,100,1e3,null,cs.EASE_IN,ds.BACK(),t)),this._kernel.audio.start("Transition",Yt.INTERFACE,0,0,.25),this._kernel.isDebug&&t()}},_easyTweez:function(t){null==t&&(t=!0);for(var e=0,i=this._easyTweezers;e<i.length;){var s=[i[e]];++e,t?s[0].isVerticalIn?this.addEntity(new ps(this._kernel,function(e){return function(t){e[0].guiEntity.set_y(t)}}(s),-this._factory.height+s[0].guiEntity.y,s[0].guiEntity.y,500+100*s[0].sequence,2e3,null,cs.EASE_OUT,ds.QUARTIC)):this.addEntity(new ps(this._kernel,function(e){return function(t){e[0].guiEntity.set_x(t)}}(s),this._factory.width+s[0].guiEntity.x,s[0].guiEntity.x,500+100*s[0].sequence,2e3,null,cs.EASE_OUT,ds.QUARTIC)):this.addEntity(new ps(this._kernel,function(e){return function(t){e[0].guiEntity.set_x(t)}}(s),s[0].guiEntity.x,-1.5*this._factory.width+s[0].guiEntity.x,50*s[0].sequence,500,null,cs.EASE_IN,ds.BACK()))}},_addEasyTweez:function(t,e,i){null==i&&(i=!0),null!=t&&this._easyTweezers.push({guiEntity:t,sequence:e,isVerticalIn:i})},_createBurst:function(t,e,i,s){null==s&&(s=1e4);var n=new $e(this._kernel,t,e,i);return this.addEntity(n,null,!0,s),n},__class__:bi});var Ai=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Avatar"]=Ai).__name__="b10ath.scenes.Avatar",Ai.__super__=bi,Ai.prototype=t(bi.prototype,{_init:function(){var e=this;bi.prototype._init.call(this),this._session.cache.levelType=be.LEVEL_1,this._kernel.audio.start("MusicMenu",Yt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.avatar.title")),this._panelUnitA=new yi(this._kernel,Ie.UNIT_A),this._panelUnitA.set_x(15),this.addEntity(this._panelUnitA,null,!0,1e3),this._panelUnitB=new yi(this._kernel,Ie.UNIT_B),this._panelUnitB.set_x(this._factory.width-this._panelUnitB.width-15),this.addEntity(this._panelUnitB,null,!0,1e3),this.addEntity(new ps(this._kernel,function(t){e._panelUnitA.set_x(t)},-(this._panelUnitA.width+this._panelUnitA.x),this._panelUnitA.x,1500,1e3,null,cs.EASE_OUT,ds.QUARTIC)),this.addEntity(new ps(this._kernel,function(t){e._panelUnitB.set_x(t)},this._factory.width,this._panelUnitB.x,1500,1e3,null,cs.EASE_OUT,ds.QUARTIC)),this._avatarUnitA=new ci(this._kernel,this._assets.getAsset("assets/gui/AvatarUnitA.png")),this._avatarUnitB=new ci(this._kernel,this._assets.getAsset("assets/gui/AvatarUnitB.png")),this.addEntity(this._avatarUnitA,null,!0,300),this.addEntity(this._avatarUnitB,null,!0,300),this.addEntity(new ps(this._kernel,function(t){e._avatarUnitA.set_x(t)},-this._factory.width,this._avatarUnitA.x,100,2e3,null,cs.EASE_OUT,ds.QUARTIC)),this.addEntity(new ps(this._kernel,function(t){e._avatarUnitB.set_x(t)},this._factory.width,this._avatarUnitB.x,100,2e3,null,cs.EASE_OUT,ds.QUARTIC));var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.avatars.unitA"),0,0,this._kernel.factory.keyNext,ks(this,this._pressUnitA)),i=new ti(this._kernel,this._kernel.getConfig("gui.buttons.avatars.unitB"),0,0,null,ks(this,this._pressUnitB));this._addButtons(null,i,t),this._easyTweez()},_updater:function(t){null==t&&(t=0),bi.prototype._updater.call(this,t)},_outro:function(t){var e=this;this._defaultOutro(t),this._kernel.audio.start("GameOver",Yt.INTERFACE,1,0,.5),this.addEntity(new ps(this._kernel,function(t){e._panelUnitA.set_x(t)},this._panelUnitA.x,-this._factory.width,0,800,null,cs.EASE_IN,ds.BACK())),this.addEntity(new ps(this._kernel,function(t){e._panelUnitB.set_x(t)},this._panelUnitB.x,this._factory.width,0,800,null,cs.EASE_IN,ds.BACK())),this.addEntity(new ps(this._kernel,function(t){e._avatarUnitA.set_x(t)},this._avatarUnitA.x,-this._factory.width,0,1e3,null,cs.EASE_IN,ds.BACK(.75))),this.addEntity(new ps(this._kernel,function(t){e._avatarUnitB.set_x(t)},this._avatarUnitB.x,this._factory.width,0,1e3,null,cs.EASE_IN,ds.BACK(.75)))},_pressUnitA:function(){this._session.cache.unitType=Ie.UNIT_A,this._pressContinue()},_pressUnitB:function(){this._session.cache.unitType=Ie.UNIT_B,this._pressContinue()},__class__:Ai});var ki=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Game"]=ki).__name__="b10ath.scenes.Game",ki.__super__=bi,ki.prototype=t(bi.prototype,{_init:function(){var t,e,i,s,n,_,r,a,o,h;switch(bi.prototype._init.call(this),this.isPauseable=!0,this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._session.cache.totalPlays++,this._session.cache.reset(),this._levelVo=new Fe(this._kernel,this._session.cache.levelType),this._hud=new ni(this._kernel,!this._levelVo.isNew,this._levelVo.sportType!=Ue.SPRINT,this._levelVo.scoreGold,this._levelVo.scoreSilver,this._levelVo.scoreBronze),this._levelVo.sportType._hx_index){case 0:t=new Ge(this._kernel,this._levelVo,this._hud,ks(this,this._handleScore));break;case 1:t=new He(this._kernel,this._levelVo,this._hud,ks(this,this._handleScore));break;case 2:t=new Oe(this._kernel,this._levelVo,this._hud,ks(this,this._handleScore))}this.addEntity(this._location=t,null,!0,10),this.addEntity(this._hud,null,!0,100),this._session.get_isTester()&&(e=ks(this,this._winMedal),i=ke.MEDAL_BRONZE,s=new ti(this._kernel,this._kernel.getConfig("gui.buttons.testMode.bronze"),0,0,null,function(){e(i,!0)}),n=ks(this,this._winMedal),_=ke.MEDAL_SILVER,r=new ti(this._kernel,this._kernel.getConfig("gui.buttons.testMode.silver"),0,0,null,function(){n(_,!0)}),a=ks(this,this._winMedal),o=ke.MEDAL_GOLD,h=new ti(this._kernel,this._kernel.getConfig("gui.buttons.testMode.gold"),0,0,null,function(){a(o,!0)}),this._addButtons(null,h,s,r,1e3,1e3,1e3)),this._kernel.audio.stop(null,Yt.MUSIC),this._kernel.log("play: "+I.string(this._levelVo.type)),this._factory.preventDefaultForKeys([te.UP,te.RIGHT,te.DOWN,te.LEFT,te.SPACE]),this._session.get_poki().gameplayStart()},_createDelay:function(t,e){null==e&&(e=1e3),this.addEntity(new Xt(this._kernel,t,e))},_handleScore:function(t){for(var e=0,i=this.getEntitiesByClass(ti);e<i.length;){var s=i[e];++e,s.isDisposed||(s.isDisposed=!0,s.set_isActive(!1),s._disposer())}var n=this._session.getMedalFromScore(t,this._levelVo.sportType==Ue.SPRINT,this._levelVo.scoreGold,this._levelVo.scoreSilver,this._levelVo.scoreBronze);this._winMedal(n);var _=n==ke.MEDAL_NONE&&++this._session.cache.retries<3;this._createDelay(_?ks(l=this._kernel.scenes,l.restart):ks(this,this._gameOver),2500),this._flashPhotography(10,250)},_winMedal:function(t,e){null==e&&(e=!1),this._session.cache.medalType=t,this._session.setMedal(this._levelVo.type,null,t),this._session.setCoins(null,this._session.getCoins()+this._getScore(t)),t!=ke.MEDAL_NONE&&this._kernel.audio.start("GameOver",Yt.EFFECTS,1,0,.75),this._kernel.log("medal: "+I.string(t)+": "+I.string(this._levelVo.type)),e&&this._gameOver()},_flashPhotography:function(t,e){var i,s,n;0<=--t&&(this._kernel.overlay.flash(100,!0,.25*Math.random()+.25),i=ks(this,this._flashPhotography),s=t,n=e,this._createDelay(function(){i(s,n)},I.random(e)))},_gameOver:function(){this._kernel.scenes.next()},_updater:function(t){null==t&&(t=0),bi.prototype._updater.call(this,t)},_disposer:function(){this._factory.allowDefaultForKeys([te.UP,te.RIGHT,te.DOWN,te.LEFT,te.SPACE]),this._kernel.audio.stop(null,Yt.MUSIC);var t=this._session;t.saveCount++,t._setter(),t._savedData._____VERSION=t._version,t._savedData[t.id]=t._data,t._driverSave(),this._session.get_poki().gameplayStop(),bi.prototype._disposer.call(this)},_getScore:function(t){switch(t._hx_index){case 0:return 0;case 1:return 3e3;case 2:return 5e3;case 3:return 8e3}},__class__:ki});var Ci=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Instructions"]=Ci).__name__="b10ath.scenes.Instructions",Ci.__super__=bi,Ci.prototype=t(bi.prototype,{_init:function(){bi.prototype._init.call(this),this._kernel.overlay.get_pauseEntity().setAgenda(Qt.DEFEND),this._kernel.audio.start("MusicMenu",Yt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.instructions.title"));var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,ks(this,this._pressContinue));this._addButtons(null,t);var e=new ci(this._kernel,this._assets.getAsset(this._system.isDesktop?"assets/gui/InstructionsA.png":"assets/gui/InstructionsB.png"));this.addEntity(e,null,!0,20),e.setPosition((this._factory.width-e.width)/7,(this._factory.height-e.height)/2);var i=new vi(this._kernel,300,300,I.string(this._kernel.getConfig("gui.scenes.instructions.message")).toUpperCase(),this._factory.createTextStyle(ae.BODY),!0,!1);i.setPosition(this._kernel.factory.width-i.width-40,90),this.addEntity(i,null,!0,21),this._addEasyTweez(e,1,!1),this._addEasyTweez(i,2,!1),this._easyTweez(!0)},_outro:function(t){this._defaultOutro(t)},__class__:Ci});var Ui=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Intro"]=Ui).__name__="b10ath.scenes.Intro",Ui.__super__=bi,Ui.prototype=t(bi.prototype,{_updater:function(t){null==t&&(t=0),bi.prototype._updater.call(this,t),this._kernel.scenes.next()},__class__:Ui});var Ii=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Menu"]=Ii).__name__="b10ath.scenes.Menu",Ii.__super__=bi,Ii.prototype=t(bi.prototype,{_init:function(){var e=this;bi.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Yt.MUSIC,-1,0,.15,0,!0),this._kernel.audio.start("GameStart",Yt.EFFECTS,1,0,.75,0,!0),this._addBg(),this._addFg(!1,this._kernel.getConfig("gui.scenes.menu.title"),this._kernel.getConfig("gui.scenes.menu.subtitle")),this.addEntity(this._action=new Ye(this._kernel),null,!0,200),this.addEntity(new ps(this._kernel,function(t){e._action.set_x(t)},-this._factory.width,this._action.x,500,2e3,null,cs.EASE_OUT,ds.ELASTIC()));var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.play"),0,0,this._kernel.factory.keyNext,ks(this,this._pressContinue)),i=new ti(this._kernel,this._kernel.getConfig("gui.buttons.instructions"),0,0,null,ks(this,this._pressInstructions));this._addButtons(null,t,i),this._easyTweez()},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ps(this._kernel,function(t){e._action.set_x(t)},this._action.x,this._factory.width,0,1e3,null,cs.EASE_IN,ds.BACK()))},__class__:Ii});var Pi=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Results"]=Pi).__name__="b10ath.scenes.Results",Pi.__super__=bi,Pi.prototype=t(bi.prototype,{_init:function(){var e=this;bi.prototype._init.call(this),this._levelVo=new Fe(this._kernel,this._session.cache.levelType,this._session.cache.unitType),this._kernel.audio.start("GameStart",Yt.INTERFACE,1,0,.5),this._addBg(),this._addFg(!1,this._kernel.getConfig("gui.scenes.results.title"),this._levelVo.title,120),this.addEntity(this._hero=new si(this._kernel,this._session.cache.unitType,this._session.cache.medalType),null,!0,300),this._hero.set_x(-20),this.addEntity(new ps(this._kernel,function(t){e._hero.set_x(t)},-this._factory.width,this._hero.x,500,2e3,null,cs.EASE_OUT,ds.ELASTIC())),this._panelResult=new fi(this._kernel,this._session.cache.medalType),this._panelResult.set_x(this._factory.width-this._panelResult.width-15),this.addEntity(this._panelResult,null,!0,1e3),this.addEntity(new ps(this._kernel,function(t){e._panelResult.set_x(t)},this._factory.width,this._panelResult.x,1500,1e3,null,cs.EASE_OUT,ds.QUARTIC));var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.continue"),0,0,this._kernel.factory.keyNext,ks(this,this._pressContinue));this._addButtons(null,t,null,null,3e3,3e3),this._easyTweez(!0),this._session.get_poki().happyTime(this._session.cache.medalType._hx_index/3)},_updater:function(t){null==t&&(t=0),bi.prototype._updater.call(this,t),2e3<this._age&&Math.random()<this._session.cache.medalType._hx_index/3&&this._createBurst(.5*Math.random()+.5,((Math.random()<.5?-.5:.5)*(Math.random()*Math.random())+.5)*this._factory.width,((Math.random()<.5?-.5:.5)*(Math.random()*Math.random())+.25)*this._factory.height,299)},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ps(this._kernel,function(t){e._hero.set_x(t)},this._hero.x,this._factory.width,0,1e3,null,cs.EASE_IN,ds.BACK())),this.addEntity(new ps(this._kernel,function(t){e._panelResult.set_x(t)},this._panelResult.x,this._factory.width,0,800,null,cs.EASE_IN,ds.BACK()))},__class__:Pi});var Ri=function(t){Gt.call(this,t,1e3)};(e["b10ath.scenes.SceneTransition"]=Ri).__name__="b10ath.scenes.SceneTransition",Ri.__super__=Gt,Ri.prototype=t(Gt.prototype,{_init:function(){Gt.prototype._init.call(this)},__class__:Ri});var Ni=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.SelectLevel"]=Ni).__name__="b10ath.scenes.SelectLevel",Ni.__super__=bi,Ni.prototype=t(bi.prototype,{_init:function(){bi.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Yt.MUSIC,-1,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.selectLevel.title")),this._panelLevel1=new gi(this._kernel,be.LEVEL_1),this._panelLevel1.set_x(15),this.addEntity(this._panelLevel1,null,!0,200),this._panelLevel2=new gi(this._kernel,be.LEVEL_2),this._panelLevel2.set_x(.5*(this._factory.width-this._panelLevel2.width)),this.addEntity(this._panelLevel2,null,!0,200),this._panelLevel3=new gi(this._kernel,be.LEVEL_3),this._panelLevel3.set_x(this._factory.width-this._panelLevel3.width-15),this.addEntity(this._panelLevel3,null,!0,200);var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.levels.level1"),0,0,this._kernel.factory.keyNext,ks(this,this._pressLevel1)),e=this._panelLevel2.vo.isLocked?null:new ti(this._kernel,this._kernel.getConfig("gui.buttons.levels.level2"),0,0,null,ks(this,this._pressLevel2)),i=this._panelLevel3.vo.isLocked?null:new ti(this._kernel,this._kernel.getConfig("gui.buttons.levels.level3"),0,0,null,ks(this,this._pressLevel3));this._addButtons(null,i,t,e),this._addEasyTweez(this._panelLevel1,1,!1),this._addEasyTweez(this._panelLevel2,2,!1),this._addEasyTweez(this._panelLevel3,3,!1),this._easyTweez()},_updater:function(t){null==t&&(t=0),bi.prototype._updater.call(this,t)},_outro:function(t){var e=this;this._kernel.audio.start("GameStart",Yt.INTERFACE,1,0,.5),this.addEntity(new ps(this._kernel,function(t){e._kernel.audio.transform("MusicMenu",Yt.MUSIC,t)},.5,0,0,2e3));this._defaultOutro(function(){e._session.get_poki().commercialBreak(t)})},_pressLevel1:function(){this._session.cache.levelType=be.LEVEL_1,this._pressContinue()},_pressLevel2:function(){this._session.cache.levelType=be.LEVEL_2,this._pressContinue()},_pressLevel3:function(){this._session.cache.levelType=be.LEVEL_3,this._pressContinue()},__class__:Ni});var Di=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),null==i&&(i=!1),bi.call(this,t,e,i,s,n)};(e["b10ath.scenes.Shop"]=Di).__name__="b10ath.scenes.Shop",Di.__super__=bi,Di.prototype=t(bi.prototype,{_init:function(){var e=this;bi.prototype._init.call(this),this._kernel.audio.start("MusicMenu",Yt.MUSIC,0,0,.15,0,!0),this._addBg(),this._addFg(!0,this._kernel.getConfig("gui.scenes.shop.title")),this.addEntity(this._hero=new si(this._kernel,this._session.cache.unitType,this._session.cache.medalType),null,!0,300),this._hero.set_x(-160),this._hero.set_isFlippedX(!0),this.addEntity(new ps(this._kernel,function(t){e._hero.set_x(t)},-this._factory.width,this._hero.x,500,2e3,null,cs.EASE_OUT,ds.QUARTIC)),this._panelShop=new mi(this._kernel,this._session.cache.unitType),this._panelShop.set_x(this._factory.width-this._panelShop.width-15),this.addEntity(this._panelShop,null,!0,1e3),this.addEntity(new ps(this._kernel,function(t){e._panelShop.set_x(t)},this._factory.width,this._panelShop.x,1500,1e3,null,cs.EASE_OUT,ds.QUARTIC));var t=new ti(this._kernel,this._kernel.getConfig("gui.buttons.continue"),0,0,this._kernel.factory.keyNext,ks(this,this._pressContinue)),i=new ti(this._kernel,this._kernel.getConfig("gui.buttons.avatar"),0,0,null,ks(this,this._pressAvatar)),s=new ti(this._kernel,this._kernel.getConfig("gui.buttons.reset"),0,0,null,ks(this,this._pressReset));this._addButtons(null,t,i,1==this._panelShop.vo.getPercentageComplete()?s:null),this._easyTweez(!0)},_outro:function(t){var e=this;this._defaultOutro(t),this.addEntity(new ps(this._kernel,function(t){e._hero.set_x(t)},this._hero.x,-this._factory.width,0,1e3,null,cs.EASE_IN,ds.BACK())),this.addEntity(new ps(this._kernel,function(t){e._panelShop.set_x(t)},this._panelShop.x,this._factory.width,0,800,null,cs.EASE_IN,ds.BACK()))},_pressReset:function(){this._kernel.log("button: reset: "),this._session.resetUnit(this._session.cache.unitType);var t=ks(l=this._kernel.scenes,l.setScene),e=_e.MENU;this._outro(function(){t(e)})},_pressAvatar:function(){this._kernel.log("button: avatar: ");var t=ks(l=this._kernel.scenes,l.setScene),e=_e.AVATAR;this._outro(function(){t(e)})},__class__:Di});function Mi(){}(e["haxe.IMap"]=Mi).__name__="haxe.IMap",Mi.__isInterface__=!0;var Li=function(t,e,i){Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=i?i:this};(e["haxe.Exception"]=Li).__name__="haxe.Exception",Li.caught=function(t){return t instanceof Li?t:t instanceof Error?new Li(t.message,null,t):new Ji(t,null,t)},Li.thrown=function(t){return t instanceof Li?t.get_native():t instanceof Error?t:new Ji(t)},Li.__super__=Error,Li.prototype=t(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:Li});var Bi=function(){};(e["haxe.Log"]=Bi).__name__="haxe.Log",Bi.formatOutput=function(t,e){var i=I.string(t);if(null==e)return i;var s=e.fileName+":"+e.lineNumber;if(null!=e.customParams)for(var n=0,_=e.customParams;n<_.length;){t=_[n];++n,i+=", "+I.string(t)}return s+": "+i},Bi.trace=function(t,e){var i=Bi.formatOutput(t,e);"undefined"!=typeof console&&null!=console.log&&console.log(i)};var Fi=function(){};(e["haxe.Resource"]=Fi).__name__="haxe.Resource",Fi.getString=function(t){for(var e=0,i=Fi.content;e<i.length;){var s=i[e];if(++e,s.name==t)return null!=s.str?s.str:Ki.decode(s.data).toString()}return null};var Oi=function(){this.buf=new P,this.cache=[],this.useCache=Oi.USE_CACHE,this.useEnumIndex=Oi.USE_ENUM_INDEX,this.shash=new ts,this.scount=0};(e["haxe.Serializer"]=Oi).__name__="haxe.Serializer",Oi.run=function(t){var e=new Oi;return e.serialize(t),e.toString()},Oi.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash.h[t];if(null!=e)return this.buf.b+="R",void(this.buf.b+=null==e?"null":""+e);this.shash.h[t]=this.scount++,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=I.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,i=0,s=this.cache.length;i<s;){var n=i++,_=this.cache[n];if(typeof _==e&&_==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=b.fields(t);e<i.length;){var s=i[e];++e,this.serializeString(s),this.serialize(b.field(t,s))}this.buf.b+="g"},serialize:function(t){switch((S=A.typeof(t))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(e=t))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==e?"null":""+e;break;case 2:var e=t;isNaN(e)?this.buf.b+="k":isFinite(e)?(this.buf.b+="d",this.buf.b+=null==e?"null":""+e):this.buf.b+=e<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(os.__instanceof(t,Ns)){var i=t.__name__;this.buf.b+="A",this.serializeString(i)}else if(os.__instanceof(t,Ds))this.buf.b+="B",this.serializeString(t.__ename__);else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw Li.thrown("Cannot serialize function");case 6:var s=S.c;if(s==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(s){case Array:var n=0;this.buf.b+="a";for(var _=0,r=t.length;_<r;){null==t[c=_++]?++n:(0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n),n=0),this.serialize(t[c]))}0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n)),this.buf.b+="h";break;case Date:var a=t;this.buf.b+="v",this.buf.b+=I.string(a.getTime());break;case Yi:this.buf.b+="q";for(var o=(e=t).keys();o.hasNext();){var h=o.next();this.buf.b+=":",this.buf.b+=null==h?"null":""+h,this.serialize(e.h[h])}this.buf.b+="h";break;case Zi:this.buf.b+="l";for(var l=(e=t).h;null!=l;){var u=l.item,l=l.next,c=u;this.serialize(c)}this.buf.b+="h";break;case $i:this.buf.b+="M";for(o=(e=t).keys();o.hasNext();){var h=o.next(),d=b.field(h,"__id__");b.deleteField(h,"__id__"),this.serialize(h),h.__id__=d,this.serialize(e.h[h.__id__])}this.buf.b+="h";break;case ts:this.buf.b+="b";for(e=t,o=ts.keysIterator(e.h);o.hasNext();){h=o.next();this.serializeString(h),this.serialize(e.h[h])}this.buf.b+="h";break;case ji:e=t;this.buf.b+="s",this.buf.b+=I.string(Math.ceil(8*e.length/6)),this.buf.b+=":";var c=0,p=e.length-2;if(null==(g=Oi.BASE64_CODES)){for(var g=new Array(Oi.BASE64.length),_=0,r=Oi.BASE64.length;_<r;){var f=_++;g[f]=U.cca(Oi.BASE64,f)}Oi.BASE64_CODES=g}for(;c<p;){var m=e.b[c++],y=e.b[c++],w=e.b[c++];this.buf.b+=String.fromCodePoint(g[m>>2]),this.buf.b+=String.fromCodePoint(g[63&(m<<4|y>>4)]),this.buf.b+=String.fromCodePoint(g[63&(y<<2|w>>6)]),this.buf.b+=String.fromCodePoint(g[63&w])}c==p?(m=e.b[c++],y=e.b[c++],this.buf.b+=String.fromCodePoint(g[m>>2]),this.buf.b+=String.fromCodePoint(g[63&(m<<4|y>>4)]),this.buf.b+=String.fromCodePoint(g[y<<2&63])):c==1+p&&(m=e.b[c++],this.buf.b+=String.fromCodePoint(g[m>>2]),this.buf.b+=String.fromCodePoint(g[m<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(s.__name__),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(s.__name__),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var v=S.e;if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=I.string(this.useEnumIndex?"j":"w"),this.serializeString(v.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=I.string(t._hx_index)):(v=t,this.serializeString(T[v.__enum__].__constructs__[v._hx_index])),this.buf.b+=":";var E=A.enumParameters(t);this.buf.b+=I.string(E.length);for(var S=0;S<E.length;){var x=E[S];++S,this.serialize(x)}this.useCache&&this.cache.push(t);break;default:throw Li.thrown("Cannot serialize "+I.string(t))}},__class__:Oi};var Gi=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(e["haxe.Timer"]=Gi).__name__="haxe.Timer",Gi.delay=function(t,e){var i=new Gi(e);return i.run=function(){i.stop(),t()},i},Gi.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Gi};function Hi(){}(e["haxe._Unserializer.DefaultResolver"]=Hi).__name__="haxe._Unserializer.DefaultResolver",Hi.prototype={resolveClass:function(t){return e[t]},resolveEnum:function(t){return T[t]},__class__:Hi};var Vi=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=Vi.DEFAULT_RESOLVER;null==e&&(e=new Hi,Vi.DEFAULT_RESOLVER=e),this.resolver=e};(e["haxe.Unserializer"]=Vi).__name__="haxe.Unserializer",Vi.initCodes=function(){for(var t=[],e=0,i=Vi.BASE64.length;e<i;){var s=e++;t[Vi.BASE64.charCodeAt(s)]=s}return t},Vi.run=function(t){return new Vi(t).unserialize()},Vi.prototype={readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45!=s){if(s<48||57<s)break;t=10*t+(s-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat(U.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw Li.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw Li.thrown("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw Li.thrown("Invalid enum format");var i=this.readDigits();if(0==i)return A.createEnum(t,e);for(var s=[];0<i--;)s.push(this.unserialize());return A.createEnum(t,e,s)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw Li.thrown("Class not found "+t);return a;case 66:t=this.unserialize();if(null==(l=this.resolver.resolveEnum(t)))throw Li.thrown("Enum not found "+t);return l;case 67:t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw Li.thrown("Class not found "+t);var e=Object.create(a.prototype);if(this.cache.push(e),e.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw Li.thrown("Invalid custom data");return e;case 77:var i=new $i;this.cache.push(i);for(var s=this.buf;104!=this.buf.charCodeAt(this.pos);){var n=this.unserialize();i.set(n,this.unserialize())}return this.pos++,i;case 82:if((p=this.readDigits())<0||p>=this.scache.length)throw Li.thrown("Invalid string reference");return this.scache[p];case 97:var s=this.buf,_=[];for(this.cache.push(_);;){if(104==(c=this.buf.charCodeAt(this.pos))){this.pos++;break}117==c?(this.pos++,p=this.readDigits(),_[_.length+p-1]=null):_.push(this.unserialize())}return _;case 98:i=new ts;this.cache.push(i);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);){var n=this.unserialize(),r=this.unserialize();i.h[n]=r}return this.pos++,i;case 99:var a,t=this.unserialize();if(null==(a=this.resolver.resolveClass(t)))throw Li.thrown("Class not found "+t);e=Object.create(a.prototype);return this.cache.push(e),this.unserializeObject(e),e;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:t=this.unserialize();if(null==(A=this.resolver.resolveEnum(t)))throw Li.thrown("Enum not found "+t);this.pos++;var o=this.readDigits(),h=A.__constructs__.slice()[o];if(null==h)throw Li.thrown("Unknown enum index "+t+"@"+o);var l=this.unserializeEnum(A,h);return this.cache.push(l),l;case 107:return NaN;case 108:var u=new Zi;this.cache.push(u);for(s=this.buf;104!=this.buf.charCodeAt(this.pos);)u.add(this.unserialize());return this.pos++,u;case 109:return-1/0;case 110:return null;case 111:e={};return this.cache.push(e),this.unserializeObject(e),e;case 112:return 1/0;case 113:i=new Yi;this.cache.push(i);for(var s=this.buf,c=this.buf.charCodeAt(this.pos++);58==c;){var d=this.readDigits(),r=this.unserialize();i.h[d]=r,c=this.buf.charCodeAt(this.pos++)}if(104!=c)throw Li.thrown("Invalid IntMap format");return i;case 114:var p;if((p=this.readDigits())<0||p>=this.cache.length)throw Li.thrown("Invalid reference");return this.cache[p];case 115:var g=this.readDigits(),s=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<g)throw Li.thrown("Invalid bytes length");var f=Vi.CODES;null==f&&(f=Vi.initCodes(),Vi.CODES=f);for(var m=3&g,y=(d=this.pos)+(g-m),w=new ji(new ArrayBuffer(3*(g>>2)+(2<=m?m-1:0))),v=0;d<y;){var E=f[s.charCodeAt(d++)],S=f[s.charCodeAt(d++)];w.b[v++]=E<<2|S>>4;var x=f[s.charCodeAt(d++)];w.b[v++]=S<<4|x>>2;var T=f[s.charCodeAt(d++)];w.b[v++]=x<<6|T}return 2<=m&&(E=f[s.charCodeAt(d++)],S=f[s.charCodeAt(d++)],w.b[v++]=E<<2|S>>4,3==m&&(x=f[s.charCodeAt(d++)],w.b[v++]=S<<4|x>>2)),this.pos+=g,this.cache.push(w),w;case 116:return!0;case 118:var b;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(b=U.strDate(U.substr(this.buf,this.pos,19)),this.pos+=19):b=new Date(this.readFloat()),this.cache.push(b),b;case 119:var A,t=this.unserialize();if(null==(A=this.resolver.resolveEnum(t)))throw Li.thrown("Enum not found "+t);l=this.unserializeEnum(A,this.unserialize());return this.cache.push(l),l;case 120:throw Li.thrown(this.unserialize());case 121:g=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<g)throw Li.thrown("Invalid string length");n=U.substr(this.buf,this.pos,g);return this.pos+=g,n=decodeURIComponent(n.split("+").join(" ")),this.scache.push(n),n;case 122:return 0}throw this.pos--,Li.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Vi};var Ji=function(t,e,i){Li.call(this,String(t),e,i),this.value=t};(e["haxe.ValueException"]=Ji).__name__="haxe.ValueException",Ji.__super__=Li,Ji.prototype=t(Li.prototype,{unwrap:function(){return this.value},__class__:Ji});var ji=function(t){this.length=t.byteLength,this.b=new Uint8Array(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(e["haxe.io.Bytes"]=ji).__name__="haxe.io.Bytes",ji.ofString=function(t,e){if(e==zi.RawNative){for(var i=new Uint8Array(t.length<<1),s=0,n=t.length;s<n;){var _=s++,r=t.charCodeAt(_);i[_<<1]=255&r,i[_<<1|1]=r>>8}return new ji(i.buffer)}for(var a=[],_=0;_<t.length;){55296<=(r=t.charCodeAt(_++))&&r<=56319&&(r=r-55232<<10|1023&t.charCodeAt(_++)),r<=127?a.push(r):(r<=2047?a.push(192|r>>6):(r<=65535?a.push(224|r>>12):(a.push(240|r>>18),a.push(128|r>>12&63)),a.push(128|r>>6&63)),a.push(128|63&r))}return new ji(new Uint8Array(a).buffer)},ji.ofData=function(t){var e=t.hxBytes;return null!=e?e:new ji(t)},ji.prototype={getString:function(t,e,i){if(t<0||e<0||t+e>this.length)throw Li.thrown(ss.OutsideBounds);null==i&&(i=zi.UTF8);var s="",n=this.b,_=t,r=t+e;switch(i._hx_index){case 0:for(var a,o,h;_<r;){if((l=n[_++])<128){if(0==l)break;s+=String.fromCodePoint(l)}else{l<224?(a=(63&l)<<6|127&n[_++],s+=String.fromCodePoint(a)):l<240?(o=(31&l)<<12|(127&n[_++])<<6|127&n[_++],s+=String.fromCodePoint(o)):(h=(15&l)<<18|(127&n[_++])<<12|(127&n[_++])<<6|127&n[_++],s+=String.fromCodePoint(h))}}break;case 1:for(;_<r;){var l=n[_++]|n[_++]<<8;s+=String.fromCodePoint(l)}}return s},toString:function(){return this.getString(0,this.length)},__class__:ji};var zi=T["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:["UTF8","RawNative"],UTF8:{_hx_index:0,__enum__:"haxe.io.Encoding",toString:i},RawNative:{_hx_index:1,__enum__:"haxe.io.Encoding",toString:i}},Ki=function(){};(e["haxe.crypto.Base64"]=Ki).__name__="haxe.crypto.Base64",Ki.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==U.cca(t,t.length-1);)t=U.substr(t,0,-1);return new Xi(Ki.BYTES).decodeBytes(ji.ofString(t))};var Xi=function(t){for(var e=t.length,i=1;1<<i<e;)++i;if(8<i||e!=1<<i)throw Li.thrown("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};(e["haxe.crypto.BaseCode"]=Xi).__name__="haxe.crypto.BaseCode",Xi.prototype={initTable:function(){for(var t=[],e=0;e<256;){t[s=e++]=-1}for(var e=0,i=this.base.length;e<i;){var s=e++;t[this.base.b[s]]=s}this.tbl=t},decodeBytes:function(t){var e=this.nbits;this.base;null==this.tbl&&this.initTable();for(var i=this.tbl,s=t.length*e>>3,n=new ji(new ArrayBuffer(s)),_=0,r=0,a=0,o=0;o<s;){for(;r<8;){r+=e,_<<=e;var h=i[t.b[a++]];if(-1==h)throw Li.thrown("BaseCode : invalid encoded char");_|=h}r-=8,n.b[o++]=_>>r&255}return n},__class__:Xi};var Wi=function(t,e){this.elt=t,this.next=e};(e["haxe.ds.GenericCell"]=Wi).__name__="haxe.ds.GenericCell",Wi.prototype={__class__:Wi};var Qi=function(){};(e["haxe.ds.GenericStack"]=Qi).__name__="haxe.ds.GenericStack",Qi.prototype={remove:function(t){for(var e=null,i=this.head;null!=i;){if(i.elt==t){null==e?this.head=i.next:e.next=i.next;break}i=(e=i).next}return null!=i},iterator:function(){var e=this.head;return{hasNext:function(){return null!=e},next:function(){var t=e;return e=t.next,t.elt}}},__class__:Qi};var Yi=function(){this.h={}};(e["haxe.ds.IntMap"]=Yi).__name__="haxe.ds.IntMap",Yi.__interfaces__=[Mi],Yi.prototype={keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return new ns(t)},__class__:Yi};var Zi=function(){this.length=0};(e["haxe.ds.List"]=Zi).__name__="haxe.ds.List",Zi.prototype={add:function(t){var e=new qi(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new qi(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},remove:function(t){for(var e=null,i=this.h;null!=i;){if(i.item==t)return null==e?this.h=i.next:e.next=i.next,this.q==i&&(this.q=e),this.length--,!0;i=(e=i).next}return!1},__class__:Zi};var qi=function(t,e){this.item=t,this.next=e};(e["haxe.ds._List.ListNode"]=qi).__name__="haxe.ds._List.ListNode",qi.prototype={__class__:qi};var $i=function(){this.h={__keys__:{}}};(e["haxe.ds.ObjectMap"]=$i).__name__="haxe.ds.ObjectMap",$i.__interfaces__=[Mi],$i.prototype={set:function(t,e){var i=t.__id__;null==i&&(i=t.__id__=p.$haxeUID++),this.h[i]=e,this.h.__keys__[i]=t},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return new ns(t)},__class__:$i};var ts=function(){this.h=Object.create(null)};(e["haxe.ds.StringMap"]=ts).__name__="haxe.ds.StringMap",ts.__interfaces__=[Mi],ts.keysIterator=function(t){var e=Object.keys(t),i=e.length,s=0;return{hasNext:function(){return s<i},next:function(){return e[(s+=1)-1]}}},ts.prototype={__class__:ts};function es(t){this.url=t,this.headers=[],this.params=[],this.emptyOnData=ks(this,this.onData)}(e["haxe.http.HttpBase"]=es).__name__="haxe.http.HttpBase",es.prototype={onData:function(t){},onBytes:function(t){},onError:function(t){},onStatus:function(t){},hasOnData:function(){return!b.compareMethods(ks(this,this.onData),this.emptyOnData)},success:function(t){this.responseBytes=t,this.responseAsString=null,this.hasOnData()&&this.onData(this.get_responseData()),this.onBytes(this.responseBytes)},get_responseData:function(){return null==this.responseAsString&&null!=this.responseBytes&&(this.responseAsString=this.responseBytes.getString(0,this.responseBytes.length,zi.UTF8)),this.responseAsString},__class__:es};var is=function(t){this.async=!0,this.withCredentials=!1,es.call(this,t)};(e["haxe.http.HttpJs"]=is).__name__="haxe.http.HttpJs",is.__super__=es,is.prototype=t(es.prototype,{request:function(t){var n=this;this.responseAsString=null,this.responseBytes=null;function e(t){if(4==_.readyState){var e,i;try{e=_.status}catch(t){e=null}if(0==e&&"undefined"!=typeof window&&null!=p.location&&(i=p.location.protocol.toLowerCase(),new g("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(i)&&(e=null!=_.response?200:404)),null==e&&(e=null),null!=e&&n.onStatus(e),null!=e&&200<=e&&e<400)n.req=null,n.success(ji.ofData(_.response));else if(null==e||0==e&&null==_.response)n.req=null,n.onError("Failed to connect or resolve host");else if(null==e){var s=(n.req=null)!=_.response?ji.ofData(_.response):null;n.responseBytes=s,n.onError("Http Error #"+_.status)}else switch(e){case 12007:n.req=null,n.onError("Unknown host");break;case 12029:n.req=null,n.onError("Failed to connect to host");break;default:s=(n.req=null)!=_.response?ji.ofData(_.response):null;n.responseBytes=s,n.onError("Http Error #"+_.status)}}}var _=this.req=hs.createXMLHttpRequest();this.async&&(_.onreadystatechange=e);var i,s,r=this.postBytes;if(null!=(i=null==(a=this.postData)?null==r?null:new Blob([r.b.bufferValue]):null==r?a:null))t=!0;else for(var r=0,a=this.params;r<a.length;){var o=a[r];++r,i=null==i?"":(null==i?"null":I.string(i))+"&";var h=o.name,l=(null==i?"null":I.string(i))+encodeURIComponent(h)+"=",u=o.value;i=l+encodeURIComponent(u)}try{t?_.open("POST",this.url,this.async):null!=i?(s=this.url.split("?").length<=1,_.open("GET",this.url+(s?"?":"&")+(null==i?"null":I.string(i)),this.async),i=null):_.open("GET",this.url,this.async),_.responseType="arraybuffer"}catch(r){var c=Li.caught(r).unwrap();return this.req=null,void this.onError(c.toString())}_.withCredentials=this.withCredentials,!f.exists(this.headers,function(t){return"Content-Type"==t.name})&&t&&null==this.postData&&_.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(r=0,a=this.headers;r<a.length;){var d=a[r];++r,_.setRequestHeader(d.name,d.value)}_.send(i),this.async||e()},__class__:is});var ss=T["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:i},Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:i},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:i},Custom:((l=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:i}}).__params__=["e"],l)},ns=function(t){this.current=0,this.array=t};(e["haxe.iterators.ArrayIterator"]=ns).__name__="haxe.iterators.ArrayIterator",ns.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:ns};function _s(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1;for(var s=this.positionAtLine=0,n=i;s<n;){var _=s++,r=e.charCodeAt(_);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}(e["haxe.xml.XmlParserException"]=_s).__name__="haxe.xml.XmlParserException",_s.prototype={toString:function(){return os.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:_s};var rs=function(){};(e["haxe.xml.Parser"]=rs).__name__="haxe.xml.Parser",rs.parse=function(t,e){null==e&&(e=!1);var i=R.createDocument();return rs.doParse(t,e,0,i),i},rs.doParse=function(t,e,i,s){null==i&&(i=0);for(var n,_,r,a,o,h,l,u,c,d=null,p=1,g=1,f=null,m=0,y=0,w=0,v=t.charCodeAt(i),E=new P,S=1,x=-1;v==v;){switch(p){case 0:switch(v){case 9:case 10:case 13:case 32:break;default:p=g;continue}break;case 1:if(60!=v){m=i,p=13;continue}p=0,g=2;break;case 2:switch(v){case 33:if(91==t.charCodeAt(i+1)){if("CDATA["!=U.substr(t,i+=2,6).toUpperCase())throw Li.thrown(new _s("Expected <![CDATA[",t,i));p=17,m=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=U.substr(t,i+2,6).toUpperCase())throw Li.thrown(new _s("Expected <!DOCTYPE",t,i));p=16,m=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw Li.thrown(new _s("Expected \x3c!--",t,i));p=15,m=(i+=2)+1}break;case 47:if(null==s)throw Li.thrown(new _s("Expected node name",t,i));m=i+1,p=0,g=10;break;case 63:p=14,m=i;break;default:p=3,m=i;continue}break;case 3:if(97<=v&&v<=122||65<=v&&v<=90||48<=v&&v<=57||58==v||46==v||95==v||45==v)break;if(i==m)throw Li.thrown(new _s("Expected node name",t,i));d=R.createElement(U.substr(t,m,i-m)),s.addChild(d),++y,p=0,g=4;continue;case 4:switch(v){case 47:p=11;break;case 62:p=9;break;default:p=5,m=i;continue}break;case 5:if(97<=v&&v<=122||65<=v&&v<=90||48<=v&&v<=57||58==v||46==v||95==v||45==v)break;if(m==i)throw Li.thrown(new _s("Expected attribute name",t,i));f=U.substr(t,m,i-m);if(d.exists(f))throw Li.thrown(new _s("Duplicate attribute ["+f+"]",t,i));p=0,g=6;continue;case 6:if(61!=v)throw Li.thrown(new _s("Expected =",t,i));p=0,g=7;break;case 7:switch(v){case 34:case 39:E=new P,p=8,m=i+1,x=v;break;default:throw Li.thrown(new _s('Expected "',t,i))}break;case 8:switch(v){case 38:var T=i-m;E.b+=U.substr(t,m,null==T?null:T),p=18,S=8,m=i+1;break;case 60:case 62:if(e)throw Li.thrown(new _s("Invalid unescaped "+String.fromCodePoint(v)+" in attribute value",t,i));v==x&&(n=i-m,E.b+=U.substr(t,m,null==n?null:n),_=E.b,E=new P,d.set(f,_),p=0,g=4);break;default:v==x&&(r=i-m,E.b+=U.substr(t,m,null==r?null:r),a=E.b,E=new P,d.set(f,a),p=0,g=4)}break;case 9:m=i=rs.doParse(t,e,i,d),p=1;break;case 10:if(97<=v&&v<=122||65<=v&&v<=90||48<=v&&v<=57||58==v||46==v||95==v||45==v)break;if(m==i)throw Li.thrown(new _s("Expected node name",t,i));var b=U.substr(t,m,i-m);if(null==s||0!=s.nodeType)throw Li.thrown(new _s("Unexpected </"+b+">, tag is not open",t,i));if(s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(b!=s.nodeName){if(s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));throw Li.thrown(new _s("Expected </"+s.nodeName+">",t,i))}p=0,g=12;continue;case 11:if(62!=v)throw Li.thrown(new _s("Expected >",t,i));p=1;break;case 12:if(62==v)return 0==y&&s.addChild(R.createPCData("")),i;throw Li.thrown(new _s("Expected >",t,i));case 13:60==v?(o=i-m,E.b+=U.substr(t,m,null==o?null:o),h=R.createPCData(E.b),E=new P,s.addChild(h),++y,p=0,g=2):38==v&&(l=i-m,E.b+=U.substr(t,m,null==l?null:l),p=18,S=13,m=i+1);break;case 14:63==v&&62==t.charCodeAt(i+1)&&(u=U.substr(t,m+1,++i-m-2),s.addChild(R.createProcessingInstruction(u)),++y,p=1);break;case 15:45==v&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(s.addChild(R.createComment(U.substr(t,m,i-m))),++y,i+=2,p=1);break;case 16:91==v?++w:93==v?--w:62==v&&0==w&&(s.addChild(R.createDocType(U.substr(t,m,i-m))),++y,p=1);break;case 17:93==v&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(c=R.createCData(U.substr(t,m,i-m)),s.addChild(c),++y,i+=2,p=1);break;case 18:if(59==v){var A=U.substr(t,m,i-m);if(35==A.charCodeAt(0)){var k=120==A.charCodeAt(1)?I.parseInt("0"+U.substr(A,1,A.length-1)):I.parseInt(U.substr(A,1,A.length-1));E.b+=String.fromCodePoint(k)}else if(Object.prototype.hasOwnProperty.call(rs.escapes.h,A))E.b+=I.string(rs.escapes.h[A]);else{if(e)throw Li.thrown(new _s("Undefined entity: "+A,t,i));E.b+=I.string("&"+A+";")}m=i+1,p=S}else if(!(97<=v&&v<=122||65<=v&&v<=90||48<=v&&v<=57||58==v||46==v||95==v||45==v)&&35!=v){if(e)throw Li.thrown(new _s("Invalid character in entity: "+String.fromCodePoint(v),t,i));E.b+=String.fromCodePoint(38);var C=i-m;E.b+=U.substr(t,m,null==C?null:C),m=--i+1,p=S}}v=t.charCodeAt(++i)}if(1==p&&(m=i,p=13),13==p){if(0!=s.nodeType)return i==m&&0!=y||(T=i-m,E.b+=U.substr(t,m,null==T?null:T),s.addChild(R.createPCData(E.b)),++y),i;if(s.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));throw Li.thrown(new _s("Unclosed node <"+s.nodeName+">",t,i))}if(e||18!=p||13!=S)throw Li.thrown(new _s("Unexpected end",t,i));E.b+=String.fromCodePoint(38);T=i-m;return E.b+=U.substr(t,m,null==T?null:T),s.addChild(R.createPCData(E.b)),++y,i};var as=function(t){this.output=new P,this.pretty=t};(e["haxe.xml.Printer"]=as).__name__="haxe.xml.Printer",as.print=function(t,e){null==e&&(e=!1);var i=new as(e);return i.writeNode(t,""),i.output.b},as.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=I.string(e+"<"),t.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=I.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var s=i.next();this.output.b+=I.string(" "+s+'="');var n=u.htmlEscape(t.get(s),!0);this.output.b+=I.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=R.Document&&t.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));for(var _=0,r=t.children;_<r.length;){var a=r[_++];this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=I.string(e+"</"),t.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=I.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==R.Document||t.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));var o=t.nodeValue;0!=o.length&&(n=e+u.htmlEscape(o),this.output.b+=I.string(n),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=I.string(e+"<![CDATA["),t.nodeType==R.Document||t.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=I.string(t.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==R.Document||t.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));var h=t.nodeValue,l=new RegExp("[\n\r\t]+","g".split("u").join(""));h="\x3c!--"+(h=h.replace(l,""))+"--\x3e",this.output.b+=null==e?"null":""+e;n=u.trim(h);this.output.b+=I.string(n),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==R.Document||t.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=I.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==R.Document||t.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=I.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=R.Document&&t.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));for(_=0,r=t.children;_<r.length;){a=r[_++];this.writeNode(a,e)}}},hasChildren:function(t){if(t.nodeType!=R.Document&&t.nodeType!=R.Element)throw Li.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));for(var e=0,i=t.children;e<i.length;){var s=i[e++];switch(s.nodeType){case 0:case 1:return!0;case 2:case 3:if(s.nodeType==R.Document||s.nodeType==R.Element)throw Li.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(0!=u.ltrim(s.nodeValue).length)return!0}}return!1},__class__:as};var os=function(){};(e["js.Boot"]=os).__name__="js.Boot",os.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;if(null!=e)return e;var i=os.__nativeClassName(t);return null!=i?os.__resolveNativeClass(i):null},os.__string_rec=function(n,_){if(null==n)return"null";if(5<=_.length)return"<...>";var t,e=typeof n;switch("function"==e&&(n.__name__||n.__ename__)&&(e="object"),e){case"function":return"<function>";case"object":if(n.__enum__){var i=T[n.__enum__],s=i.__constructs__[n._hx_index],r=i[s];return r.__params__?(_+="\t",s+"("+function(){for(var t=[],e=0,i=r.__params__;e<i.length;){var s=i[e];e+=1,t.push(os.__string_rec(n[s],_))}return t}().join(",")+")"):s}if(n instanceof Array){var a="[";_+="\t";for(var o=0,h=n.length;o<h;){var l=o++;a+=(0<l?",":"")+os.__string_rec(n[l],_)}return a+="]"}try{t=n.toString}catch(o){return"???"}if(null!=t&&t!=Object.toString&&"function"==typeof t){var u=n.toString();if("[object Object]"!=u)return u}a="{\n";_+="\t";var c=null!=n.hasOwnProperty,d=null;for(d in n)c&&!n.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=a.length&&(a+=", \n"),a+=_+d+" : "+os.__string_rec(n[d],_));return a+="\n"+(_=_.substring(1))+"}";case"string":return n;default:return String(n)}},os.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var _=i[s++];if(_==e||os.__interfLoop(_,e))return!0}return os.__interfLoop(t.__super__,e)},os.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case Rs:return"boolean"==typeof t;case Is:return null!=t;case Ps:return"number"==typeof t;case Us:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(os.__downcastCheck(t,e))return!0}else if("object"==typeof e&&os.__isNativeObj(e)&&t instanceof e)return!0;return e==Ns&&null!=t.__name__?!0:e==Ds&&null!=t.__ename__||null!=t.__enum__&&T[t.__enum__]==e}},os.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&os.__interfLoop(os.getClass(t),e)},os.__implements=function(t,e){return os.__interfLoop(os.getClass(t),e)},os.__cast=function(t,e){if(null==t||os.__instanceof(t,e))return t;throw Li.thrown("Cannot cast "+I.string(t)+" to "+I.string(e))},os.__nativeClassName=function(t){var e=os.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},os.__isNativeObj=function(t){return null!=os.__nativeClassName(t)},os.__resolveNativeClass=function(t){return p[t]};var hs=function(){};(e["js.Browser"]=hs).__name__="js.Browser",hs.getLocalStorage=function(){try{var t,e=window.localStorage;return e.getItem(""),0==e.length&&(t="_hx_"+Math.random(),e.setItem(t,t),e.removeItem(t)),e}catch(t){return null}},hs.getSessionStorage=function(){try{var t,e=window.sessionStorage;return e.getItem(""),0==e.length&&(t="_hx_"+Math.random(),e.setItem(t,t),e.removeItem(t)),e}catch(t){return null}},hs.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw Li.thrown("Unable to create XMLHttpRequest object.")};var ls=function(){};(e["js.Cookie"]=ls).__name__="js.Cookie",ls.set=function(t,e,i,s,n){var _=t+"="+encodeURIComponent(e);null!=i&&(_+=";expires="+new Date((new Date).getTime()+1e3*i).toGMTString()),null!=s&&(_+=";path="+s),null!=n&&(_+=";domain="+n),window.document.cookie=_},ls.all=function(){for(var t=new ts,e=window.document.cookie.split(";"),i=0;i<e.length;){var s=e[i];++i;var n,_=(s=u.ltrim(s)).split("=");_.length<2||(n=decodeURIComponent(_[1].split("+").join(" ")),t.h[_[0]]=n)}return t},ls.get=function(t){return ls.all().h[t]},ls.exists=function(t){var e=ls.all();return Object.prototype.hasOwnProperty.call(e.h,t)},ls.remove=function(t,e,i){ls.set(t,"",-10,e,i)};function us(){}var cs=T["tweezer.EEase"]={__ename__:"tweezer.EEase",__constructs__:["EASE_IN","EASE_IN_OUT","EASE_OUT","EASE_OUT_IN"],EASE_IN:{_hx_index:0,__enum__:"tweezer.EEase",toString:i},EASE_IN_OUT:{_hx_index:1,__enum__:"tweezer.EEase",toString:i},EASE_OUT:{_hx_index:2,__enum__:"tweezer.EEase",toString:i},EASE_OUT_IN:{_hx_index:3,__enum__:"tweezer.EEase",toString:i}},ds=T["tweezer.ETween"]={__ename__:"tweezer.ETween",__constructs__:["BACK","BOUNCE","CIRCULAR","CUBIC","ELASTIC","EXPONENTIAL","LINEAR","QUADRATIC","QUARTIC","QUINTIC","SINE"],BACK:((l=function(t){return{_hx_index:0,p_overshoot:t,__enum__:"tweezer.ETween",toString:i}}).__params__=["p_overshoot"],l),BOUNCE:{_hx_index:1,__enum__:"tweezer.ETween",toString:i},CIRCULAR:{_hx_index:2,__enum__:"tweezer.ETween",toString:i},CUBIC:{_hx_index:3,__enum__:"tweezer.ETween",toString:i},ELASTIC:((l=function(t,e){return{_hx_index:4,p_period:t,p_amplitude:e,__enum__:"tweezer.ETween",toString:i}}).__params__=["p_period","p_amplitude"],l),EXPONENTIAL:{_hx_index:5,__enum__:"tweezer.ETween",toString:i},LINEAR:{_hx_index:6,__enum__:"tweezer.ETween",toString:i},QUADRATIC:{_hx_index:7,__enum__:"tweezer.ETween",toString:i},QUARTIC:{_hx_index:8,__enum__:"tweezer.ETween",toString:i},QUINTIC:{_hx_index:9,__enum__:"tweezer.ETween",toString:i},SINE:{_hx_index:10,__enum__:"tweezer.ETween",toString:i}};(e["tweezer.TweenFactory"]=us).__name__="tweezer.TweenFactory",us.createTweenFunction=function(e,i,s,t,n){switch(null==t&&(t=cs.EASE_IN),null==n&&(n=ds.LINEAR),n._hx_index){case 0:var _=n.p_overshoot;switch(null==_&&(_=1.70158),t._hx_index){case 0:return function(t){return gs.easeIn(t,e,i,s,_)};case 1:return function(t){return gs.easeInOut(t,e,i,s,_)};case 2:return function(t){return gs.easeOut(t,e,i,s,_)};case 3:return function(t){return gs.easeOutIn(t,e,i,s,_)}}break;case 1:switch(t._hx_index){case 0:return function(t){return fs.easeIn(t,e,i,s)};case 1:return function(t){return fs.easeInOut(t,e,i,s)};case 2:return function(t){return fs.easeOut(t,e,i,s)};case 3:return function(t){return fs.easeOutIn(t,e,i,s)}}break;case 2:switch(t._hx_index){case 0:return function(t){return ms.easeIn(t,e,i,s)};case 1:return function(t){return ms.easeInOut(t,e,i,s)};case 2:return function(t){return ms.easeOut(t,e,i,s)};case 3:return function(t){return ms.easeOutIn(t,e,i,s)}}break;case 3:switch(t._hx_index){case 0:return function(t){return ys.easeIn(t,e,i,s)};case 1:return function(t){return ys.easeInOut(t,e,i,s)};case 2:return function(t){return ys.easeOut(t,e,i,s)};case 3:return function(t){return ys.easeOutIn(t,e,i,s)}}break;case 4:var r=n.p_amplitude,a=n.p_period;switch(null==a&&(a=.3*s*(t==cs.EASE_IN_OUT?1.5:1)),null==r&&(r=0),t._hx_index){case 0:return function(t){return ws.easeIn(t,e,i,s,a,r)};case 1:return function(t){return ws.easeInOut(t,e,i,s,a,r)};case 2:return function(t){return ws.easeOut(t,e,i,s,a,r)};case 3:return function(t){return ws.easeOutIn(t,e,i,s,a,r)}}break;case 5:switch(t._hx_index){case 0:return function(t){return vs.easeIn(t,e,i,s)};case 1:return function(t){return vs.easeInOut(t,e,i,s)};case 2:return function(t){return vs.easeOut(t,e,i,s)};case 3:return function(t){return vs.easeOutIn(t,e,i,s)}}break;case 6:return function(t){return Es.ease(t,e,i,s)};case 7:switch(t._hx_index){case 0:return function(t){return Ss.easeIn(t,e,i,s)};case 1:return function(t){return Ss.easeInOut(t,e,i,s)};case 2:return function(t){return Ss.easeOut(t,e,i,s)};case 3:return function(t){return Ss.easeOutIn(t,e,i,s)}}break;case 8:switch(t._hx_index){case 0:return function(t){return xs.easeIn(t,e,i,s)};case 1:return function(t){return xs.easeInOut(t,e,i,s)};case 2:return function(t){return xs.easeOut(t,e,i,s)};case 3:return function(t){return xs.easeOutIn(t,e,i,s)}}break;case 9:switch(t._hx_index){case 0:return function(t){return Ts.easeIn(t,e,i,s)};case 1:return function(t){return Ts.easeInOut(t,e,i,s)};case 2:return function(t){return Ts.easeOut(t,e,i,s)};case 3:return function(t){return Ts.easeOutIn(t,e,i,s)}}break;case 10:switch(t._hx_index){case 0:return function(t){return bs.easeIn(t,e,i,s)};case 1:return function(t){return bs.easeInOut(t,e,i,s)};case 2:return function(t){return bs.easeOut(t,e,i,s)};case 3:return function(t){return bs.easeOutIn(t,e,i,s)}}}};var ps=function(t,e,i,s,n,_,r,a,o,h,l){null==r&&(r=0),null==_&&(_=1e3),null==n&&(n=0),this._updateCallback=e,this._startValue=i,this._endValue=s,this._startDelay=n,this._duration=_,this._endDelay=r,this._easeType=a,this._tweenType=o,this._completeCallback=h,this._isSnap=l,y.call(this,t),this._updater(),this._updates=0};(e["tweezer.Tweezer"]=ps).__name__="tweezer.Tweezer",ps.__super__=y,ps.prototype=t(y.prototype,{_init:function(){y.prototype._init.call(this),this._tweenFunction=us.createTweenFunction(this._startValue,this._endValue-this._startValue,this._duration,this._easeType,this._tweenType)},_updater:function(t){var e;null==t&&(t=0),y.prototype._updater.call(this,t),null!=this._updateCallback&&(e=this._tweenFunction(Math.min(Math.max(0,this._age-this._startDelay),this._duration)),this._updateCallback(this._isSnap?Math.round(e):e)),this._age>=this._startDelay+this._duration+this._endDelay&&(null!=this._completeCallback&&this._completeCallback(),this.isDisposed||(this.isDisposed=!0,this.set_isActive(!1),this._disposer()))},__class__:ps});var gs=function(){};(e["tweezer.tweens.Back"]=gs).__name__="tweezer.tweens.Back",gs.easeIn=function(t,e,i,s,n){return i*(t/=s)*t*((n+1)*t-n)+e},gs.easeOut=function(t,e,i,s,n){return i*((t=t/s-1)*t*((n+1)*t+n)+1)+e},gs.easeInOut=function(t,e,i,s,n){return(t/=s/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},gs.easeOutIn=function(t,e,i,s,n){return t<s/2?gs.easeOut(2*t,e,i/2,s,n):gs.easeIn(2*t-s,e+i/2,i/2,s,n)};var fs=function(){};(e["tweezer.tweens.Bounce"]=fs).__name__="tweezer.tweens.Bounce",fs.easeIn=function(t,e,i,s){return i-fs.easeOut(s-t,0,i,s)+e},fs.easeOut=function(t,e,i,s){return(t/=s)<.36363636363636365?i*(7.5625*t*t)+e:t<.7272727272727273?i*(7.5625*(t-=.5454545454545454)*t+.75)+e:t<.9090909090909091?i*(7.5625*(t-=.8181818181818182)*t+.9375)+e:i*(7.5625*(t-=.9545454545454546)*t+.984375)+e},fs.easeInOut=function(t,e,i,s){return t<s/2?.5*fs.easeIn(2*t,0,i,s)+e:.5*fs.easeOut(2*t-s,0,i,s)+.5*i+e},fs.easeOutIn=function(t,e,i,s){return t<s/2?fs.easeOut(2*t,e,i/2,s):fs.easeIn(2*t-s,e+i/2,i/2,s)};var ms=function(){};(e["tweezer.tweens.Circular"]=ms).__name__="tweezer.tweens.Circular",ms.easeIn=function(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},ms.easeOut=function(t,e,i,s){return t=t/s-1,i*Math.sqrt(1-t*t)+e},ms.easeInOut=function(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},ms.easeOutIn=function(t,e,i,s){return t<s/2?ms.easeOut(2*t,e,i/2,s):ms.easeIn(2*t-s,e+i/2,i/2,s)};var ys=function(){};(e["tweezer.tweens.Cubic"]=ys).__name__="tweezer.tweens.Cubic",ys.easeIn=function(t,e,i,s){return i*(t/=s)*t*t+e},ys.easeOut=function(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e},ys.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},ys.easeOutIn=function(t,e,i,s){return t<s/2?ys.easeOut(2*t,e,i/2,s):ys.easeIn(2*t-s,e+i/2,i/2,s)};var ws=function(){};(e["tweezer.tweens.Elastic"]=ws).__name__="tweezer.tweens.Elastic",ws.easeIn=function(t,e,i,s,n,_){if(0==t)return e;if(1==(t/=s))return e+i;var r=0==_||_<Math.abs(i)?(_=i,n/4):n/(2*Math.PI)*Math.asin(i/_);return-(_*Math.pow(2,10*--t)*Math.sin((t*s-r)*(2*Math.PI)/n))+e},ws.easeOut=function(t,e,i,s,n,_){if(0==t)return e;if(1==(t/=s))return e+i;var r=0==_||_<Math.abs(i)?(_=i,n/4):n/(2*Math.PI)*Math.asin(i/_);return _*Math.pow(2,-10*t)*Math.sin((t*s-r)*(2*Math.PI)/n)+i+e},ws.easeInOut=function(t,e,i,s,n,_){if(0==t)return e;if(2==(t/=s/2))return e+i;var r=0==_||_<Math.abs(i)?(_=i,n/4):n/(2*Math.PI)*Math.asin(i/_);return t<1?_*Math.pow(2,10*--t)*Math.sin((t*s-r)*(2*Math.PI)/n)*-.5+e:_*Math.pow(2,-10*--t)*Math.sin((t*s-r)*(2*Math.PI)/n)*.5+i+e},ws.easeOutIn=function(t,e,i,s,n,_){return t<s/2?ws.easeOut(2*t,e,i/2,s,n,_):ws.easeIn(2*t-s,e+i/2,i/2,s,n,_)};var vs=function(){};(e["tweezer.tweens.Exponential"]=vs).__name__="tweezer.tweens.Exponential",vs.easeIn=function(t,e,i,s){return 0==t?e:i*Math.pow(2,10*(t/s-1))+e-.001*i},vs.easeOut=function(t,e,i,s){return t==s?e+i:1.001*i*(1-Math.pow(2,-10*t/s))+e},vs.easeInOut=function(t,e,i,s){return 0==t?e:t==s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e-5e-4*i:i/2*1.0005*(2-Math.pow(2,-10*--t))+e},vs.easeOutIn=function(t,e,i,s){return t<s/2?vs.easeOut(2*t,e,i/2,s):vs.easeIn(2*t-s,e+i/2,i/2,s)};var Es=function(){};(e["tweezer.tweens.Linear"]=Es).__name__="tweezer.tweens.Linear",Es.ease=function(t,e,i,s){return i*t/s+e};var Ss=function(){};(e["tweezer.tweens.Quadratic"]=Ss).__name__="tweezer.tweens.Quadratic",Ss.easeIn=function(t,e,i,s){return i*(t/=s)*t+e},Ss.easeOut=function(t,e,i,s){return-i*(t/=s)*(t-2)+e},Ss.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},Ss.easeOutIn=function(t,e,i,s){return t<s/2?Ss.easeOut(2*t,e,i/2,s):Ss.easeIn(2*t-s,e+i/2,i/2,s)};var xs=function(){};(e["tweezer.tweens.Quartic"]=xs).__name__="tweezer.tweens.Quartic",xs.easeIn=function(t,e,i,s){return i*(t/=s)*t*t*t+e},xs.easeOut=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},xs.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},xs.easeOutIn=function(t,e,i,s){return t<s/2?xs.easeOut(2*t,e,i/2,s):xs.easeIn(2*t-s,e+i/2,i/2,s)};var Ts=function(){};(e["tweezer.tweens.Quintic"]=Ts).__name__="tweezer.tweens.Quintic",Ts.easeIn=function(t,e,i,s){return i*(t/=s)*t*t*t*t+e},Ts.easeOut=function(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e},Ts.easeInOut=function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Ts.easeOutIn=function(t,e,i,s){return t<s/2?Ts.easeOut(2*t,e,i/2,s):Ts.easeIn(2*t-s,e+i/2,i/2,s)};var bs=function(){};function As(t){return t instanceof Array?new ns(t):t.iterator()}function ks(t,e){return null==e?null:(null==e.__id__&&(e.__id__=p.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&(i=e.bind(t),t.hx__closures__[e.__id__]=i),i);var i}(e["tweezer.tweens.Sine"]=bs).__name__="tweezer.tweens.Sine",bs.easeIn=function(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e},bs.easeOut=function(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e},bs.easeInOut=function(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e},bs.easeOutIn=function(t,e,i,s){return t<s/2?bs.easeOut(2*t,e,i/2,s):bs.easeIn(2*t-s,e+i/2,i/2,s)},p.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(U.now=performance.now.bind(performance)),e.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=e.String=String,String.__name__="String",e.Array=Array,Array.__name__="Array",Date.prototype.__class__=e.Date=Date,Date.__name__="Date";var Cs,Us={},Is={},Ps=Number,Rs=Boolean,Ns={},Ds={};Fi.content=[{name:"revision",data:"MjkNCjIwMjAvMTEvMTggMTQ6NTk6MjMNCg"},{name:"config",data:"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxkYXRhPg0KCTxzZXR0aW5ncz4NCgkJPGFzc2V0cz4NCgkJCTxwYWNrYWdlcyBkZWZhdWx0PSJhc3NldHMiIGF1ZGlvPSJhc3NldHMuYXVkaW8iIC8+DQoJCTwvYXNzZXRzPg0KCQk8Zm9udCBuYW1lPSJleG8yLWV4dHJhYm9sZGl0YWxpYy13ZWJmb250IiAvPg0KCQk8YXNjaWlBcnQ+DQogICBfX18gX19fX19fX18gX19fXyAgIF9fX19fX19fX19fX19fX19fX19fX19fICBfXyBfX19fX19fX18gIF9fX18gDQogIC8gXyAvXyAgX18vIC8vIC8gLyAgLyBfXy9fICBfXy8gIF8vIF9fXy8gX18vIC8gLy8gLyBfXy8gXyBcLyBfXyBcDQogLyBfXyB8LyAvIC8gXyAgLyAvX18vIF8vICAvIC8gXy8gLy8gL19fX1wgXCAgLyBfICAvIF8vLyAsIF8vIC9fLyAvDQovXy8gfF8vXy8gL18vL18vX19fXy9fX18vIC9fLyAvX19fL1xfX18vX19fLyAvXy8vXy9fX18vXy98X3xcX19fXy8gDQoNCgkJPC9hc2NpaUFydD4NCgkJPHVybHM+DQoJCQk8YXV0aG9yPmh0dHBzOi8vYjEwYi5jb208L2F1dGhvcj4NCgkJCTx3ZWJzaXRlPmh0dHBzOi8vYjEwYi5jb208L3dlYnNpdGU+DQoJCTwvdXJscz4NCgkJPGdvb2dsZUFuYWx5dGljcyBpZD0iVUEtMjI0MDYzMzctNDIiIGVuYWJsZWQ9ImZhbHNlIiAvPg0KCQk8YXVkaW9Ib2xkRGVsYXk+NTAwMDwvYXVkaW9Ib2xkRGVsYXk+DQoJCTxvdmVycmlkZURlZmF1bHRVbml0U3RhdHMgc2FmZXR5PSJ0cnVlIiB2YWx1ZT0iMyIgLz4NCgkJPG92ZXJyaWRlRGVmYXVsdFF1aWNrcyBzYWZldHk9InRydWUiIHZhbHVlU3ByaW50PSJSIiB2YWx1ZVRocm93PSJSIiB2YWx1ZUp1bXA9IkwsUiIgcmFuZG9tPSJmYWxzZSIgLz4NCgk8L3NldHRpbmdzPg0KCTxndWk+DQoJCTxhdWRpb0hvbGRNZXNzYWdlPlBSRVNTIFRPIENPTlRJTlVFPC9hdWRpb0hvbGRNZXNzYWdlPg0KCQk8YnV0dG9ucz4NCgkJCTx3ZWJzaXRlPk1vcmUgZ2FtZXM8L3dlYnNpdGU+DQoJCQk8aW5zdHJ1Y3Rpb25zPkhvdyB0byBwbGF5PC9pbnN0cnVjdGlvbnM+DQoJCQk8cGxheT5QbGF5IG5vdzwvcGxheT4NCgkJCTxhdmF0YXI+Q2hhbmdlIGhlcm88L2F2YXRhcj4NCgkJCTxzZWxlY3RMZXZlbD5TdGFydCBtYXRjaDwvc2VsZWN0TGV2ZWw+DQoJCQk8cmVwbGF5PlBsYXkgYWdhaW48L3JlcGxheT4NCgkJCTxjb250aW51ZT5Db250aW51ZTwvY29udGludWU+DQoJCQk8ZmluaXNoZWQ+R2FtZSBvdmVyPC9maW5pc2hlZD4NCgkJCTxyZXNldD5SZXNldCBIZXJvPC9yZXNldD4NCgkJCTxidXk+QnV5PC9idXk+DQoJCQk8dW5wYXVzZT5SZXN1bWU8L3VucGF1c2U+DQoJCQk8YXVkaW9Pbj5Tb3VuZCBPbjwvYXVkaW9Pbj4NCgkJCTxhdWRpb09mZj5Tb3VuZCBPZmY8L2F1ZGlvT2ZmPg0KCQkJPGZ1bGxTY3JlZW5Pbj5GdWxsIHNjcmVlbjwvZnVsbFNjcmVlbk9uPg0KCQkJPGZ1bGxTY3JlZW5PZmY+RXhpdCBmdWxsIHNjcmVlbjwvZnVsbFNjcmVlbk9mZj4NCgkJCTxiYWNrPk1haW4gbWVudTwvYmFjaz4NCgkJCTx0ZXN0TW9kZT4NCgkJCQk8YnJvbnplPkJyb256ZTwvYnJvbnplPg0KCQkJCTxzaWx2ZXI+U2lsdmVyPC9zaWx2ZXI+DQoJCQkJPGdvbGQ+R29sZDwvZ29sZD4NCgkJCTwvdGVzdE1vZGU+DQoJCQk8YXZhdGFycz4NCgkJCQk8dW5pdEE+TWVuPC91bml0QT4NCgkJCQk8dW5pdEI+V29tZW48L3VuaXRCPg0KCQkJPC9hdmF0YXJzPg0KCQkJPGxldmVscz4NCgkJCQk8bGV2ZWwxPkJlZ2lubmVyPC9sZXZlbDE+DQoJCQkJPGxldmVsMj5Ob3JtYWw8L2xldmVsMj4NCgkJCQk8bGV2ZWwzPkV4cGVydDwvbGV2ZWwzPg0KCQkJPC9sZXZlbHM+DQoJCTwvYnV0dG9ucz4NCgkJPHVwZ3JhZGVzPg0KCQkJPG1vdmVtZW50PlNwZWVkPC9tb3ZlbWVudD4NCgkJCTx0aW1pbmc+VGltaW5nPC90aW1pbmc+DQoJCQk8cG93ZXI+UG93ZXI8L3Bvd2VyPg0KCQkJPHN0YW1pbmE+U3RhbWluYTwvc3RhbWluYT4NCgkJPC91cGdyYWRlcz4NCgkJPG1lZGFscz4NCgkJCTxub25lPlJlc3BlY3Q8L25vbmU+DQoJCQk8YnJvbnplPkJyb256ZTwvYnJvbnplPg0KCQkJPHNpbHZlcj5TaWx2ZXI8L3NpbHZlcj4NCgkJCTxnb2xkPkdvbGQ8L2dvbGQ+DQoJCTwvbWVkYWxzPg0KCQk8bGV2ZWxzPg0KCQkJPGxldmVsMT4xMDBtIFNwcmludDwvbGV2ZWwxPg0KCQkJPGxldmVsMj5KYXZlbGluIFRocm93PC9sZXZlbDI+DQoJCQk8bGV2ZWwzPlRyaXBsZSBKdW1wPC9sZXZlbDM+DQoJCTwvbGV2ZWxzPg0KCQk8dW5pdHM+DQoJCQk8dW5pdEEgdGl0bGU9Ik1lbiIgc3VidGl0bGU9IlRlYW0iIC8+DQoJCQk8dW5pdEIgdGl0bGU9IldvbWVuIiBzdWJ0aXRsZT0iVGVhbSIgLz4NCgkJPC91bml0cz4NCgkJPHNjZW5lcz4NCgkJCTxtZW51Pg0KCQkJCTx0aXRsZT5BdGhsZXRpY3MgSGVybzwvdGl0bGU+DQoJCQkJPHN1YnRpdGxlPlN1bW1lciBTcG9ydHM8L3N1YnRpdGxlPg0KCQkJPC9tZW51Pg0KCQkJPGluc3RydWN0aW9ucz4NCgkJCQk8dGl0bGU+SG93IHRvIHBsYXk8L3RpdGxlPg0KCQkJCTxtZXNzYWdlPjwhW0NEQVRBW0Nob29zZSB5b3VyIGhlcm8gYW5kIGNvbXBldGUgaW4gdGhlIDEwMG0sIEphdmVsaW4gYW5kIFRyaXBsZSBKdW1wLjxici8+PGJyLz5UYXAgdGhlIHByb21wdHMgdG8gdGltZSB5b3VyIG1vdmVzIHRvIHBlcmZlY3Rpb24uICBUaHJvdyBhbmQganVtcCBieSBob2xkaW5nIGFuZCByZWxlYXNpbmcgd2hlbiB0aGUgcG93ZXIgYmFyIGlzIG1heGVkIC0gYXZvaWQgb3ZlciBwb3dlcmluZyE8YnIvPjxici8+V2lsbCB5b3Ugd2luIGEgR29sZCBNZWRhbCBhY3Jvc3MgYWxsIGV2ZW50cz9dXT48L21lc3NhZ2U+DQoJCQk8L2luc3RydWN0aW9ucz4NCgkJCTxhdmF0YXI+DQoJCQkJPHRpdGxlPlNlbGVjdCBoZXJvPC90aXRsZT4NCgkJCTwvYXZhdGFyPg0KCQkJPHNlbGVjdExldmVsPg0KCQkJCTx0aXRsZT5TZWxlY3QgYXRobGV0aWNzIGV2ZW50PC90aXRsZT4NCgkJCQk8bWVzc2FnZU5ldz5QbGF5IHRvIHdpbiBhIG1lZGFsPC9tZXNzYWdlTmV3Pg0KCQkJCTxtZXNzYWdlTG9ja2VkPlBsYXkgX19QUkVWSU9VU19MRVZFTF9fIHRvIHVubG9jazwvbWVzc2FnZUxvY2tlZD4NCgkJCQk8bmV3Pk5ldzwvbmV3Pg0KCQkJCTxsb2NrZWQ+TG9ja2VkPC9sb2NrZWQ+DQoJCQk8L3NlbGVjdExldmVsPg0KCQkJPGdhbWU+DQoJCQkJPGh1ZD4NCgkJCQkJPGNvaW5zPkNvaW5zPC9jb2lucz4NCgkJCQkJPHRhcmdldHM+DQoJCQkJCQk8ZGlzdGFuY2U+RGlzdGFuY2UgdG8gYmVhdDwvZGlzdGFuY2U+DQoJCQkJCQk8dGltZT5UaW1lIHRvIGJlYXQ8L3RpbWU+DQoJCQkJCTwvdGFyZ2V0cz4NCgkJCQkJPGN1cnJlbnQ+DQoJCQkJCQk8ZGlzdGFuY2U+Q3VycmVudCBkaXN0YW5jZTwvZGlzdGFuY2U+DQoJCQkJCQk8dGltZT5DdXJyZW50IHRpbWU8L3RpbWU+DQoJCQkJCTwvY3VycmVudD4NCgkJCQkJPGFsZXJ0cz4NCgkJCQkJCTxzcHJpbnQ+DQoJCQkJCQkJPHNldD5TZXQ8L3NldD4NCgkJCQkJCQk8Z28+R28hPC9nbz4NCgkJCQkJCTwvc3ByaW50Pg0KCQkJCQkJPHRocm93Pg0KCQkJCQkJCTxzdGFydD5TdGFydCE8L3N0YXJ0Pg0KCQkJCQkJPC90aHJvdz4NCgkJCQkJCTxqdW1wPg0KCQkJCQkJCTxzdGFydD5TdGFydCE8L3N0YXJ0Pg0KCQkJCQkJPC9qdW1wPg0KCQkJCQk8L2FsZXJ0cz4NCgkJCQkJPHByb21wdHM+DQoJCQkJCQk8cXVpY2s+VGFwIFRvIFJ1bjwvcXVpY2s+DQoJCQkJCQk8c2tpbGw+DQoJCQkJCQkJPGhvbGQ+SG9sZCBGb3IgUG93ZXI8L2hvbGQ+DQoJCQkJCQkJPHJlbGVhc2VUaHJvdz5SZWxlYXNlIFRvIFRocm93PC9yZWxlYXNlVGhyb3c+DQoJCQkJCQkJPHJlbGVhc2VKdW1wPlJlbGVhc2UgVG8gSnVtcDwvcmVsZWFzZUp1bXA+DQoJCQkJCQk8L3NraWxsPg0KCQkJCQk8L3Byb21wdHM+DQoJCQkJPC9odWQ+DQoJCQk8L2dhbWU+DQoJCQk8cmVzdWx0cz4NCgkJCQk8dGl0bGU+UmVzdWx0czwvdGl0bGU+DQoJCQkJPG1lc3NhZ2U+WW91IHdvbjwvbWVzc2FnZT4NCgkJCTwvcmVzdWx0cz4NCgkJCTxzaG9wPg0KCQkJCTx0aXRsZT5UcmFpbiB5b3VyIGhlcm88L3RpdGxlPg0KCQkJCTxtYXhlZD5NYXhlZDwvbWF4ZWQ+DQoJCQk8L3Nob3A+DQoJCTwvc2NlbmVzPg0KCTwvZ3VpPg0KPC9kYXRhPg0K"}],$i.count=0,os.__toStr={}.toString,R.Element=0,R.PCData=1,R.CData=2,R.Comment=3,R.DocType=4,R.ProcessingInstruction=5,R.Document=6,Oi.USE_CACHE=!1,Oi.USE_ENUM_INDEX=!1,Oi.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Vi.DEFAULT_RESOLVER=new Hi,Vi.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ki.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ki.BYTES=ji.ofString(Ki.CHARS),rs.escapes=((Cs=new ts).h.lt="<",Cs.h.gt=">",Cs.h.amp="&",Cs.h.quot='"',Cs.h.apos="'",Cs),de.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);